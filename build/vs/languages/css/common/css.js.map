{"version":3,"sources":["fake","file:///C:/REPOS/monaco/vscode/src/vs/languages/css/common/cssTokenTypes.ts","file:///C:/REPOS/monaco/vscode/src/vs/languages/css/common/css.ts"],"names":[],"mappings":"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","file":"vs/languages/css/common/css.js","sourcesContent":["}).call(this);","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\n\r\nexport const TOKEN_SELECTOR = 'entity.name.selector';\r\nexport const TOKEN_SELECTOR_TAG = 'entity.name.tag';\r\nexport const TOKEN_PROPERTY =  'support.type.property-name';\r\nexport const TOKEN_VALUE =  'support.property-value';\r\nexport const TOKEN_AT_KEYWORD = 'keyword.control.at-rule';\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\n\r\nimport WinJS = require('vs/base/common/winjs.base');\r\nimport objects = require('vs/base/common/objects');\r\nimport URI from 'vs/base/common/uri';\r\nimport editorCommon = require('vs/editor/common/editorCommon');\r\nimport modes = require('vs/editor/common/modes');\r\nimport {OneWorkerAttr, AllWorkersAttr} from 'vs/platform/thread/common/threadService';\r\nimport cssWorker = require('vs/languages/css/common/cssWorker');\r\nimport cssTokenTypes = require('vs/languages/css/common/cssTokenTypes');\r\nimport {AbstractMode, ModeWorkerManager} from 'vs/editor/common/modes/abstractMode';\r\nimport {AbstractState} from 'vs/editor/common/modes/abstractState';\r\nimport {IMarker} from 'vs/platform/markers/common/markers';\r\nimport {IInstantiationService} from 'vs/platform/instantiation/common/instantiation';\r\nimport {IThreadService, ThreadAffinity} from 'vs/platform/thread/common/thread';\r\nimport {LanguageConfigurationRegistry, LanguageConfiguration} from 'vs/editor/common/modes/languageConfigurationRegistry';\r\nimport {TokenizationSupport} from 'vs/editor/common/modes/supports/tokenizationSupport';\r\nimport {wireCancellationToken} from 'vs/base/common/async';\r\n\r\nexport enum States {\r\n\tSelector,\r\n\tRule,\r\n\tValue,\r\n\tValuePostUrl,\r\n\tValueInUrlFunction,\r\n\tUnit,\r\n\tMeta,\r\n\tMetaPostUrl,\r\n\tMetaInUrlFunction,\r\n}\r\n\r\nexport { cssTokenTypes };\r\n\r\nvar identRegEx = /^-?-?([a-zA-Z]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))([\\w\\-]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))*/;\r\n\r\nexport class State extends AbstractState {\r\n\r\n\tpublic kind:States;\r\n\tpublic inComment:boolean;\r\n\tpublic quote:string;\r\n\tpublic inMeta:boolean;\r\n\tpublic metaBraceCount: number;\r\n\r\n\tconstructor(mode:modes.IMode, kind:States, inComment:boolean, quote:string, inMeta:boolean, metaBraceCount: number) {\r\n\t\tsuper(mode);\r\n\t\tthis.kind = kind;\r\n\t\tthis.inComment = inComment;\r\n\t\tthis.quote = quote;\r\n\t\tthis.inMeta = inMeta;\r\n\t\tthis.metaBraceCount = metaBraceCount;\r\n\t}\r\n\r\n\tprivate nextState(next:States, token:modes.ITokenizationResult):modes.ITokenizationResult {\r\n\t\tthis.kind = next;\r\n\t\treturn token;\r\n\t}\r\n\r\n\tpublic makeClone():State {\r\n\t\treturn new State(this.getMode(), this.kind, this.inComment, this.quote, this.inMeta, this.metaBraceCount);\r\n\t}\r\n\r\n\tpublic equals(other:modes.IState):boolean {\r\n\t\treturn super.equals(other) && objects.equals(this, other);\r\n\t}\r\n\r\n\tprivate tokenizeInComment(stream:modes.IStream):modes.ITokenizationResult {\r\n\t\tif (/\\*\\/$/.test(stream.advanceUntilString('*/', true))) {\r\n\t\t\tthis.inComment = false;\r\n\t\t}\r\n\t\treturn { type:'comment.css' };\r\n\t}\r\n\r\n\tprivate tokenizeInString(stream:modes.IStream):modes.ITokenizationResult {\r\n\t\tvar ch:string, afterBackslash = false, quote = this.quote;\r\n\r\n\t\twhile (!stream.eos()) {\r\n\t\t\tch = stream.next();\r\n\r\n\t\t\tif (afterBackslash) {\r\n\t\t\t\t// Ignore any character after \\\r\n\t\t\t\tafterBackslash = false;\r\n\t\t\t} else if (ch === '\\\\') {\r\n\t\t\t\t// Mark next character for ignoring\r\n\t\t\t\tafterBackslash = true;\r\n\t\t\t} else if (ch === quote) {\r\n\t\t\t\t// Matching quote found\r\n\t\t\t\tthis.quote = null;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn { type:'string.css' };\r\n\t}\r\n\r\n\tprivate consumeIdent(stream:modes.IStream) {\r\n\t\tstream.goBack(1);\r\n\t\tif (stream.advanceIfRegExp2(identRegEx)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tstream.advance(1);\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic tokenize(stream:modes.IStream):modes.ITokenizationResult {\r\n\t\tif (this.inComment) {\r\n\t\t\treturn this.tokenizeInComment(stream);\r\n\t\t}\r\n\t\tif (this.quote !== null) {\r\n\t\t\treturn this.tokenizeInString(stream);\r\n\t\t}\r\n\t\tif (stream.skipWhitespace2()) {\r\n\t\t\treturn { type:'' };\r\n\t\t}\r\n\t\tif (stream.advanceIfString2('/*')) {\r\n\t\t\tthis.inComment = true;\r\n\t\t\treturn this.tokenizeInComment(stream);\r\n\t\t}\r\n\t\tif (stream.advanceIfString2('\\'')) {\r\n\t\t\tthis.quote = '\\'';\r\n\t\t\treturn this.tokenizeInString(stream);\r\n\t\t}\r\n\t\tif (stream.advanceIfString2('\\\"')) {\r\n\t\t\tthis.quote = '\\\"';\r\n\t\t\treturn this.tokenizeInString(stream);\r\n\t\t}\r\n\r\n\t\tvar ch = stream.next();\r\n\r\n\t\t// These states can immediately transition to States.Value or Meta (without consuming ch), that's why they're handled above the switch stmt.\r\n\t\tswitch (this.kind) {\r\n\t\t\tcase States.ValuePostUrl:\r\n\t\t\t\tif (ch === '(') {\r\n\t\t\t\t\treturn this.nextState(States.ValueInUrlFunction, { type: 'punctuation.parenthesis.css' });\r\n\t\t\t\t}\r\n\t\t\t\tthis.kind = States.Value;\r\n\t\t\t\tbreak;\r\n\t\t\tcase States.MetaPostUrl:\r\n\t\t\t\tif (ch === '(') {\r\n\t\t\t\t\treturn this.nextState(States.MetaInUrlFunction, { type: 'punctuation.parenthesis.css' });\r\n\t\t\t\t}\r\n\t\t\t\tthis.kind = States.Meta;\r\n\t\t\t\tbreak;\r\n\t\t\tcase States.ValueInUrlFunction:\r\n\t\t\tcase States.MetaInUrlFunction:\r\n\t\t\t\t// This state is after 'url(' was encountered in the value\r\n\t\t\t\tif (ch !== ')') {\r\n\t\t\t\t\tstream.advanceIfRegExp2(/^[^\\)]*/);\r\n\t\t\t\t\treturn { type: 'string.css' };\r\n\t\t\t\t}\r\n\t\t\t\tthis.kind = (this.kind === States.ValueInUrlFunction) ? States.Value : States.Meta;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tswitch (this.kind) {\r\n\t\t\tcase States.Selector:\r\n\t\t\t\tif (ch === '{') {\r\n\t\t\t\t\treturn this.nextState(States.Rule, { type: 'punctuation.bracket.css' });\r\n\t\t\t\t}\r\n\t\t\t\tif (ch === '(' || ch === ')') {\r\n\t\t\t\t\treturn { type: 'punctuation.parenthesis.css' };\r\n\t\t\t\t}\r\n\t\t\t\tif (ch === '@' && !this.inMeta) {  //@import, @media, @key-word-animation\r\n\t\t\t\t\tstream.advanceIfRegExp2(identRegEx);\r\n\t\t\t\t\treturn this.nextState(States.Meta, { type: cssTokenTypes.TOKEN_AT_KEYWORD + '.css' });\r\n\t\t\t\t}\r\n\t\t\t\tif (ch === '}' && this.inMeta) {  //@import, @media, @key-word-animation\r\n\t\t\t\t\tthis.inMeta = false;\r\n\t\t\t\t\treturn this.nextState(States.Selector, { type: 'punctuation.bracket.css' });\r\n\t\t\t\t}\r\n\t\t\t\tif (/[\\*\\(\\)\\[\\]\\+>=\\~\\|;]/.test(ch)) {\r\n\t\t\t\t\treturn { type: 'punctuation.css' };\r\n\t\t\t\t}\r\n\t\t\t\tif (ch === '#') {\r\n\t\t\t\t\tstream.advanceIfRegExp2(identRegEx);\r\n\t\t\t\t\treturn { type: cssTokenTypes.TOKEN_SELECTOR + '.id.css' };\r\n\t\t\t\t}\r\n\t\t\t\tif (ch === '.') {\r\n\t\t\t\t\tstream.advanceIfRegExp2(identRegEx);\r\n\t\t\t\t\treturn { type: cssTokenTypes.TOKEN_SELECTOR + '.class.css' };\r\n\t\t\t\t}\r\n\t\t\t\tthis.consumeIdent(stream);\r\n\t\t\t\treturn { type: cssTokenTypes.TOKEN_SELECTOR_TAG + '.css' };\r\n\r\n\t\t\tcase States.Meta:\r\n\t\t\t\tif (ch === '{') {\r\n\t\t\t\t\tvar nextState = States.Rule;\r\n\t\t\t\t\tif (this.inMeta) {\r\n\t\t\t\t\t\tnextState = States.Selector;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this.nextState(nextState, { type: 'punctuation.bracket.css' });\r\n\t\t\t\t}\r\n\t\t\t\tif (ch === '(' || ch === ')') {\r\n\t\t\t\t\treturn { type: 'punctuation.parenthesis.css' };\r\n\t\t\t\t}\r\n\t\t\t\tif (ch === ';') {\r\n\t\t\t\t\tif (this.metaBraceCount === 0) {\r\n\t\t\t\t\t\tthis.inMeta = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this.nextState(States.Selector, { type: 'punctuation.css' });\r\n\t\t\t\t}\r\n\t\t\t\tif ((ch === 'u' || ch === 'U') && stream.advanceIfStringCaseInsensitive2('rl')) {\r\n\t\t\t\t\tstream.advanceIfStringCaseInsensitive2('-prefix'); // support 'url-prefix' (part of @-mox-document)\r\n\t\t\t\t\treturn this.nextState(States.MetaPostUrl, { type: cssTokenTypes.TOKEN_VALUE + '.css' });\r\n\t\t\t\t}\r\n\t\t\t\tif (/[\\*\\(\\)\\[\\]\\+>=\\~\\|]/.test(ch)) {\r\n\t\t\t\t\treturn { type: 'punctuation.css' };\r\n\t\t\t\t}\r\n\t\t\t\tthis.inMeta = true;\r\n\t\t\t\tthis.consumeIdent(stream);\r\n\t\t\t\treturn { type: cssTokenTypes.TOKEN_VALUE + '.css' };\r\n\r\n\t\t\tcase States.Rule:\r\n\t\t\t\tif (ch === '}') {\r\n\t\t\t\t\treturn this.nextState(States.Selector, { type: 'punctuation.bracket.css' });\r\n\t\t\t\t}\r\n\t\t\t\tif (ch === ':') {\r\n\t\t\t\t\treturn this.nextState(States.Value, { type: 'punctuation.css' });\r\n\t\t\t\t}\r\n\t\t\t\tif (ch === '(' || ch === ')') {\r\n\t\t\t\t\treturn { type: 'punctuation.parenthesis.css' };\r\n\t\t\t\t}\r\n\t\t\t\tthis.consumeIdent(stream);\r\n\t\t\t\treturn { type: cssTokenTypes.TOKEN_PROPERTY + '.css' };\r\n\r\n\t\t\tcase States.Value:\r\n\t\t\t\tif (ch === '}') {\r\n\t\t\t\t\treturn this.nextState(States.Selector, { type: 'punctuation.bracket.css' });\r\n\t\t\t\t}\r\n\t\t\t\tif (ch === ';') {\r\n\t\t\t\t\treturn this.nextState(States.Rule, { type: 'punctuation.css' });\r\n\t\t\t\t}\r\n\t\t\t\tif ((ch === 'u' || ch === 'U') && stream.advanceIfStringCaseInsensitive2('rl')) {\r\n\t\t\t\t\treturn this.nextState(States.ValuePostUrl, { type: cssTokenTypes.TOKEN_VALUE + '.css' });\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (ch === '(' || ch === ')') {\r\n\t\t\t\t\treturn { type: 'punctuation.parenthesis.css' };\r\n\t\t\t\t}\r\n\t\t\t\tif (ch === ',') {\r\n\t\t\t\t\treturn { type: 'punctuation.css' };\r\n\t\t\t\t}\r\n\t\t\t\tif (ch === '#') {\r\n\t\t\t\t\tstream.advanceIfRegExp2(/^[\\w]*/);\r\n\t\t\t\t\treturn { type: cssTokenTypes.TOKEN_VALUE + '.hex.css' };\r\n\t\t\t\t}\r\n\t\t\t\tif (/\\d/.test(ch) || (/-|\\+/.test(ch) && !stream.eos() && /\\d/.test(stream.peek()))) {\r\n\t\t\t\t\tstream.advanceIfRegExp2(/^[\\d\\.]*/);\r\n\t\t\t\t\treturn this.nextState(States.Unit, { type: cssTokenTypes.TOKEN_VALUE + '.numeric.css' });\r\n\t\t\t\t}\r\n\t\t\t\tif (ch === '!') {\r\n\t\t\t\t\treturn { type: cssTokenTypes.TOKEN_VALUE + '.keyword.css' };  // !\r\n\t\t\t\t}\r\n\t\t\t\tif ((ch === 'i' || ch === 'I') && stream.advanceIfStringCaseInsensitive2('mportant')) {\r\n\t\t\t\t\treturn { type: cssTokenTypes.TOKEN_VALUE + '.keyword.css' };  // important\r\n\t\t\t\t}\r\n\t\t\t\tif (this.consumeIdent(stream)) {\r\n\t\t\t\t\treturn { type: cssTokenTypes.TOKEN_VALUE + '.css' };\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase States.Unit:\r\n\t\t\t\t// css units - see: http://www.w3.org/TR/css3-values/#font-relative-lengths\r\n\t\t\t\tstream.goBack(1);\r\n\t\t\t\tif(stream.advanceIfRegExp2(/^(em|ex|ch|rem|vw|vh|vm|cm|mm|in|px|pt|pc|deg|grad|rad|turn|s|ms|Hz|kHz|%)/)) {\r\n\t\t\t\t\treturn { type: cssTokenTypes.TOKEN_VALUE + '.unit.css' };\r\n\t\t\t\t}\r\n\t\t\t\t// no unit, back to value state\r\n\t\t\t\tthis.nextState(States.Value, null);\r\n\t\t\t\treturn this.tokenize(stream);\r\n\t\t}\r\n\t\treturn { type:'' };\r\n\t}\r\n}\r\n\r\nexport class CSSMode extends AbstractMode {\r\n\r\n\tpublic static LANG_CONFIG:LanguageConfiguration = {\r\n\t\t// TODO@Martin: This definition does not work with umlauts for example\r\n\t\twordPattern: /(#?-?\\d*\\.\\d\\w*%?)|((::|[@#.!:])?[\\w-?]+%?)|::|[@#.!:]/g,\r\n\r\n\t\tcomments: {\r\n\t\t\tblockComment: ['/*', '*/']\r\n\t\t},\r\n\r\n\t\tbrackets: [\r\n\t\t\t['{', '}'],\r\n\t\t\t['[', ']'],\r\n\t\t\t['(', ')']\r\n\t\t],\r\n\r\n\t\tautoClosingPairs: [\r\n\t\t\t{ open: '{', close: '}' },\r\n\t\t\t{ open: '[', close: ']' },\r\n\t\t\t{ open: '(', close: ')' },\r\n\t\t\t{ open: '\"', close: '\"', notIn: ['string'] },\r\n\t\t\t{ open: '\\'', close: '\\'', notIn: ['string'] }\r\n\t\t]\r\n\t};\r\n\r\n\tpublic tokenizationSupport: modes.ITokenizationSupport;\r\n\tpublic inplaceReplaceSupport:modes.IInplaceReplaceSupport;\r\n\tpublic configSupport:modes.IConfigurationSupport;\r\n\r\n\tprivate _modeWorkerManager: ModeWorkerManager<cssWorker.CSSWorker>;\r\n\tprivate _threadService:IThreadService;\r\n\r\n\tconstructor(\r\n\t\tdescriptor:modes.IModeDescriptor,\r\n\t\t@IInstantiationService instantiationService: IInstantiationService,\r\n\t\t@IThreadService threadService: IThreadService\r\n\t) {\r\n\t\tsuper(descriptor.id);\r\n\t\tthis._modeWorkerManager = new ModeWorkerManager<cssWorker.CSSWorker>(descriptor, 'vs/languages/css/common/cssWorker', 'CSSWorker', null, instantiationService);\r\n\t\tthis._threadService = threadService;\r\n\r\n\t\tthis.tokenizationSupport = new TokenizationSupport(this, {\r\n\t\t\tgetInitialState: () => new State(this, States.Selector, false, null, false, 0)\r\n\t\t}, false, false);\r\n\r\n\t\tLanguageConfigurationRegistry.register(this.getId(), CSSMode.LANG_CONFIG);\r\n\r\n\t\tthis.inplaceReplaceSupport = this;\r\n\t\tthis.configSupport = this;\r\n\r\n\t\tmodes.DocumentHighlightProviderRegistry.register(this.getId(), {\r\n\t\t\tprovideDocumentHighlights: (model, position, token): Thenable<modes.DocumentHighlight[]> => {\r\n\t\t\t\treturn wireCancellationToken(token, this._provideDocumentHighlights(model.uri, position));\r\n\t\t\t}\r\n\t\t}, true);\r\n\r\n\t\tmodes.HoverProviderRegistry.register(this.getId(), {\r\n\t\t\tprovideHover: (model, position, token): Thenable<modes.Hover> => {\r\n\t\t\t\treturn wireCancellationToken(token, this._provideHover(model.uri, position));\r\n\t\t\t}\r\n\t\t}, true);\r\n\r\n\t\tmodes.ReferenceProviderRegistry.register(this.getId(), {\r\n\t\t\tprovideReferences: (model, position, context, token): Thenable<modes.Location[]> => {\r\n\t\t\t\treturn wireCancellationToken(token, this._provideReferences(model.uri, position));\r\n\t\t\t}\r\n\t\t}, true);\r\n\r\n\t\tmodes.DocumentSymbolProviderRegistry.register(this.getId(), {\r\n\t\t\tprovideDocumentSymbols: (model, token): Thenable<modes.SymbolInformation[]> => {\r\n\t\t\t\treturn wireCancellationToken(token, this._provideDocumentSymbols(model.uri));\r\n\t\t\t}\r\n\t\t}, true);\r\n\r\n\t\tmodes.DefinitionProviderRegistry.register(this.getId(), {\r\n\t\t\tprovideDefinition: (model, position, token): Thenable<modes.Definition> => {\r\n\t\t\t\treturn wireCancellationToken(token, this._provideDefinition(model.uri, position));\r\n\t\t\t}\r\n\t\t}, true);\r\n\r\n\t\tmodes.SuggestRegistry.register(this.getId(), {\r\n\t\t\ttriggerCharacters: [' ', ':'],\r\n\t\t\tshouldAutotriggerSuggest: true,\r\n\t\t\tprovideCompletionItems: (model, position, token): Thenable<modes.ISuggestResult[]> => {\r\n\t\t\t\treturn wireCancellationToken(token, this._provideCompletionItems(model.uri, position));\r\n\t\t\t}\r\n\t\t}, true);\r\n\r\n\t\tmodes.CodeActionProviderRegistry.register(this.getId(), {\r\n\t\t\tprovideCodeActions: (model, range, token): Thenable<modes.CodeAction[]> => {\r\n\t\t\t\treturn wireCancellationToken(token, this._provideCodeActions(model.uri, range));\r\n\t\t\t}\r\n\t\t}, true);\r\n\t}\r\n\r\n\tpublic creationDone(): void {\r\n\t\tif (this._threadService.isInMainThread) {\r\n\t\t\t// Pick a worker to do validation\r\n\t\t\tthis._pickAWorkerToValidate();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _worker<T>(runner:(worker:cssWorker.CSSWorker)=>WinJS.TPromise<T>): WinJS.TPromise<T> {\r\n\t\treturn this._modeWorkerManager.worker(runner);\r\n\t}\r\n\r\n\tpublic configure(options:any): WinJS.TPromise<void> {\r\n\t\tif (this._threadService.isInMainThread) {\r\n\t\t\treturn this._configureWorkers(options);\r\n\t\t} else {\r\n\t\t\treturn this._worker((w) => w._doConfigure(options));\r\n\t\t}\r\n\t}\r\n\r\n\tstatic $_configureWorkers = AllWorkersAttr(CSSMode, CSSMode.prototype._configureWorkers);\r\n\tprivate _configureWorkers(options:any): WinJS.TPromise<void> {\r\n\t\treturn this._worker((w) => w._doConfigure(options));\r\n\t}\r\n\r\n\tstatic $navigateValueSet = OneWorkerAttr(CSSMode, CSSMode.prototype.navigateValueSet);\r\n\tpublic navigateValueSet(resource:URI, position:editorCommon.IRange, up:boolean):WinJS.TPromise<modes.IInplaceReplaceSupportResult> {\r\n\t\treturn this._worker((w) => w.navigateValueSet(resource, position, up));\r\n\t}\r\n\r\n\tstatic $_pickAWorkerToValidate = OneWorkerAttr(CSSMode, CSSMode.prototype._pickAWorkerToValidate, ThreadAffinity.Group1);\r\n\tprivate _pickAWorkerToValidate(): WinJS.TPromise<void> {\r\n\t\treturn this._worker((w) => w.enableValidator());\r\n\t}\r\n\r\n\tstatic $_provideDocumentHighlights = OneWorkerAttr(CSSMode, CSSMode.prototype._provideDocumentHighlights);\r\n\tprivate _provideDocumentHighlights(resource:URI, position:editorCommon.IPosition): WinJS.TPromise<modes.DocumentHighlight[]> {\r\n\t\treturn this._worker((w) => w.provideDocumentHighlights(resource, position));\r\n\t}\r\n\r\n\tstatic $_provideCompletionItems = OneWorkerAttr(CSSMode, CSSMode.prototype._provideCompletionItems);\r\n\tprivate _provideCompletionItems(resource:URI, position:editorCommon.IPosition):WinJS.TPromise<modes.ISuggestResult[]> {\r\n\t\treturn this._worker((w) => w.provideCompletionItems(resource, position));\r\n\t}\r\n\r\n\tstatic $_provideDefinition = OneWorkerAttr(CSSMode, CSSMode.prototype._provideDefinition);\r\n\tprivate _provideDefinition(resource:URI, position:editorCommon.IPosition):WinJS.TPromise<modes.Definition> {\r\n\t\treturn this._worker((w) => w.provideDefinition(resource, position));\r\n\t}\r\n\r\n\tstatic $_provideHover = OneWorkerAttr(CSSMode, CSSMode.prototype._provideHover);\r\n\tprivate _provideHover(resource:URI, position:editorCommon.IPosition): WinJS.TPromise<modes.Hover> {\r\n\t\treturn this._worker((w) => w.provideHover(resource, position));\r\n\t}\r\n\r\n\tstatic $_provideReferences = OneWorkerAttr(CSSMode, CSSMode.prototype._provideReferences);\r\n\tprivate _provideReferences(resource:URI, position:editorCommon.IPosition):WinJS.TPromise<modes.Location[]> {\r\n\t\treturn this._worker((w) => w.provideReferences(resource, position));\r\n\t}\r\n\r\n\tstatic $_provideDocumentSymbols = OneWorkerAttr(CSSMode, CSSMode.prototype._provideDocumentSymbols);\r\n\tprivate _provideDocumentSymbols(resource:URI):WinJS.TPromise<modes.SymbolInformation[]> {\r\n\t\treturn this._worker((w) => w.provideDocumentSymbols(resource));\r\n\t}\r\n\r\n\tstatic $findColorDeclarations = OneWorkerAttr(CSSMode, CSSMode.prototype.findColorDeclarations);\r\n\tpublic findColorDeclarations(resource:URI):WinJS.TPromise<{range:editorCommon.IRange; value:string; }[]> {\r\n\t\treturn this._worker((w) => w.findColorDeclarations(resource));\r\n\t}\r\n\r\n\tstatic _provideCodeActions = OneWorkerAttr(CSSMode, CSSMode.prototype._provideCodeActions);\r\n\tprivate _provideCodeActions(resource: URI, marker: IMarker | editorCommon.IRange): WinJS.TPromise<modes.CodeAction[]>{\r\n\t\treturn this._worker((w) => w.provideCodeActions(resource, marker));\r\n\t}\r\n}"]}