{"version":3,"sources":["fake","file:///C:/REPOS/monaco/vscode/src/vs/languages/css/common/level.ts","file:///C:/REPOS/monaco/vscode/src/vs/languages/css/common/parser/cssNodes.ts","file:///C:/REPOS/monaco/vscode/src/vs/languages/css/common/parser/cssScanner.ts","file:///C:/REPOS/monaco/vscode/src/vs/languages/css/common/parser/cssSymbols.ts","file:///C:/REPOS/monaco/vscode/src/vs/languages/css/common/services/languageFacts.ts","file:///C:/REPOS/monaco/vscode/src/vs/languages/css/common/services/selectorPrinting.ts","file:///C:/REPOS/monaco/vscode/src/vs/languages/css/common/services/occurrences.ts","file:///C:/REPOS/monaco/vscode/src/vs/languages/css/common/parser/cssErrors.ts","file:///C:/REPOS/monaco/vscode/src/vs/languages/css/common/parser/cssParser.ts","file:///C:/REPOS/monaco/vscode/src/vs/languages/css/common/services/intelliSense.ts","file:///C:/REPOS/monaco/vscode/src/vs/languages/css/common/services/lintRules.ts","file:///C:/REPOS/monaco/vscode/src/vs/languages/css/common/services/lint.ts","file:///C:/REPOS/monaco/vscode/src/vs/languages/css/common/services/cssLanguageService.ts","file:///C:/REPOS/monaco/vscode/src/vs/languages/css/common/cssWorker.ts"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ICRA;;;oGAGgG;IAChG,YAAY,CAAC;IAEb,WAAY,KAAK;QAChB,qCAAU,CAAA;QACV,uCAAW,CAAA;QACX,mCAAS,CAAA;IACV,CAAC,EAJW,aAAK,KAAL,aAAK,QAIhB;IAJD,IAAY,KAAK,GAAL,aAIX,CAAA;IAED,iBAAwB,KAAa;QACpC,MAAM,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YACf,KAAK,QAAQ,EAAE,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC;YACnC,KAAK,SAAS,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC;YACrC,KAAK,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC;QAClC,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IACb,CAAC;IAPe,eAAO,UAOtB,CAAA;;;;;;;;;ICnBD;;;oGAGgG;IAChG,YAAY,CAAC;IAKb,aAAa;IACb,2DAA2D;IAC3D,mDAAmD;IACnD,cAAc;IAEd,WAAY,QAAQ;QACnB,iDAAS,CAAA;QACT,mDAAU,CAAA;QACV,mDAAU,CAAA;QACV,6CAAO,CAAA;QACP,+CAAQ,CAAA;QACR,2DAAc,CAAA;QACd,yEAAqB,CAAA;QACrB,mEAAkB,CAAA;QAClB,+EAAwB,CAAA;QACxB,iFAAyB,CAAA;QACzB,0FAA6B,CAAA;QAC7B,wCAAI,CAAA;QACJ,gEAAgB,CAAA;QAChB,0DAAa,CAAA;QACb,oEAAkB,CAAA;QAClB,sEAAmB,CAAA;QACnB,4DAAc,CAAA;QACd,kEAAiB,CAAA;QACjB,sDAAW,CAAA;QACX,wDAAY,CAAA;QACZ,gDAAQ,CAAA;QACR,oDAAU,CAAA;QACV,gEAAgB,CAAA;QAChB,wCAAI,CAAA;QACJ,gDAAQ,CAAA;QACR,0CAAK,CAAA;QACL,0DAAa,CAAA;QACb,oDAAU,CAAA;QACV,wDAAY,CAAA;QACZ,gDAAQ,CAAA;QACR,wDAAY,CAAA;QACZ,0DAAa,CAAA;QACb,gEAAgB,CAAA;QAChB,4DAAc,CAAA;QACd,wDAAY,CAAA;QACZ,sEAAmB,CAAA;QACnB,wCAAI,CAAA;QACJ,0DAAa,CAAA;QACb,gEAAgB,CAAA;QAChB,gEAAgB,CAAA;QAChB,sEAAmB,CAAA;QACnB,0CAAK,CAAA;QACL,oCAAE,CAAA;QACF,wCAAI,CAAA;QACJ,sCAAG,CAAA;QACH,wCAAI,CAAA;QACJ,0CAAK,CAAA;QACL,wDAAY,CAAA;QACZ,0CAAK,CAAA;QACL,gDAAQ,CAAA;QACR,gDAAQ,CAAA;QACR,4CAAM,CAAA;QACN,kDAAS,CAAA;QACT,oDAAU,CAAA;QACV,sEAAmB,CAAA;QACnB,8DAAe,CAAA;QACf,oDAAU,CAAA;QACV,kEAAiB,CAAA;QACjB,gEAAgB,CAAA;QAChB,gEAAgB,CAAA;QAChB,gDAAQ,CAAA;QACR,gDAAQ,CAAA;IACT,CAAC,EA/DW,gBAAQ,KAAR,gBAAQ,QA+DnB;IA/DD,IAAY,QAAQ,GAAR,gBA+DX,CAAA;IAED,WAAY,aAAa;QACxB,mDAAK,CAAA;QACL,iDAAI,CAAA;QACJ,yDAAQ,CAAA;QACR,yDAAQ,CAAA;QACR,yDAAQ,CAAA;QACR,uDAAO,CAAA;IACR,CAAC,EAPW,qBAAa,KAAb,qBAAa,QAOxB;IAPD,IAAY,aAAa,GAAb,qBAOX,CAAA;IAID,yBAAgC,IAAS,EAAE,MAAa;QAEvD,IAAI,SAAS,GAAQ,IAAI,CAAC;QAC1B,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAO,CAAC,CAAC,CAAC;YAC1E,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAED,yCAAyC;QACzC,IAAI,CAAC,MAAM,CAAC,UAAC,IAAI;YAChB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC9C,MAAM,CAAC,IAAI,CAAC;YACb,CAAC;YACD,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,MAAM,IAAI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,CAAC,CAAC;gBAClE,EAAE,CAAA,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;oBACf,SAAS,GAAG,IAAI,CAAC;gBAClB,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAA,CAAC,IAAI,CAAC,MAAM,IAAI,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC;oBAC3C,SAAS,GAAG,IAAI,CAAC;gBAClB,CAAC;gBACD,MAAM,CAAC,IAAI,CAAC;YACb,CAAC;YACD,MAAM,CAAC,KAAK,CAAC;QACd,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,SAAS,CAAC;IAClB,CAAC;IAvBe,uBAAe,kBAuB9B,CAAA;IAED,qBAA4B,IAAS,EAAE,MAAa;QAEnD,IAAI,SAAS,GAAQ,eAAe,CAAC,IAAI,EAAE,MAAM,CAAC,EACjD,IAAI,GAAU,EAAE,CAAC;QAElB,OAAM,SAAS,EAAE,CAAC;YACjB,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;YACxB,SAAS,GAAG,SAAS,CAAC,MAAM,CAAC;QAC9B,CAAC;QAED,MAAM,CAAC,IAAI,CAAC;IACb,CAAC;IAXe,mBAAW,cAW1B,CAAA;IAED,8BAAqC,IAAS;QAC7C,IAAI,IAAI,GAAiB,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;QAC/D,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,QAAQ,EAAE,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAC/D,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IACb,CAAC;IANe,4BAAoB,uBAMnC,CAAA;IAOD;QAgBC,cAAY,MAAgB,EAAE,GAAa,EAAE,QAAmB;YAApD,sBAAgB,GAAhB,UAAe,CAAC;YAAE,mBAAa,GAAb,OAAY,CAAC;YAC1C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACnB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACrB,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;YAClB,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACd,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAC1B,CAAC;QACF,CAAC;QAED,sBAAW,sBAAI;iBAIf;gBACC,MAAM,CAAC,IAAI,CAAC,QAAQ,IAAI,QAAQ,CAAC,SAAS,CAAC;YAC5C,CAAC;iBAND,UAAgB,IAAa;gBAC5B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACtB,CAAC;;;WAAA;QAMM,8BAAe,GAAtB;YACC,IAAI,IAAI,GAAS,IAAI,CAAC;YACtB,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;gBACnC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC;YACpB,CAAC;YACD,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACV,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC;YAC1B,CAAC;YACD,MAAM,CAAC,cAAQ,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QACpC,CAAC;QAEM,sBAAO,GAAd;YACC,MAAM,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QACzD,CAAC;QAEM,sBAAO,GAAd,UAAe,GAAU;YACxB,MAAM,CAAC,IAAI,CAAC,MAAM,KAAK,GAAG,CAAC,MAAM,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC;QAC/F,CAAC;QAEM,yBAAU,GAAjB,UAAkB,GAAW;YAC5B,MAAM,CAAC,IAAI,CAAC,MAAM,IAAI,GAAG,CAAC,MAAM,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC;QAC7F,CAAC;QAEM,uBAAQ,GAAf,UAAgB,GAAW;YAC1B,MAAM,CAAC,IAAI,CAAC,MAAM,IAAI,GAAG,CAAC,MAAM,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC;QACxH,CAAC;QAIM,qBAAM,GAAb,UAAc,OAAY;YAEzB,EAAE,CAAA,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBAC/B,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAC3C,CAAC;YAED,EAAE,CAAA,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACnC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAC,KAAK;oBAC3B,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;gBACvB,CAAC,CAAC,CAAC;YACJ,CAAC;QACF,CAAC;QAEM,yBAAU,GAAjB,UAAkB,IAAS,EAAE,KAAkB;YAAlB,qBAAkB,GAAlB,SAAiB,CAAC;YAC9C,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACzC,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAC7C,EAAE,CAAA,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;oBACb,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;gBACrC,CAAC;YACF,CAAC;YACD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACnB,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC7B,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACf,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;YAC/B,CAAC;YACD,EAAE,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBAClB,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;YAC/B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACP,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACrB,CAAC;YACD,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAEM,uBAAQ,GAAf,UAAgB,MAAW,EAAE,KAAe;YAAf,qBAAe,GAAf,SAAc,CAAC;YAC3C,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gBACZ,MAAM,CAAC,UAAU,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAChC,CAAC;YACD,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAEM,4BAAa,GAApB,UAAqB,OAAa;YACjC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;gBACjB,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;YAC1C,CAAC;QACF,CAAC;QAEM,uBAAQ,GAAf,UAAgB,KAAc;YAC7B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;gBAClB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;YAClB,CAAC;YACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACzB,CAAC;QAEM,uBAAQ,GAAf,UAAgB,IAAW;YAC1B,MAAM,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,OAAO,EAAE,KAAK,IAAI,EAApB,CAAoB,CAAC,CAAC;QACnE,CAAC;QAEM,0BAAW,GAAlB;YACC,MAAM,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;QAC9C,CAAC;QAEM,sBAAO,GAAd,UAAe,KAAY,EAAE,IAAS,EAAE,KAAe;YAAf,qBAAe,GAAf,SAAc,CAAC;YACtD,EAAE,CAAA,CAAC,IAAI,CAAC,CAAC,CAAC;gBACT,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;gBAC3B,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;gBACnB,MAAM,CAAC,IAAI,CAAC;YACb,CAAC;YACD,MAAM,CAAC,KAAK,CAAC;QACd,CAAC;QAEM,uBAAQ,GAAf,UAAgB,IAAS;YACxB,EAAE,CAAA,CAAC,IAAI,CAAC,CAAC,CAAC;gBACT,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;oBACpB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;gBACpB,CAAC;gBACD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBACpB,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;gBACjC,MAAM,CAAC,IAAI,CAAC;YACb,CAAC;YACD,MAAM,CAAC,KAAK,CAAC;QACd,CAAC;QAEO,oCAAqB,GAA7B,UAA8B,IAAS;YACtC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YAC3B,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAE,CAAC;gBACpF,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YACvD,CAAC;QACF,CAAC;QAEM,0BAAW,GAAlB;YACC,MAAM,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;QAClD,CAAC;QAEM,0BAAW,GAAlB;YACC,MAAM,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;QACpD,CAAC;QAEM,uBAAQ,GAAf,UAAgB,KAAY;YAC3B,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;gBACnD,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC7B,CAAC;YACD,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAEM,0BAAW,GAAlB,UAAmB,KAAY;YAA/B,iBAEC;YADA,KAAK,CAAC,OAAO,CAAC,UAAC,IAAI,IAAK,OAAA,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAnB,CAAmB,CAAC,CAAC;QAC9C,CAAC;QAEM,yCAA0B,GAAjC,UAAkC,MAAa;YAC9C,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACnB,IAAI,OAAO,GAAQ,IAAI,CAAC;gBACxB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;oBACnD,sFAAsF;oBACtF,OAAO,GAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBAC1B,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,IAAI,MAAM,CAAC,CAAC,CAAC;wBAC9B,MAAM,CAAC,OAAO,CAAC;oBAChB,CAAC;gBACF,CAAC;YACF,CAAC;YACD,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAEM,gCAAiB,GAAxB,UAAyB,MAAa,EAAE,MAAe;YACtD,IAAI,OAAO,GAAQ,IAAI,CAAC,0BAA0B,CAAC,MAAM,CAAC,CAAC;YAC3D,EAAE,CAAC,CAAC,OAAO,IAAI,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,IAAI,MAAM,CAAC,CAAC,CAAC;gBAC1D,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;oBACZ,MAAM,CAAC,OAAO,CAAC,iBAAiB,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,OAAO,CAAC;gBAC3D,CAAC;gBACD,MAAM,CAAC,OAAO,CAAC;YAChB,CAAC;YACD,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAEM,uBAAQ,GAAf,UAAgB,SAAc;YAC7B,MAAM,CAAC,IAAI,CAAC,MAAM,IAAI,SAAS,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,IAAI,SAAS,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;QAC5G,CAAC;QAEM,wBAAS,GAAhB;YACC,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YACzB,OAAM,MAAM,YAAY,QAAQ,EAAE,CAAC;gBAClC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;YACxB,CAAC;YACD,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAEM,yBAAU,GAAjB,UAAkB,IAAa;YAC9B,IAAI,MAAM,GAAS,IAAI,CAAC;YACxB,OAAO,MAAM,IAAI,MAAM,CAAC,IAAI,KAAK,IAAI,EAAE,CAAC;gBACvC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;YACxB,CAAC;YACD,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAEM,sBAAO,GAAd,UAAe,GAAU,EAAE,KAAS;YACnC,EAAE,CAAA,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBAClB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;YACnB,CAAC;YACD,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;QAC3B,CAAC;QAEM,sBAAO,GAAd,UAAe,GAAU;YACxB,EAAE,CAAA,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACvD,MAAM,CAAC,IAAI,CAAC;YACb,CAAC;YACD,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAC1B,CAAC;QACF,WAAC;IAAD,CAtOA,AAsOC,IAAA;IAtOY,YAAI,OAsOhB,CAAA;IAED;QAA8B,4BAAI;QAEjC,kBAAY,MAAW,EAAE,KAAiB;YAAjB,qBAAiB,GAAjB,SAAgB,CAAC;YACzC,kBAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACd,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;YAC7B,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YACjB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAClB,CAAC;QACF,eAAC;IAAD,CARA,AAQC,CAR6B,IAAI,GAQjC;IARY,gBAAQ,WAQpB,CAAA;IAGD;QAAgC,8BAAI;QAInC,oBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,4BAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;YAC5B,CAAC;;;WAAA;QAEM,0CAAqB,GAA5B;YACC,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QAC3B,CAAC;QACF,iBAAC;IAAD,CAfA,AAeC,CAf+B,IAAI,GAenC;IAfY,kBAAU,aAetB,CAAA;IAED;QAAgC,8BAAI;QAInC,oBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,4BAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;YAC5B,CAAC;;;WAAA;QAEM,4BAAO,GAAd,UAAe,KAAY;YAC1B,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QACnB,CAAC;QAEF,iBAAC;IAAD,CAhBA,AAgBC,CAhB+B,IAAI,GAgBnC;IAhBY,kBAAU,aAgBtB,CAAA;IAED;QAAkC,gCAAI;QACrC,sBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,8BAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,YAAY,CAAC;YAC9B,CAAC;;;WAAA;QACF,mBAAC;IAAD,CARA,AAQC,CARiC,IAAI,GAQrC;IARY,oBAAY,eAQxB,CAAA;IAED;QAAqC,mCAAI;QAIxC,yBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAEM,yCAAe,GAAtB;YACC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC;QAC1B,CAAC;QAEM,yCAAe,GAAtB,UAAuB,KAAkB;YACxC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;QAC5C,CAAC;QAEF,sBAAC;IAAD,CAhBA,AAgBC,CAhBoC,IAAI,GAgBxC;IAhBY,uBAAe,kBAgB3B,CAAA;IAED;QAA6B,2BAAe;QAI3C,iBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,yBAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC;YACzB,CAAC;;;WAAA;QAEM,8BAAY,GAAnB;YACC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,SAAS,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC;YACrC,CAAC;YACD,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;QACvB,CAAC;QAEM,0BAAQ,GAAf;YACC,MAAM,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,IAAI,CAAC;QACzE,CAAC;QACF,cAAC;IAAD,CAtBA,AAsBC,CAtB4B,eAAe,GAsB3C;IAtBY,eAAO,UAsBnB,CAAA;IAED;QAA8B,4BAAI;QAEjC,kBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,0BAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC;YAC1B,CAAC;;;WAAA;QAEF,eAAC;IAAD,CAVA,AAUC,CAV6B,IAAI,GAUjC;IAVY,gBAAQ,WAUpB,CAAA;IAED;QAAoC,kCAAI;QAEvC,wBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,gCAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,cAAc,CAAC;YAChC,CAAC;;;WAAA;QACF,qBAAC;IAAD,CATA,AASC,CATmC,IAAI,GASvC;IATY,sBAAc,iBAS1B,CAAA;IAED;QAAkD,uCAAI;QAMrD,6BAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QACF,0BAAC;IAAD,CATA,AASC,CATiD,IAAI,GASrD;IATqB,2BAAmB,sBASxC,CAAA;IAED;QAAiC,+BAAmB;QAMnD,qBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,6BAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC;YAC7B,CAAC;;;WAAA;QAEM,iCAAW,GAAlB,UAAmB,IAAa;YAC/B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;QACvC,CAAC;QAEM,iCAAW,GAAlB;YACC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACtB,CAAC;QAEM,yCAAmB,GAA1B;YACC,IAAI,YAAY,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,GAAG,SAAS,CAAC;YACvE,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,YAAY,YAAY,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,YAAY,gBAAgB,CAAC,CAAC,CAAC;gBAChG,IAAI,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,SAAS,EAAE,CAAC;gBACrD,EAAE,CAAC,CAAC,UAAU,YAAY,WAAW,CAAC,CAAC,CAAC;oBACvC,MAAM,CAAgB,UAAW,CAAC,mBAAmB,EAAE,GAAG,YAAY,CAAC;gBACxE,CAAC;YACF,CAAC;YACD,MAAM,CAAC,YAAY,CAAC;QACrB,CAAC;QAEM,gDAA0B,GAAjC;YACC,IAAI,YAAY,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC9C,EAAE,CAAC,CAAC,YAAY,IAAI,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;gBACpD,IAAI,eAAe,GAAG,YAAY,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;gBACnD,EAAE,CAAC,CAAC,eAAe,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC5B,MAAM,CAAC,YAAY,CAAC,SAAS,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC;gBACpD,CAAC;YACF,CAAC;YACD,MAAM,CAAC,YAAY,CAAC;QACrB,CAAC;QAEM,8BAAQ,GAAf,UAAgB,KAAgB;YAC/B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QACrC,CAAC;QAEM,8BAAQ,GAAf;YACC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QACnB,CAAC;QAEM,yCAAmB,GAA1B,UAA2B,KAAsB;YAChD,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;QAC/C,CAAC;QAEM,yCAAmB,GAA1B;YACC,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC;QAC7B,CAAC;QACF,kBAAC;IAAD,CA3DA,AA2DC,CA3DgC,mBAAmB,GA2DnD;IA3DY,mBAAW,cA2DvB,CAAA;IAED;QAA8B,4BAAI;QAIjC,kBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,0BAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC;YAC1B,CAAC;;;WAAA;QAEM,gCAAa,GAApB,UAAqB,KAAiB;YACrC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;QAC1C,CAAC;QAEM,gCAAa,GAApB;YACC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACxB,CAAC;QAEM,0BAAO,GAAd;YACC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QACvB,CAAC;QACF,eAAC;IAAD,CAvBA,AAuBC,CAvB6B,IAAI,GAuBjC;IAvBY,gBAAQ,WAuBpB,CAAA;IAED;QAAgC,8BAAI;QAInC,oBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,4BAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;YAC5B,CAAC;;;WAAA;QAEM,iCAAY,GAAnB;YACC,EAAE,CAAA,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;gBACpB,IAAI,CAAC,SAAS,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC;YACrC,CAAC;YACD,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;QACvB,CAAC;QACF,iBAAC;IAAD,CAlBA,AAkBC,CAlB+B,IAAI,GAkBnC;IAlBY,kBAAU,aAkBtB,CAAA;IAED;QAA8B,4BAAU;QAIvC,kBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,0BAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC;YAC1B,CAAC;;;WAAA;QAEM,gCAAa,GAApB,UAAqB,IAAe;YACnC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QAC5C,CAAC;QAEM,gCAAa,GAApB;YACC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACxB,CAAC;QAEM,0BAAO,GAAd;YACC,MAAM,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC;QACzD,CAAC;QAEF,eAAC;IAAD,CAxBA,AAwBC,CAxB6B,UAAU,GAwBvC;IAxBY,gBAAQ,WAwBpB,CAAA;IAED;QAAuC,qCAAI;QAK1C,2BAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,mCAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,iBAAiB,CAAC;YACnC,CAAC;;;WAAA;QAEM,yCAAa,GAApB,UAAqB,IAAS;YAC7B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QAC5C,CAAC;QAEM,yCAAa,GAApB;YACC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACxB,CAAC;QAEM,mCAAO,GAAd;YACC,MAAM,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC;QACzD,CAAC;QAEM,2CAAe,GAAtB,UAAuB,IAAU;YAChC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QAC9C,CAAC;QAEM,2CAAe,GAAtB;YACC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC;QAC1B,CAAC;QACF,wBAAC;IAAD,CAhCA,AAgCC,CAhCsC,IAAI,GAgC1C;IAhCY,yBAAiB,oBAgC7B,CAAA;IAED;QAAsC,oCAAI;QAKzC,0BAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,kCAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,gBAAgB,CAAC;YAClC,CAAC;;;WAAA;QAEM,wCAAa,GAApB,UAAqB,IAAS;YAC7B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QAC5C,CAAC;QAEM,wCAAa,GAApB;YACC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACxB,CAAC;QAEM,kCAAO,GAAd;YACC,MAAM,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC;QACzD,CAAC;QAEM,mCAAQ,GAAf,UAAgB,IAAU;YACzB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QACvC,CAAC;QAEM,mCAAQ,GAAf;YACC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QACnB,CAAC;QACF,uBAAC;IAAD,CAhCA,AAgCC,CAhCqC,IAAI,GAgCzC;IAhCY,wBAAgB,mBAgC5B,CAAA;IAED;QAAiC,+BAAe;QAI/C,qBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,6BAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC;YACpB,CAAC;;;WAAA;QAEM,mCAAa,GAApB,UAAqB,IAAe;YACnC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QAC5C,CAAC;QAEM,mCAAa,GAApB,UAAqB,UAA0B;YAC9C,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC;QAC/C,CAAC;QACF,kBAAC;IAAD,CAnBA,AAmBC,CAnBgC,eAAe,GAmB/C;IAnBY,mBAAW,cAmBvB,CAAA;IAED;QAAkC,gCAAe;QAGhD,sBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,8BAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC;YACrB,CAAC;;;WAAA;QAEM,kCAAW,GAAlB,UAAmB,IAAa;YAC/B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QAC1C,CAAC;QACF,mBAAC;IAAD,CAdA,AAcC,CAdiC,eAAe,GAchD;IAdY,oBAAY,eAcxB,CAAA;IAED;QAAmC,iCAAe;QAGjD,uBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,+BAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;YACtB,CAAC;;;WAAA;QAEM,mCAAW,GAAlB,UAAmB,IAAa;YAC/B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QAC1C,CAAC;QACF,oBAAC;IAAD,CAdA,AAcC,CAdkC,eAAe,GAcjD;IAdY,qBAAa,gBAczB,CAAA;IAED;QAAoC,kCAAe;QAClD,wBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,gCAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC;YACvB,CAAC;;;WAAA;QACF,qBAAC;IAAD,CARA,AAQC,CARmC,eAAe,GAQlD;IARY,sBAAc,iBAQ1B,CAAA;IAED;QAAmC,iCAAe;QACjD,uBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,+BAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;YACtB,CAAC;;;WAAA;QACF,oBAAC;IAAD,CARA,AAQC,CARkC,eAAe,GAQjD;IARY,qBAAa,gBAQzB,CAAA;IAED;QAAyC,uCAAe;QAIvD,6BAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,qCAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,mBAAmB,CAAC;YACrC,CAAC;;;WAAA;QAEM,2CAAa,GAApB,UAAqB,IAAe;YACnC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QAC5C,CAAC;QAEM,2CAAa,GAApB;YACC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACxB,CAAC;QAEM,qCAAO,GAAd;YACC,MAAM,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC;QACzD,CAAC;QAEM,2CAAa,GAApB;YACC,EAAE,CAAA,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,UAAU,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC;YACtC,CAAC;YACD,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACxB,CAAC;QACF,0BAAC;IAAD,CA9BA,AA8BC,CA9BwC,eAAe,GA8BvD;IA9BY,2BAAmB,sBA8B/B,CAAA;IAED;QAA8B,4BAAe;QAC5C,kBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,0BAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC;YAC1B,CAAC;;;WAAA;QACF,eAAC;IAAD,CARA,AAQC,CAR6B,eAAe,GAQ5C;IARY,gBAAQ,WAQpB,CAAA;IAED;QAA8B,4BAAe;QAC5C,kBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,0BAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC;YAC1B,CAAC;;;WAAA;QAEF,eAAC;IAAD,CATA,AASC,CAT6B,eAAe,GAS5C;IATY,gBAAQ,WASpB,CAAA;IAED;QAAsC,oCAAe;QACpD,0BAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,kCAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,gBAAgB,CAAC;YAClC,CAAC;;;WAAA;QACF,uBAAC;IAAD,CARA,AAQC,CARqC,eAAe,GAQpD;IARY,wBAAgB,mBAQ5B,CAAA;IAED;QAA8B,4BAAe;QAK5C,kBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,0BAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC;YAC1B,CAAC;;;WAAA;QAEM,6BAAU,GAAjB,UAAkB,OAAY;YAC7B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;QAC5C,CAAC;QAEM,6BAAU,GAAjB;YACC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;QACrB,CAAC;QAEM,gCAAa,GAApB,UAAqB,IAAe;YACnC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QAC5C,CAAC;QAEM,gCAAa,GAApB;YACC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACxB,CAAC;QAEM,0BAAO,GAAd;YACC,MAAM,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC;QACzD,CAAC;QACF,eAAC;IAAD,CAhCA,AAgCC,CAhC6B,eAAe,GAgC5C;IAhCY,gBAAQ,WAgCpB,CAAA;IAED;QAAsC,oCAAe;QACpD,0BAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,kCAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,gBAAgB,CAAC;YAClC,CAAC;;;WAAA;QACF,uBAAC;IAAD,CARA,AAQC,CARqC,eAAe,GAQpD;IARY,wBAAgB,mBAQ5B,CAAA;IAED;QAA4B,0BAAI;QAI/B,gBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,wBAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;YACxB,CAAC;;;WAAA;QAEM,6BAAY,GAAnB,UAAoB,IAAS;YAC5B,EAAE,CAAA,CAAC,IAAI,CAAC,CAAC,CAAC;gBACT,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBACpB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBACtB,MAAM,CAAC,IAAI,CAAC;YACb,CAAC;YACD,MAAM,CAAC,KAAK,CAAC;QACd,CAAC;QACF,aAAC;IAAD,CApBA,AAoBC,CApB2B,IAAI,GAoB/B;IApBY,cAAM,SAoBlB,CAAA;IAED;QAA+B,6BAAI;QAElC,mBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,2BAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC;YAC3B,CAAC;;;WAAA;QAEF,gBAAC;IAAD,CAVA,AAUC,CAV8B,IAAI,GAUlC;IAVY,iBAAS,YAUrB,CAAA;IAED;QAA2B,yBAAe;QAEzC,eAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,uBAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC;YACvB,CAAC;;;WAAA;QACF,YAAC;IAAD,CATA,AASC,CAT0B,eAAe,GASzC;IATY,aAAK,QASjB,CAAA;IAED;QAA8B,4BAAe;QAE5C,kBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,0BAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC;YAC1B,CAAC;;;WAAA;QACF,eAAC;IAAD,CATA,AASC,CAT6B,eAAe,GAS5C;IATY,gBAAQ,WASpB,CAAA;IAED;QAA+B,6BAAI;QAGlC,mBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAEM,8BAAU,GAAjB;YACC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBACnB,IAAI,CAAC,OAAO,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC;YACnC,CAAC;YACD,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;QACrB,CAAC;QACF,gBAAC;IAAD,CAbA,AAaC,CAb8B,IAAI,GAalC;IAbY,iBAAS,YAarB,CAAA;IAED;QAAgC,8BAAI;QAEnC,oBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,4BAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;YAC5B,CAAC;;;WAAA;QACF,iBAAC;IAAD,CATA,AASC,CAT+B,IAAI,GASnC;IATY,kBAAU,aAStB,CAAA;IAED;QAA0B,wBAAe;QAExC,cAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,sBAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;YACtB,CAAC;;;WAAA;QAEF,WAAC;IAAD,CAVA,AAUC,CAVyB,eAAe,GAUxC;IAVY,YAAI,OAUhB,CAAA;IAED;QAAsC,oCAAe;QAEpD,0BAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,kCAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,gBAAgB,CAAC;YAClC,CAAC;;;WAAA;QAEF,uBAAC;IAAD,CAVA,AAUC,CAVqC,eAAe,GAUpD;IAVY,wBAAgB,mBAU5B,CAAA;IAED;QAAgC,8BAAI;QAEnC,oBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,4BAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;YAC5B,CAAC;;;WAAA;QACF,iBAAC;IAAD,CATA,AASC,CAT+B,IAAI,GASnC;IATY,kBAAU,aAStB,CAAA;IAED;QAAsC,oCAAI;QAMzC,0BAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,kCAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,gBAAgB,CAAC;YAClC,CAAC;;;WAAA;QAEM,kCAAO,GAAd,UAAe,IAAS;YACvB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QACnC,CAAC;QAEM,kCAAO,GAAd;YACC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;QAClB,CAAC;QAEM,mCAAQ,GAAf,UAAgB,KAAU;YACzB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QACrC,CAAC;QAEM,mCAAQ,GAAf;YACC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QACnB,CAAC;QAEM,sCAAW,GAAlB,UAAmB,KAAU;YAC5B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;QACxC,CAAC;QAEM,sCAAW,GAAlB;YACC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACtB,CAAC;QACF,uBAAC;IAAD,CArCA,AAqCC,CArCqC,IAAI,GAqCzC;IArCY,wBAAgB,mBAqC5B,CAAA;IAED;QAA0B,wBAAI;QAK7B,cAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,sBAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;YACtB,CAAC;;;WAAA;QAEM,0BAAW,GAAlB,UAAmB,KAAU;YAC5B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;QACxC,CAAC;QAEM,0BAAW,GAAlB;YACC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACtB,CAAC;QAEM,4BAAa,GAApB,UAAqB,KAAU;YAC9B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;QAC1C,CAAC;QAEM,4BAAa,GAApB;YACC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACxB,CAAC;QACF,WAAC;IAAD,CA5BA,AA4BC,CA5ByB,IAAI,GA4B7B;IA5BY,YAAI,OA4BhB,CAAA;IAED;QAA8B,4BAAI;QAEjC,kBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,0BAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC;YAC1B,CAAC;;;WAAA;QAEF,eAAC;IAAD,CAVA,AAUC,CAV6B,IAAI,GAUjC;IAVY,gBAAQ,WAUpB,CAAA;IAED;QAAmC,iCAAI;QACtC,uBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,+BAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC;YAC/B,CAAC;;;WAAA;QAEF,oBAAC;IAAD,CATA,AASC,CATkC,IAAI,GAStC;IATY,qBAAa,gBASzB,CAAA;IAED;QAAkC,gCAAI;QAErC,sBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,8BAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,YAAY,CAAC;YAC9B,CAAC;;;WAAA;QAEM,+BAAQ,GAAf;YACC,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;YACzB,IAAI,OAAO,GAAG,CAAC,EACd,IAAW,EACX,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,EACxB,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,EACtB,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAExB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;gBAChD,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBACzB,EAAE,CAAA,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,IAAI,IAAI,IAAI,EAAE,IAAI,IAAI,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC;oBACjD,KAAK,CAAC;gBACP,CAAC;gBACD,OAAO,IAAI,CAAC,CAAC;YACd,CAAC;YACD,MAAM,CAAC;gBACN,KAAK,EAAE,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,OAAO,CAAC;gBAChC,IAAI,EAAE,OAAO,GAAG,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,SAAS;aACxD,CAAC;QACH,CAAC;QACF,mBAAC;IAAD,CA9BA,AA8BC,CA9BiC,IAAI,GA8BrC;IA9BY,oBAAY,eA8BxB,CAAA;IAED;QAAyC,uCAAmB;QAK3D,6BAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,qCAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,mBAAmB,CAAC;YACrC,CAAC;;;WAAA;QAEM,yCAAW,GAAlB,UAAmB,IAAa;YAC/B,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACV,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBACpB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,MAAM,CAAC,IAAI,CAAC;YACb,CAAC;YACD,MAAM,CAAC,KAAK,CAAC;QACd,CAAC;QAEM,yCAAW,GAAlB;YACC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACtB,CAAC;QAEM,qCAAO,GAAd;YACC,MAAM,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC;QACrD,CAAC;QAEM,sCAAQ,GAAf,UAAgB,IAAS;YACxB,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACV,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBACpB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;gBAClB,MAAM,CAAC,IAAI,CAAC;YACb,CAAC;YACD,MAAM,CAAC,KAAK,CAAC;QACd,CAAC;QAEF,0BAAC;IAAD,CAvCA,AAuCC,CAvCwC,mBAAmB,GAuC3D;IAvCY,2BAAmB,sBAuC/B,CAAA;IAED;QAAmC,iCAAI;QAEtC,uBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,+BAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC;YAC/B,CAAC;;;WAAA;QACF,oBAAC;IAAD,CATA,AASC,CATkC,IAAI,GAStC;IATY,qBAAa,gBASzB,CAAA;IAED;QAA8B,4BAAI;QAEjC,kBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,0BAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,YAAY,CAAC;YAC9B,CAAC;;;WAAA;QAEM,0BAAO,GAAd;YACC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QACvB,CAAC;QAEF,eAAC;IAAD,CAdA,AAcC,CAd6B,IAAI,GAcjC;IAdY,gBAAQ,WAcpB,CAAA;IAED;QAAsC,oCAAI;QAGzC,0BAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,kCAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,gBAAgB,CAAC;YAClC,CAAC;;;WAAA;QAEM,sCAAW,GAAlB,UAAmB,IAAa;YAC/B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QAC1C,CAAC;QAEM,sCAAW,GAAlB;YACC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACtB,CAAC;QAEM,kCAAO,GAAd;YACC,MAAM,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC;QACrD,CAAC;QACF,uBAAC;IAAD,CAtBA,AAsBC,CAtBqC,IAAI,GAsBzC;IAtBY,wBAAgB,mBAsB5B,CAAA;IAGD;QAAoC,kCAAI;QAKvC,wBAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,gCAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,cAAc,CAAC;YAChC,CAAC;;;WAAA;QAEM,sCAAa,GAApB,UAAqB,IAAe;YACnC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QAC5C,CAAC;QAEM,sCAAa,GAApB;YACC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACxB,CAAC;QAEM,gCAAO,GAAd;YACC,MAAM,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC;QACzD,CAAC;QAEM,qCAAY,GAAnB;YACC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,SAAS,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC;YACrC,CAAC;YACD,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;QACvB,CAAC;QAEM,mCAAU,GAAjB,UAAkB,IAAoB;YACrC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QACtC,CAAC;QAEM,mCAAU,GAAjB;YACC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;QACrB,CAAC;QACF,qBAAC;IAAD,CAvCA,AAuCC,CAvCmC,IAAI,GAuCvC;IAvCY,sBAAc,iBAuC1B,CAAA;IAED;QAAsC,oCAAe;QAMpD,0BAAY,MAAa,EAAE,MAAa;YACvC,kBAAM,MAAM,EAAE,MAAM,CAAC,CAAC;QACvB,CAAC;QAED,sBAAW,kCAAI;iBAAf;gBACC,MAAM,CAAC,QAAQ,CAAC,gBAAgB,CAAC;YAClC,CAAC;;;WAAA;QAEM,wCAAa,GAApB,UAAqB,IAAe;YACnC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QAC5C,CAAC;QAEM,wCAAa,GAApB;YACC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACxB,CAAC;QAEM,kCAAO,GAAd;YACC,MAAM,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC;QACzD,CAAC;QAEM,wCAAa,GAApB;YACC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;gBACtB,IAAI,CAAC,UAAU,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC;YACtC,CAAC;YACD,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACxB,CAAC;QAEM,mCAAQ,GAAf,UAAgB,IAAc;YAC7B,EAAE,CAAA,CAAC,IAAI,CAAC,CAAC,CAAC;gBACT,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBACpB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YACnB,CAAC;YACD,MAAM,CAAC,KAAK,CAAC;QACd,CAAC;QACF,uBAAC;IAAD,CAxCA,AAwCC,CAxCqC,eAAe,GAwCpD;IAxCY,wBAAgB,mBAwC5B,CAAA;IAED;QAA+B,6BAAI;QAAnC;YAA+B,8BAAI;QAWnC,CAAC;QANO,iCAAa,GAApB;YACC,EAAE,CAAA,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,UAAU,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC;YACtC,CAAC;YACD,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACxB,CAAC;QACF,gBAAC;IAAD,CAXA,AAWC,CAX8B,IAAI,GAWlC;IAXY,iBAAS,YAWrB,CAAA;IAED;QAAoC,kCAAI;QAAxC;YAAoC,8BAAI;QAYxC,CAAC;QAHO,oCAAW,GAAlB,UAAmB,IAAS;YAC3B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;QACvC,CAAC;QACF,qBAAC;IAAD,CAZA,AAYC,CAZmC,IAAI,GAYvC;IAZY,sBAAc,iBAY1B,CAAA;IAiBD;QASC,gBAAY,IAAS,EAAE,IAAU,EAAE,KAAkB,EAAE,OAAe,EAAE,MAAyB,EAAE,MAAyB;YAApD,sBAAyB,GAAzB,SAAc,IAAI,CAAC,MAAM;YAAE,sBAAyB,GAAzB,SAAc,IAAI,CAAC,MAAM;YAC3H,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,CAAC,OAAO,GAAG,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC;YACvC,IAAI,CAAC,MAAM,GAAE,MAAM,CAAC;YACpB,IAAI,CAAC,MAAM,GAAE,MAAM,CAAC;QACrB,CAAC;QAEM,wBAAO,GAAd;YACC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;QAClB,CAAC;QAEM,yBAAQ,GAAf;YACC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QACnB,CAAC;QAEM,0BAAS,GAAhB;YACC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;QACpB,CAAC;QAEM,0BAAS,GAAhB;YACC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;QACpB,CAAC;QAEM,wBAAO,GAAd;YACC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;QAClB,CAAC;QAEM,2BAAU,GAAjB;YACC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;QACrB,CAAC;QACF,aAAC;IAAD,CAzCA,AAyCC,IAAA;IAzCY,cAAM,SAyClB,CAAA;IASD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MA+JE;IACF;QAUC;YACC,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QACnB,CAAC;QAVM,2BAAO,GAAd,UAAe,IAAS;YACvB,IAAI,OAAO,GAAG,IAAI,mBAAmB,EAAE,CAAC;YACxC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;YACrB,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC;QACxB,CAAC;QAQM,uCAAS,GAAhB,UAAiB,IAAS;YAEzB,EAAE,CAAA,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;gBACvB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAClC,CAAC;YACD,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QACF,0BAAC;IAAD,CArBA,AAqBC,IAAA;IArBY,2BAAmB,sBAqB/B,CAAA;;;;ICviDD;;;oGAGgG;IAChG,YAAY,CAAC;IAEb,WAAY,SAAS;QACpB,2CAAK,CAAA;QACL,mDAAS,CAAA;QACT,6CAAM,CAAA;QACN,mDAAS,CAAA;QACT,6CAAM,CAAA;QACN,yCAAI,CAAA;QACJ,uCAAG,CAAA;QACH,qDAAU,CAAA;QACV,mDAAS,CAAA;QACT,uCAAG,CAAA;QACH,0DAAY,CAAA;QACZ,wCAAG,CAAA;QACH,wCAAG,CAAA;QACH,4CAAK,CAAA;QACL,oDAAS,CAAA;QACT,8CAAM,CAAA;QACN,8CAAM,CAAA;QACN,0DAAY,CAAA;QACZ,0DAAY,CAAA;QACZ,kDAAQ,CAAA;QACR,kDAAQ,CAAA;QACR,sDAAU,CAAA;QACV,kDAAQ,CAAA;QACR,oDAAS,CAAA;QACT,oEAAiB,CAAA;QACjB,8DAAc,CAAA;QACd,8DAAc,CAAA;QACd,4CAAK,CAAA;QACL,wCAAG,CAAA;QACH,wCAAG,CAAA;QACH,8CAAM,CAAA;QACN,4CAAK,CAAA;QACL,0CAAI,CAAA;QACJ,0CAAI,CAAA;QACJ,wDAAW,CAAA;QACX,sDAAU,CAAA;QACV,4CAAK,CAAA;QACL,gDAAO,CAAA;QACP,oEAAiB,CAAA;QACjB,0EAAoB,CAAA;QACpB,gDAAO,CAAA;QACP,oEAAiB,CAAA;QACjB,wCAAG,CAAA;QACH,wDAAW,CAAA;IACZ,CAAC,EA7CW,iBAAS,KAAT,iBAAS,QA6CpB;IA7CD,IAAY,SAAS,GAAT,iBA6CX,CAAA;IASD;QAMC,yBAAY,MAAc;YACzB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACrB,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC;YACzB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;QACnB,CAAC;QAEM,mCAAS,GAAhB,UAAiB,IAAW,EAAE,EAAyB;YAAzB,kBAAyB,GAAzB,KAAY,IAAI,CAAC,QAAQ;YACtD,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;QACxC,CAAC;QAEM,6BAAG,GAAV;YACC,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC;QAClC,CAAC;QAEM,6BAAG,GAAV;YACC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACtB,CAAC;QAEM,kCAAQ,GAAf,UAAgB,GAAU;YACzB,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;QACrB,CAAC;QAEM,gCAAM,GAAb,UAAc,CAAQ;YACrB,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC;QACpB,CAAC;QAEM,iCAAO,GAAd,UAAe,CAAQ;YACtB,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC;QACpB,CAAC;QAEM,kCAAQ,GAAf;YACC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,CAAC;QACrD,CAAC;QAEM,kCAAQ,GAAf,UAAgB,CAAU;YAAV,iBAAU,GAAV,KAAU;YACzB,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;QACvD,CAAC;QAEM,sCAAY,GAAnB,UAAoB,CAAU;YAAV,iBAAU,GAAV,KAAU;YAC7B,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;QACvD,CAAC;QAEM,uCAAa,GAApB,UAAqB,EAAS;YAC7B,EAAE,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAClD,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAChB,MAAM,CAAC,IAAI,CAAC;YACb,CAAC;YACD,MAAM,CAAC,KAAK,CAAC;QACd,CAAC;QAEM,wCAAc,GAArB,UAAsB,EAAW;YAChC,IAAI,CAAQ,CAAC;YACb,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;gBACpD,MAAM,CAAC,KAAK,CAAC;YACd,CAAC;YACD,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAChC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACzD,MAAM,CAAC,KAAK,CAAC;gBACd,CAAC;YACF,CAAC;YACD,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YAChB,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAEM,0CAAgB,GAAvB,UAAwB,SAA8B;YACrD,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC3B,OAAO,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC;gBACrF,IAAI,CAAC,QAAQ,EAAE,CAAC;YACjB,CAAC;YACD,MAAM,CAAC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC;QAC/B,CAAC;QACF,sBAAC;IAAD,CA7EA,AA6EC,IAAA;IA7EY,uBAAe,kBA6E3B,CAAA;IAED,IAAM,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAM,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAM,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAM,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAM,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAM,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAM,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAM,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAM,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAM,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAM,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAM,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAM,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAM,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAM,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAM,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAM,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAM,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAM,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAM,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAM,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAM,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAM,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC/B,IAAM,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC/B,IAAM,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC/B,IAAM,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC/B,IAAM,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC/B,IAAM,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC/B,IAAM,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC/B,IAAM,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC/B,IAAM,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC/B,IAAM,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC/B,IAAM,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC/B,IAAM,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC/B,IAAM,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC/B,IAAM,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;I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","file":"vs/languages/css/common/cssWorker.js","sourcesContent":["}).call(this);","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\n\r\nexport enum Level {\r\n\tIgnore = 1,\r\n\tWarning = 2,\r\n\tError = 4\r\n}\r\n\r\nexport function toLevel(level: string):Level {\r\n\tswitch (level) {\r\n\t\tcase 'ignore': return Level.Ignore;\r\n\t\tcase 'warning': return Level.Warning;\r\n\t\tcase 'error': return Level.Error;\r\n\t}\r\n\treturn null;\r\n}","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\n\r\nimport types = require('vs/base/common/types');\r\nimport _level = require('vs/languages/css/common/level');\r\n\r\n/// <summary>\r\n/// Nodes for the css 2.1 specification. See for reference:\r\n/// http://www.w3.org/TR/CSS21/grammar.html#grammar\r\n/// </summary>\r\n\r\nexport enum NodeType {\r\n\tUndefined,\r\n\tIdentifier,\r\n\tStylesheet,\r\n\tRuleset,\r\n\tSelector,\r\n\tSimpleSelector,\r\n\tSelectorInterpolation,\r\n\tSelectorCombinator,\r\n\tSelectorCombinatorParent,\r\n\tSelectorCombinatorSibling,\r\n\tSelectorCombinatorAllSiblings,\r\n\tPage,\r\n\tPageBoxMarginBox,\r\n\tClassSelector,\r\n\tIdentifierSelector,\r\n\tElementNameSelector,\r\n\tPseudoSelector,\r\n\tAttributeSelector,\r\n\tDeclaration,\r\n\tDeclarations,\r\n\tProperty,\r\n\tExpression,\r\n\tBinaryExpression,\r\n\tTerm,\r\n\tOperator,\r\n\tValue,\r\n\tStringLiteral,\r\n\tURILiteral,\r\n\tEscapedValue,\r\n\tFunction,\r\n\tNumericValue,\r\n\tHexColorValue,\r\n\tMixinDeclaration,\r\n\tMixinReference,\r\n\tVariableName,\r\n\tVariableDeclaration,\r\n\tPrio,\r\n\tInterpolation,\r\n\tNestedProperties,\r\n\tExtendsReference,\r\n\tSelectorPlaceholder,\r\n\tDebug,\r\n\tIf,\r\n\tElse,\r\n\tFor,\r\n\tEach,\r\n\tWhile,\r\n\tMixinContent,\r\n\tMedia,\r\n\tKeyframe,\r\n\tFontFace,\r\n\tImport,\r\n\tNamespace,\r\n\tInvocation,\r\n\tFunctionDeclaration,\r\n\tReturnStatement,\r\n\tMediaQuery,\r\n\tFunctionParameter,\r\n\tFunctionArgument,\r\n\tKeyframeSelector,\r\n\tViewPort,\r\n\tDocument\r\n}\r\n\r\nexport enum ReferenceType {\r\n\tMixin,\r\n\tRule,\r\n\tVariable,\r\n\tFunction,\r\n\tKeyframe,\r\n\tUnknown\r\n}\r\n\r\n\r\n\r\nexport function getNodeAtOffset(node:Node, offset:number):Node {\r\n\r\n\tvar candidate:Node = null;\r\n\tif (!node || offset < node.offset || offset > node.offset + node.length ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t// Find the shortest node at the position\r\n\tnode.accept((node) => {\r\n\t\tif (node.offset === -1 && node.length === -1) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (node.offset <= offset && node.offset + node.length >= offset) {\r\n\t\t\tif(!candidate) {\r\n\t\t\t\tcandidate = node;\r\n\t\t\t} else if(node.length <= candidate.length) {\r\n\t\t\t\tcandidate = node;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t});\r\n\treturn candidate;\r\n}\r\n\r\nexport function getNodePath(node:Node, offset:number):Node[] {\r\n\r\n\tvar candidate:Node = getNodeAtOffset(node, offset),\r\n\t\tpath:Node[] = [];\r\n\r\n\twhile(candidate) {\r\n\t\tpath.unshift(candidate);\r\n\t\tcandidate = candidate.parent;\r\n\t}\r\n\r\n\treturn path;\r\n}\r\n\r\nexport function getParentDeclaration(node:Node) : Declaration {\r\n\tvar decl = <Declaration> node.findParent(NodeType.Declaration);\r\n\tif (decl && decl.getValue() && decl.getValue().encloses(node)) {\r\n\t\treturn decl;\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nexport interface ITextProvider {\r\n\t(offset: number, length: number) : string;\r\n}\r\n\r\n\r\nexport class Node {\r\n\r\n\tpublic parent:Node;\r\n\r\n\tpublic offset:number;\r\n\tpublic length:number;\r\n\r\n\tpublic options:{[name:string]:any;};\r\n\r\n\tpublic textProvider: ITextProvider; // only set on the root node\r\n\r\n\tprivate children:Node[];\r\n\tprivate issues:IMarker[];\r\n\r\n\tprivate nodeType: NodeType;\r\n\r\n\tconstructor(offset:number=-1, len:number=-1, nodeType?: NodeType) {\r\n\t\tthis.parent = null;\r\n\t\tthis.offset = offset;\r\n\t\tthis.length = len;\r\n\t\tif (nodeType) {\r\n\t\t\tthis.nodeType = nodeType;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic set type(type:NodeType) {\r\n\t\tthis.nodeType = type;\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn this.nodeType || NodeType.Undefined;\r\n\t}\r\n\r\n\tpublic getTextProvider(): ITextProvider {\r\n\t\tvar node: Node = this;\r\n\t\twhile (node && !node.textProvider) {\r\n\t\t\tnode = node.parent;\r\n\t\t}\r\n\t\tif (node) {\r\n\t\t\treturn node.textProvider;\r\n\t\t}\r\n\t\treturn () => { return 'unknown'; };\r\n\t}\r\n\r\n\tpublic getText():string {\r\n\t\treturn this.getTextProvider()(this.offset, this.length);\r\n\t}\r\n\r\n\tpublic matches(str:string) : boolean {\r\n\t\treturn this.length === str.length && this.getTextProvider()(this.offset, this.length) === str;\r\n\t}\r\n\r\n\tpublic startsWith(str: string) : boolean {\r\n\t\treturn this.length >= str.length && this.getTextProvider()(this.offset, str.length) === str;\r\n\t}\r\n\r\n\tpublic endsWith(str: string) : boolean {\r\n\t\treturn this.length >= str.length && this.getTextProvider()(this.offset + this.length - str.length, str.length) === str;\r\n\t}\r\n\r\n\tpublic accept(visitor: IVisitorFunction):void;\r\n\tpublic accept(visitor: IVisitor):void;\r\n\tpublic accept(visitor: any):void {\r\n\r\n\t\tif(!types.isFunction(visitor)) {\r\n\t\t\tvisitor = visitor.visitNode.bind(visitor);\r\n\t\t}\r\n\r\n\t\tif(visitor(this) && this.children) {\r\n\t\t\tthis.children.forEach((child) => {\r\n\t\t\t\tchild.accept(visitor);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tpublic adoptChild(node:Node, index: number = -1):Node {\r\n\t\tif (node.parent && node.parent.children) {\r\n\t\t\tvar idx = node.parent.children.indexOf(node);\r\n\t\t\tif(idx >= 0) {\r\n\t\t\t\tnode.parent.children.splice(idx, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\tnode.parent = this;\r\n\t\tvar children = this.children;\r\n\t\tif (!children) {\r\n\t\t\tchildren = this.children = [];\r\n\t\t}\r\n\t\tif (index !== -1) {\r\n\t\t\tchildren.splice(idx, 0, node);\r\n\t\t} else {\r\n\t\t\tchildren.push(node);\r\n\t\t}\r\n\t\treturn node;\r\n\t}\r\n\r\n\tpublic attachTo(parent:Node, index:number=-1):Node {\r\n\t\tif (parent) {\r\n\t\t\tparent.adoptChild(this, index);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic collectIssues(results:any[]) : void {\r\n\t\tif (this.issues) {\r\n\t\t\tresults.push.apply(results, this.issues);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic addIssue(issue: IMarker) : void {\r\n\t\tif (!this.issues) {\r\n\t\t\tthis.issues = [];\r\n\t\t}\r\n\t\tthis.issues.push(issue);\r\n\t}\r\n\r\n\tpublic hasIssue(rule: IRule) : boolean {\r\n\t\treturn this.issues && this.issues.some(i => i.getRule() === rule);\r\n\t}\r\n\r\n\tpublic isErroneous():boolean {\r\n\t\treturn this.issues && this.issues.length > 0;\r\n\t}\r\n\r\n\tpublic setNode(field:string, node:Node, index:number=-1):boolean {\r\n\t\tif(node) {\r\n\t\t\tnode.attachTo(this, index);\r\n\t\t\tthis[field] = node;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic addChild(node:Node):boolean {\r\n\t\tif(node) {\r\n\t\t\tif (!this.children) {\r\n\t\t\t\tthis.children = [];\r\n\t\t\t}\r\n\t\t\tnode.attachTo(this);\r\n\t\t\tthis.updateOffsetAndLength(node);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprivate updateOffsetAndLength(node:Node):void {\r\n\t\tif (node.offset < this.offset || this.offset === -1) {\r\n\t\t\tthis.offset = node.offset;\r\n\t\t}\r\n\t\tif ((node.offset + node.length > this.offset + this.length) || this.length === -1)  {\r\n\t\t\tthis.length = node.offset + node.length - this.offset;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic hasChildren():boolean {\r\n\t\treturn this.children && this.children.length > 0;\r\n\t}\r\n\r\n\tpublic getChildren():Node[] {\r\n\t\treturn this.children ? this.children.slice(0) : [];\r\n\t}\r\n\r\n\tpublic getChild(index:number):Node {\r\n\t\tif (this.children && index < this.children.length) {\r\n\t\t\treturn this.children[index];\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic addChildren(nodes:Node[]):void {\r\n\t\tnodes.forEach((node) => this.addChild(node));\r\n\t}\r\n\r\n\tpublic findFirstChildBeforeOffset(offset:number): Node {\r\n\t\tif (this.children) {\r\n\t\t\tvar current:Node = null;\r\n\t\t\tfor (var i= this.children.length - 1; i >= 0; i--) {\r\n\t\t\t\t// iterate until we find a child that has a start offset smaller than the input offset\r\n\t\t\t\tcurrent= this.children[i];\r\n\t\t\t\tif (current.offset <= offset) {\r\n\t\t\t\t\treturn current;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic findChildAtOffset(offset:number, goDeep: boolean): Node {\r\n\t\tvar current:Node = this.findFirstChildBeforeOffset(offset);\r\n\t\tif (current && current.offset + current.length >= offset) {\r\n\t\t\tif (goDeep) {\r\n\t\t\t\treturn current.findChildAtOffset(offset, true) || current;\r\n\t\t\t}\r\n\t\t\treturn current;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic encloses(candidate:Node):boolean {\r\n\t\treturn this.offset <= candidate.offset && this.offset + this.length >= candidate.offset + candidate.length;\r\n\t}\r\n\r\n\tpublic getParent():Node {\r\n\t\tvar result = this.parent;\r\n\t\twhile(result instanceof Nodelist) {\r\n\t\t\tresult = result.parent;\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic findParent(type:NodeType):Node {\r\n\t\tvar result: Node = this;\r\n\t\twhile (result && result.type !== type) {\r\n\t\t\tresult = result.parent;\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic setData(key:string, value:any):void {\r\n\t\tif(!this.options) {\r\n\t\t\tthis.options = {};\r\n\t\t}\r\n\t\tthis.options[key] = value;\r\n\t}\r\n\r\n\tpublic getData(key:string):any {\r\n\t\tif(!this.options || !this.options.hasOwnProperty(key)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn this.options[key];\r\n\t}\r\n}\r\n\r\nexport class Nodelist extends Node {\r\n\r\n\tconstructor(parent:Node, index:number = -1) {\r\n\t\tsuper(-1, -1);\r\n\t\tthis.attachTo(parent, index);\r\n\t\tthis.offset = -1;\r\n\t\tthis.length = -1;\r\n\t}\r\n}\r\n\r\n\r\nexport class Identifier extends Node {\r\n\r\n\tpublic referenceTypes: ReferenceType[];\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.Identifier;\r\n\t}\r\n\r\n\tpublic containsInterpolation() : boolean {\r\n\t\treturn this.hasChildren();\r\n\t}\r\n}\r\n\r\nexport class Stylesheet extends Node {\r\n\r\n\tprivate name:string;\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.Stylesheet;\r\n\t}\r\n\r\n\tpublic setName(value:string):void {\r\n\t\tthis.name = value;\r\n\t}\r\n\r\n}\r\n\r\nexport class Declarations extends Node {\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.Declarations;\r\n\t}\r\n}\r\n\r\nexport class BodyDeclaration extends Node {\r\n\r\n\tprivate declarations: Declarations;\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic getDeclarations():Declarations {\r\n\t\treturn this.declarations;\r\n\t}\r\n\r\n\tpublic setDeclarations(decls:Declarations):boolean {\r\n\t\treturn this.setNode('declarations', decls);\r\n\t}\r\n\r\n}\r\n\r\nexport class RuleSet extends BodyDeclaration {\r\n\r\n\tprivate selectors:Nodelist;\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.Ruleset;\r\n\t}\r\n\r\n\tpublic getSelectors():Nodelist {\r\n\t\tif (!this.selectors) {\r\n\t\t\tthis.selectors = new Nodelist(this);\r\n\t\t}\r\n\t\treturn this.selectors;\r\n\t}\r\n\r\n\tpublic isNested():boolean {\r\n\t\treturn this.parent && this.parent.findParent(NodeType.Ruleset) !== null;\r\n\t}\r\n}\r\n\r\nexport class Selector extends Node {\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.Selector;\r\n\t}\r\n\r\n}\r\n\r\nexport class SimpleSelector extends Node {\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.SimpleSelector;\r\n\t}\r\n}\r\n\r\nexport abstract class AbstractDeclaration extends Node {\r\n\r\n\t// positions for code assist\r\n\tpublic colonPosition:number;\r\n\tpublic semicolonPosition:number; // semicolon following the declaration\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n}\r\n\r\nexport class Declaration extends AbstractDeclaration {\r\n\r\n\tprivate property:Property;\r\n\tprivate value:Expression;\r\n\tprivate nestedProprties:NestedProperties;\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.Declaration;\r\n\t}\r\n\r\n\tpublic setProperty(node:Property):boolean {\r\n\t\treturn this.setNode('property', node);\r\n\t}\r\n\r\n\tpublic getProperty():Property {\r\n\t\treturn this.property;\r\n\t}\r\n\r\n\tpublic getFullPropertyName(): string {\r\n\t\tvar propertyName = this.property ? this.property.getName() : 'unknown';\r\n\t\tif (this.parent instanceof Declarations && this.parent.getParent() instanceof NestedProperties) {\r\n\t\t\tvar parentDecl = this.parent.getParent().getParent();\r\n\t\t\tif (parentDecl instanceof Declaration) {\r\n\t\t\t\treturn (<Declaration> parentDecl).getFullPropertyName() + propertyName;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn propertyName;\r\n\t}\r\n\r\n\tpublic getNonPrefixedPropertyName() : string {\r\n\t\tvar propertyName = this.getFullPropertyName();\r\n\t\tif (propertyName && propertyName.charAt(0) === '-') {\r\n\t\t\tvar vendorPrefixEnd = propertyName.indexOf('-', 1);\r\n\t\t\tif (vendorPrefixEnd !== -1) {\r\n\t\t\t\treturn propertyName.substring(vendorPrefixEnd + 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn propertyName;\r\n\t}\r\n\r\n\tpublic setValue(value:Expression):boolean {\r\n\t\treturn this.setNode('value', value);\r\n\t}\r\n\r\n\tpublic getValue():Expression {\r\n\t\treturn this.value;\r\n\t}\r\n\r\n\tpublic setNestedProperties(value:NestedProperties):boolean {\r\n\t\treturn this.setNode('nestedProprties', value);\r\n\t}\r\n\r\n\tpublic getNestedProperties():NestedProperties {\r\n\t\treturn this.nestedProprties;\r\n\t}\r\n}\r\n\r\nexport class Property extends Node {\r\n\r\n\tprivate identifier: Identifier;\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.Property;\r\n\t}\r\n\r\n\tpublic setIdentifier(value: Identifier): boolean {\r\n\t\treturn this.setNode('identifier', value);\r\n\t}\r\n\r\n\tpublic getIdentifier():Identifier {\r\n\t\treturn this.identifier;\r\n\t}\r\n\r\n\tpublic getName():string {\r\n\t\treturn this.getText();\r\n\t}\r\n}\r\n\r\nexport class Invocation extends Node {\r\n\r\n\tprivate arguments:Nodelist;\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.Invocation;\r\n\t}\r\n\r\n\tpublic getArguments():Nodelist {\r\n\t\tif(!this.arguments) {\r\n\t\t\tthis.arguments = new Nodelist(this);\r\n\t\t}\r\n\t\treturn this.arguments;\r\n\t}\r\n}\r\n\r\nexport class Function extends Invocation {\r\n\r\n\tprivate identifier:Identifier;\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.Function;\r\n\t}\r\n\r\n\tpublic setIdentifier(node:Identifier):boolean {\r\n\t\treturn this.setNode('identifier', node, 0);\r\n\t}\r\n\r\n\tpublic getIdentifier(): Identifier {\r\n\t\treturn this.identifier;\r\n\t}\r\n\r\n\tpublic getName() : string {\r\n\t\treturn this.identifier ? this.identifier.getText() : '';\r\n\t}\r\n\r\n}\r\n\r\nexport class FunctionParameter extends Node {\r\n\r\n\tprivate identifier:Node;\r\n\tprivate defaultValue:Node;\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.FunctionParameter;\r\n\t}\r\n\r\n\tpublic setIdentifier(node:Node):boolean {\r\n\t\treturn this.setNode('identifier', node, 0);\r\n\t}\r\n\r\n\tpublic getIdentifier(): Node {\r\n\t\treturn this.identifier;\r\n\t}\r\n\r\n\tpublic getName() : string {\r\n\t\treturn this.identifier ? this.identifier.getText() : '';\r\n\t}\r\n\r\n\tpublic setDefaultValue(node: Node):boolean {\r\n\t\treturn this.setNode('defaultValue', node, 0);\r\n\t}\r\n\r\n\tpublic getDefaultValue(): Node {\r\n\t\treturn this.defaultValue;\r\n\t}\r\n}\r\n\r\nexport class FunctionArgument extends Node {\r\n\r\n\tprivate identifier:Node;\r\n\tprivate value:Node;\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.FunctionArgument;\r\n\t}\r\n\r\n\tpublic setIdentifier(node:Node):boolean {\r\n\t\treturn this.setNode('identifier', node, 0);\r\n\t}\r\n\r\n\tpublic getIdentifier(): Node {\r\n\t\treturn this.identifier;\r\n\t}\r\n\r\n\tpublic getName() : string {\r\n\t\treturn this.identifier ? this.identifier.getText() : '';\r\n\t}\r\n\r\n\tpublic setValue(node: Node):boolean {\r\n\t\treturn this.setNode('value', node, 0);\r\n\t}\r\n\r\n\tpublic getValue(): Node {\r\n\t\treturn this.value;\r\n\t}\r\n}\r\n\r\nexport class IfStatement extends BodyDeclaration {\r\n\tpublic expression:Expression;\r\n\tpublic elseClause: BodyDeclaration;\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.If;\r\n\t}\r\n\r\n\tpublic setExpression(node:Expression):boolean {\r\n\t\treturn this.setNode('expression', node, 0);\r\n\t}\r\n\r\n\tpublic setElseClause(elseClause:BodyDeclaration):boolean {\r\n\t\treturn this.setNode('elseClause', elseClause);\r\n\t}\r\n}\r\n\r\nexport class ForStatement extends BodyDeclaration {\r\n\tpublic variable:Variable;\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.For;\r\n\t}\r\n\r\n\tpublic setVariable(node:Variable):boolean {\r\n\t\treturn this.setNode('variable', node, 0);\r\n\t}\r\n}\r\n\r\nexport class EachStatement extends BodyDeclaration {\r\n\tpublic variable:Variable;\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.Each;\r\n\t}\r\n\r\n\tpublic setVariable(node:Variable):boolean {\r\n\t\treturn this.setNode('variable', node, 0);\r\n\t}\r\n}\r\n\r\nexport class WhileStatement extends BodyDeclaration {\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.While;\r\n\t}\r\n}\r\n\r\nexport class ElseStatement extends BodyDeclaration {\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.Else;\r\n\t}\r\n}\r\n\r\nexport class FunctionDeclaration extends BodyDeclaration {\r\n\tprivate identifier:Identifier;\r\n\tprivate parameters: Nodelist;\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.FunctionDeclaration;\r\n\t}\r\n\r\n\tpublic setIdentifier(node:Identifier):boolean {\r\n\t\treturn this.setNode('identifier', node, 0);\r\n\t}\r\n\r\n\tpublic getIdentifier(): Identifier {\r\n\t\treturn this.identifier;\r\n\t}\r\n\r\n\tpublic getName() : string {\r\n\t\treturn this.identifier ? this.identifier.getText() : '';\r\n\t}\r\n\r\n\tpublic getParameters():Nodelist {\r\n\t\tif(!this.parameters) {\r\n\t\t\tthis.parameters = new Nodelist(this);\r\n\t\t}\r\n\t\treturn this.parameters;\r\n\t}\r\n}\r\n\r\nexport class ViewPort extends BodyDeclaration {\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.ViewPort;\r\n\t}\r\n}\r\n\r\nexport class FontFace extends BodyDeclaration {\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.FontFace;\r\n\t}\r\n\r\n}\r\n\r\nexport class NestedProperties extends BodyDeclaration {\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.NestedProperties;\r\n\t}\r\n}\r\n\r\nexport class Keyframe extends BodyDeclaration {\r\n\r\n\tprivate keyword: Node;\r\n\tprivate identifier:Identifier;\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.Keyframe;\r\n\t}\r\n\r\n\tpublic setKeyword(keyword:Node):boolean {\r\n\t\treturn this.setNode('keyword', keyword, 0);\r\n\t}\r\n\r\n\tpublic getKeyword(): Node {\r\n\t\treturn this.keyword;\r\n\t}\r\n\r\n\tpublic setIdentifier(node:Identifier):boolean {\r\n\t\treturn this.setNode('identifier', node, 0);\r\n\t}\r\n\r\n\tpublic getIdentifier(): Identifier {\r\n\t\treturn this.identifier;\r\n\t}\r\n\r\n\tpublic getName() : string {\r\n\t\treturn this.identifier ? this.identifier.getText() : '';\r\n\t}\r\n}\r\n\r\nexport class KeyframeSelector extends BodyDeclaration {\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.KeyframeSelector;\r\n\t}\r\n}\r\n\r\nexport class Import extends Node {\r\n\r\n\tprivate medialist:Node;\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.Import;\r\n\t}\r\n\r\n\tpublic setMedialist(node:Node):boolean {\r\n\t\tif(node) {\r\n\t\t\tnode.attachTo(this);\r\n\t\t\tthis.medialist = node;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nexport class Namespace extends Node {\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.Namespace;\r\n\t}\r\n\r\n}\r\n\r\nexport class Media extends BodyDeclaration {\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.Media;\r\n\t}\r\n}\r\n\r\nexport class Document extends BodyDeclaration {\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.Document;\r\n\t}\r\n}\r\n\r\nexport class Medialist extends Node {\r\n\tprivate mediums:Nodelist;\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic getMediums():Nodelist {\r\n\t\tif (!this.mediums) {\r\n\t\t\tthis.mediums = new Nodelist(this);\r\n\t\t}\r\n\t\treturn this.mediums;\r\n\t}\r\n}\r\n\r\nexport class MediaQuery extends Node {\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.MediaQuery;\r\n\t}\r\n}\r\n\r\nexport class Page extends BodyDeclaration {\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.Page;\r\n\t}\r\n\r\n}\r\n\r\nexport class PageBoxMarginBox extends BodyDeclaration {\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.PageBoxMarginBox;\r\n\t}\r\n\r\n}\r\n\r\nexport class Expression extends Node {\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.Expression;\r\n\t}\r\n}\r\n\r\nexport class BinaryExpression extends Node {\r\n\r\n\tprivate left:Node;\r\n\tprivate right:Node;\r\n\tprivate operator:Node;\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.BinaryExpression;\r\n\t}\r\n\r\n\tpublic setLeft(left:Node):boolean {\r\n\t\treturn this.setNode('left', left);\r\n\t}\r\n\r\n\tpublic getLeft():Node {\r\n\t\treturn this.left;\r\n\t}\r\n\r\n\tpublic setRight(right:Node):boolean {\r\n\t\treturn this.setNode('right', right);\r\n\t}\r\n\r\n\tpublic getRight():Node {\r\n\t\treturn this.right;\r\n\t}\r\n\r\n\tpublic setOperator(value:Node):boolean {\r\n\t\treturn this.setNode('operator', value);\r\n\t}\r\n\r\n\tpublic getOperator():Node {\r\n\t\treturn this.operator;\r\n\t}\r\n}\r\n\r\nexport class Term extends Node {\r\n\r\n\tprivate operator:Node;\r\n\tprivate expression:Node;\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.Term;\r\n\t}\r\n\r\n\tpublic setOperator(value:Node):boolean {\r\n\t\treturn this.setNode('operator', value);\r\n\t}\r\n\r\n\tpublic getOperator():Node {\r\n\t\treturn this.operator;\r\n\t}\r\n\r\n\tpublic setExpression(value:Node):boolean {\r\n\t\treturn this.setNode('expression', value);\r\n\t}\r\n\r\n\tpublic getExpression():Node {\r\n\t\treturn this.expression;\r\n\t}\r\n}\r\n\r\nexport class Operator extends Node {\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.Operator;\r\n\t}\r\n\r\n}\r\n\r\nexport class HexColorValue extends Node {\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.HexColorValue;\r\n\t}\r\n\r\n}\r\n\r\nexport class NumericValue extends Node {\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.NumericValue;\r\n\t}\r\n\r\n\tpublic getValue() : { value: string; unit: string } {\r\n\t\tvar raw = this.getText();\r\n\t\tvar unitIdx = 0,\r\n\t\t\tcode:number,\r\n\t\t\t_dot = '.'.charCodeAt(0),\r\n\t\t\t_0 = '0'.charCodeAt(0),\r\n\t\t\t_9 = '9'.charCodeAt(0);\r\n\r\n\t\tfor (var i = 0, len = raw.length; i < len; i++) {\r\n\t\t\tcode = raw.charCodeAt(i);\r\n\t\t\tif(!(_0 <= code && code <= _9 || code === _dot)) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tunitIdx += 1;\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tvalue: raw.substring(0, unitIdx),\r\n\t\t\tunit: unitIdx < len ? raw.substring(unitIdx) : undefined\r\n\t\t};\r\n\t}\r\n}\r\n\r\nexport class VariableDeclaration extends AbstractDeclaration {\r\n\r\n\tprivate variable:Variable;\r\n\tprivate value:Node;\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.VariableDeclaration;\r\n\t}\r\n\r\n\tpublic setVariable(node:Variable):boolean {\r\n\t\tif (node) {\r\n\t\t\tnode.attachTo(this);\r\n\t\t\tthis.variable = node;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic getVariable():Variable {\r\n\t\treturn this.variable;\r\n\t}\r\n\r\n\tpublic getName():string {\r\n\t\treturn this.variable ? this.variable.getName() : '';\r\n\t}\r\n\r\n\tpublic setValue(node:Node):boolean {\r\n\t\tif (node) {\r\n\t\t\tnode.attachTo(this);\r\n\t\t\tthis.value = node;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n}\r\n\r\nexport class Interpolation extends Node {\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.Interpolation;\r\n\t}\r\n}\r\n\r\nexport class Variable extends Node {\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.VariableName;\r\n\t}\r\n\r\n\tpublic getName():string {\r\n\t\treturn this.getText();\r\n\t}\r\n\r\n}\r\n\r\nexport class ExtendsReference extends Node {\r\n\tprivate selector:Selector;\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.ExtendsReference;\r\n\t}\r\n\r\n\tpublic setSelector(node:Selector):boolean {\r\n\t\treturn this.setNode('selector', node, 0);\r\n\t}\r\n\r\n\tpublic getSelector(): Selector {\r\n\t\treturn this.selector;\r\n\t}\r\n\r\n\tpublic getName() : string {\r\n\t\treturn this.selector ? this.selector.getText() : '';\r\n\t}\r\n}\r\n\r\n\r\nexport class MixinReference extends Node {\r\n\tprivate identifier:Identifier;\r\n\tprivate arguments:Nodelist;\r\n\tprivate content: BodyDeclaration;\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.MixinReference;\r\n\t}\r\n\r\n\tpublic setIdentifier(node:Identifier):boolean {\r\n\t\treturn this.setNode('identifier', node, 0);\r\n\t}\r\n\r\n\tpublic getIdentifier(): Identifier {\r\n\t\treturn this.identifier;\r\n\t}\r\n\r\n\tpublic getName() : string {\r\n\t\treturn this.identifier ? this.identifier.getText() : '';\r\n\t}\r\n\r\n\tpublic getArguments():Nodelist {\r\n\t\tif (!this.arguments) {\r\n\t\t\tthis.arguments = new Nodelist(this);\r\n\t\t}\r\n\t\treturn this.arguments;\r\n\t}\r\n\r\n\tpublic setContent(node:BodyDeclaration):boolean {\r\n\t\treturn this.setNode('content', node);\r\n\t}\r\n\r\n\tpublic getContent(): BodyDeclaration {\r\n\t\treturn this.content;\r\n\t}\r\n}\r\n\r\nexport class MixinDeclaration extends BodyDeclaration {\r\n\r\n\tprivate identifier:Identifier;\r\n\tprivate parameters:Nodelist;\r\n\tprivate guard:LessGuard;\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tsuper(offset, length);\r\n\t}\r\n\r\n\tpublic get type():NodeType {\r\n\t\treturn NodeType.MixinDeclaration;\r\n\t}\r\n\r\n\tpublic setIdentifier(node:Identifier):boolean {\r\n\t\treturn this.setNode('identifier', node, 0);\r\n\t}\r\n\r\n\tpublic getIdentifier(): Identifier {\r\n\t\treturn this.identifier;\r\n\t}\r\n\r\n\tpublic getName() : string {\r\n\t\treturn this.identifier ? this.identifier.getText() : '';\r\n\t}\r\n\r\n\tpublic getParameters():Nodelist {\r\n\t\tif (!this.parameters) {\r\n\t\t\tthis.parameters = new Nodelist(this);\r\n\t\t}\r\n\t\treturn this.parameters;\r\n\t}\r\n\r\n\tpublic setGuard(node:LessGuard):boolean {\r\n\t\tif(node) {\r\n\t\t\tnode.attachTo(this);\r\n\t\t\tthis.guard = node;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nexport class LessGuard extends Node {\r\n\r\n\tpublic isNegated:boolean;\r\n\tprivate conditions:Nodelist;\r\n\r\n\tpublic getConditions():Nodelist {\r\n\t\tif(!this.conditions) {\r\n\t\t\tthis.conditions = new Nodelist(this);\r\n\t\t}\r\n\t\treturn this.conditions;\r\n\t}\r\n}\r\n\r\nexport class GuardCondition extends Node {\r\n\r\n\tpublic variable:Node;\r\n\tpublic isEquals:boolean;\r\n\tpublic isGreater:boolean;\r\n\tpublic isEqualsGreater:boolean;\r\n\tpublic isLess:boolean;\r\n\tpublic isEqualsLess:boolean;\r\n\r\n\tpublic setVariable(node:Node):boolean {\r\n\t\treturn this.setNode('variable', node);\r\n\t}\r\n}\r\n\r\nexport interface IRule {\r\n\tid: string;\r\n\tmessage: string;\r\n}\r\n\r\n\r\nexport interface IMarker {\r\n\tgetNode():Node;\r\n\tgetMessage():string;\r\n\tgetOffset(): number;\r\n\tgetLength(): number;\r\n\tgetRule():IRule;\r\n\tgetLevel():_level.Level;\r\n}\r\n\r\nexport class Marker implements IMarker {\r\n\r\n\tprivate node:Node;\r\n\tprivate rule:IRule;\r\n\tprivate level:_level.Level;\r\n\tprivate message:string;\r\n\tprivate offset:number;\r\n\tprivate length:number;\r\n\r\n\tconstructor(node:Node, rule:IRule, level:_level.Level, message?:string, offset:number=node.offset, length:number=node.length) {\r\n\t\tthis.node = node;\r\n\t\tthis.rule = rule;\r\n\t\tthis.level = level;\r\n\t\tthis.message = message || rule.message;\r\n\t\tthis.offset= offset;\r\n\t\tthis.length= length;\r\n\t}\r\n\r\n\tpublic getRule():IRule {\r\n\t\treturn this.rule;\r\n\t}\r\n\r\n\tpublic getLevel():_level.Level {\r\n\t\treturn this.level;\r\n\t}\r\n\r\n\tpublic getOffset():number {\r\n\t\treturn this.offset;\r\n\t}\r\n\r\n\tpublic getLength():number {\r\n\t\treturn this.length;\r\n\t}\r\n\r\n\tpublic getNode():Node {\r\n\t\treturn this.node;\r\n\t}\r\n\r\n\tpublic getMessage():string {\r\n\t\treturn this.message;\r\n\t}\r\n}\r\n\r\nexport interface IVisitor {\r\n\tvisitNode:(node:Node)=>boolean;\r\n}\r\n\r\nexport interface IVisitorFunction {\r\n\t(node:Node):boolean;\r\n}\r\n/*\r\nexport class DefaultVisitor implements IVisitor {\r\n\r\n\tpublic visitNode(node:Node):boolean {\r\n\t\tswitch (node.type) {\r\n\t\t\tcase NodeType.Stylesheet:\r\n\t\t\t\treturn this.visitStylesheet(<Stylesheet> node);\r\n\t\t\tcase NodeType.FontFace:\r\n\t\t\t\treturn this.visitFontFace(<FontFace> node);\r\n\t\t\tcase NodeType.Ruleset:\r\n\t\t\t\treturn this.visitRuleSet(<RuleSet> node);\r\n\t\t\tcase NodeType.Selector:\r\n\t\t\t\treturn this.visitSelector(<Selector> node);\r\n\t\t\tcase NodeType.SimpleSelector:\r\n\t\t\t\treturn this.visitSimpleSelector(<SimpleSelector> node);\r\n\t\t\tcase NodeType.Declaration:\r\n\t\t\t\treturn this.visitDeclaration(<Declaration> node);\r\n\t\t\tcase NodeType.Function:\r\n\t\t\t\treturn this.visitFunction(<Function> node);\r\n\t\t\tcase NodeType.FunctionDeclaration:\r\n\t\t\t\treturn this.visitFunctionDeclaration(<FunctionDeclaration> node);\r\n\t\t\tcase NodeType.FunctionParameter:\r\n\t\t\t\treturn this.visitFunctionParameter(<FunctionParameter> node);\r\n\t\t\tcase NodeType.FunctionArgument:\r\n\t\t\t\treturn this.visitFunctionArgument(<FunctionArgument> node);\r\n\t\t\tcase NodeType.Term:\r\n\t\t\t\treturn this.visitTerm(<Term> node);\r\n\t\t\tcase NodeType.Declaration:\r\n\t\t\t\treturn this.visitExpression(<Expression> node);\r\n\t\t\tcase NodeType.NumericValue:\r\n\t\t\t\treturn this.visitNumericValue(<NumericValue> node);\r\n\t\t\tcase NodeType.Page:\r\n\t\t\t\treturn this.visitPage(<Page> node);\r\n\t\t\tcase NodeType.PageBoxMarginBox:\r\n\t\t\t\treturn this.visitPageBoxMarginBox(<PageBoxMarginBox> node);\r\n\t\t\tcase NodeType.Property:\r\n\t\t\t\treturn this.visitProperty(<Property> node);\r\n\t\t\tcase NodeType.NumericValue:\r\n\t\t\t\treturn this.visitNodelist(<Nodelist> node);\r\n\t\t\tcase NodeType.Import:\r\n\t\t\t\treturn this.visitImport(<Import> node);\r\n\t\t\tcase NodeType.Namespace:\r\n\t\t\t\treturn this.visitNamespace(<Namespace> node);\r\n\t\t\tcase NodeType.Keyframe:\r\n\t\t\t\treturn this.visitKeyframe(<Keyframe> node);\r\n\t\t\tcase NodeType.KeyframeSelector:\r\n\t\t\t\treturn this.visitKeyframeSelector(<KeyframeSelector> node);\r\n\t\t\tcase NodeType.MixinDeclaration:\r\n\t\t\t\treturn this.visitMixinDeclaration(<MixinDeclaration> node);\r\n\t\t\tcase NodeType.MixinReference:\r\n\t\t\t\treturn this.visitMixinReference(<MixinReference> node);\r\n\t\t\tcase NodeType.Variable:\r\n\t\t\t\treturn this.visitVariable(<Variable> node);\r\n\t\t\tcase NodeType.VariableDeclaration:\r\n\t\t\t\treturn this.visitVariableDeclaration(<VariableDeclaration> node);\r\n\t\t}\r\n\t\treturn this.visitUnknownNode(node);\r\n\t}\r\n\r\n\tpublic visitFontFace(node:FontFace):boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitKeyframe(node:Keyframe):boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitKeyframeSelector(node:KeyframeSelector):boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitStylesheet(node:Stylesheet):boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitProperty(Node:Property):boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitRuleSet(node:RuleSet):boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitSelector(node:Selector):boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitSimpleSelector(node:SimpleSelector):boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitDeclaration(node:Declaration):boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitFunction(node:Function):boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitFunctionDeclaration(node:FunctionDeclaration):boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitInvocation(node:Invocation):boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitTerm(node:Term):boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitImport(node:Import):boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitNamespace(node:Namespace):boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitExpression(node:Expression):boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitNumericValue(node:NumericValue):boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitPage(node:Page):boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitPageBoxMarginBox(node:PageBoxMarginBox):boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitNodelist(node:Nodelist):boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitVariableDeclaration(node:VariableDeclaration):boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitVariable(node:Variable):boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitMixinDeclaration(node:MixinDeclaration):boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitMixinReference(node:MixinReference):boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitUnknownNode(node:Node):boolean {\r\n\t\treturn true;\r\n\t}\r\n}\r\n*/\r\nexport class ParseErrorCollector implements IVisitor {\r\n\r\n\tstatic entries(node:Node):IMarker[] {\r\n\t\tvar visitor = new ParseErrorCollector();\r\n\t\tnode.accept(visitor);\r\n\t\treturn visitor.entries;\r\n\t}\r\n\r\n\tpublic entries:IMarker[];\r\n\r\n\tconstructor() {\r\n\t\tthis.entries = [];\r\n\t}\r\n\r\n\tpublic visitNode(node:Node):boolean {\r\n\r\n\t\tif(node.isErroneous()) {\r\n\t\t\tnode.collectIssues(this.entries);\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\n\r\nexport enum TokenType {\r\n\tIdent,\r\n\tAtKeyword,\r\n\tString,\r\n\tBadString,\r\n\tBadUri,\r\n\tHash,\r\n\tNum,\r\n\tPercentage,\r\n\tDimension,\r\n\tURI,\r\n\tUnicodeRange,\r\n\tCDO,\r\n\tCDC,\r\n\tColon,\r\n\tSemiColon,\r\n\tCurlyL,\r\n\tCurlyR,\r\n\tParenthesisL,\r\n\tParenthesisR,\r\n\tBracketL,\r\n\tBracketR,\r\n\tWhitespace,\r\n\tIncludes,\r\n\tDashmatch,\r\n\tSubstringOperator,\r\n\tPrefixOperator,\r\n\tSuffixOperator,\r\n\tDelim,\r\n\tEMS,\r\n\tEXS,\r\n\tLength,\r\n\tAngle,\r\n\tTime,\r\n\tFreq,\r\n\tExclamation,\r\n\tResolution,\r\n\tComma,\r\n\tCharset,\r\n\tEscapedJavaScript,\r\n\tBadEscapedJavaScript,\r\n\tComment,\r\n\tSingleLineComment,\r\n\tEOF,\r\n\tCustomToken\r\n}\r\n\r\nexport interface IToken {\r\n\ttype: TokenType;\r\n\ttext: string;\r\n\toffset: number;\r\n\tlen: number;\r\n}\r\n\r\nexport class MultiLineStream {\r\n\r\n\tprivate source:string;\r\n\tprivate len:number;\r\n\tprivate position:number;\r\n\r\n\tconstructor(source: string) {\r\n\t\tthis.source = source;\r\n\t\tthis.len = source.length;\r\n\t\tthis.position = 0;\r\n\t}\r\n\r\n\tpublic substring(from:number, to:number = this.position):string {\r\n\t\treturn this.source.substring(from, to);\r\n\t}\r\n\r\n\tpublic eos():boolean {\r\n\t\treturn this.len <= this.position;\r\n\t}\r\n\r\n\tpublic pos():number {\r\n\t\treturn this.position;\r\n\t}\r\n\r\n\tpublic goBackTo(pos:number):void {\r\n\t\tthis.position = pos;\r\n\t}\r\n\r\n\tpublic goBack(n:number):void {\r\n\t\tthis.position -= n;\r\n\t}\r\n\r\n\tpublic advance(n:number):void {\r\n\t\tthis.position += n;\r\n\t}\r\n\r\n\tpublic nextChar():number {\r\n\t\treturn this.source.charCodeAt(this.position++) || 0;\r\n\t}\r\n\r\n\tpublic peekChar(n:number=0):number {\r\n\t\treturn this.source.charCodeAt(this.position + n) || 0;\r\n\t}\r\n\r\n\tpublic lookbackChar(n:number=0):number {\r\n\t\treturn this.source.charCodeAt(this.position - n) || 0;\r\n\t}\r\n\r\n\tpublic advanceIfChar(ch:number):boolean {\r\n\t\tif (ch === this.source.charCodeAt(this.position)) {\r\n\t\t\tthis.position++;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic advanceIfChars(ch:number[]):boolean {\r\n\t\tlet i:number;\r\n\t\tif (this.position + ch.length > this.source.length) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor (i = 0; i < ch.length; i++) {\r\n\t\t\tif (this.source.charCodeAt(this.position + i) !== ch[i]) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.advance(i);\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic advanceWhileChar(condition:(ch:number)=>boolean):number {\r\n\t\tlet posNow = this.position;\r\n\t\twhile (this.position < this.len && condition(this.source.charCodeAt(this.position))) {\r\n\t\t\tthis.position++;\r\n\t\t}\r\n\t\treturn this.position - posNow;\r\n\t}\r\n}\r\n\r\nconst _a = 'a'.charCodeAt(0);\r\nconst _e = 'e'.charCodeAt(0);\r\nconst _f = 'f'.charCodeAt(0);\r\nconst _i = 'i'.charCodeAt(0);\r\nconst _l = 'l'.charCodeAt(0);\r\nconst _p = 'p'.charCodeAt(0);\r\nconst _r = 'r'.charCodeAt(0);\r\nconst _u = 'u'.charCodeAt(0);\r\nconst _x = 'x'.charCodeAt(0);\r\nconst _z = 'z'.charCodeAt(0);\r\nconst _A = 'A'.charCodeAt(0);\r\nconst _E = 'E'.charCodeAt(0);\r\nconst _F = 'F'.charCodeAt(0);\r\nconst _I = 'I'.charCodeAt(0);\r\nconst _L = 'L'.charCodeAt(0);\r\nconst _P = 'P'.charCodeAt(0);\r\nconst _R = 'R'.charCodeAt(0);\r\nconst _U = 'U'.charCodeAt(0);\r\nconst _X = 'X'.charCodeAt(0);\r\nconst _Z = 'Z'.charCodeAt(0);\r\nconst _0 = '0'.charCodeAt(0);\r\nconst _9 = '9'.charCodeAt(0);\r\nconst _TLD = '~'.charCodeAt(0);\r\nconst _HAT = '^'.charCodeAt(0);\r\nconst _EQS = '='.charCodeAt(0);\r\nconst _PIP = '|'.charCodeAt(0);\r\nconst _MIN = '-'.charCodeAt(0);\r\nconst _USC = '_'.charCodeAt(0);\r\nconst _PRC = '%'.charCodeAt(0);\r\nconst _MUL = '*'.charCodeAt(0);\r\nconst _LPA = '('.charCodeAt(0);\r\nconst _RPA = ')'.charCodeAt(0);\r\nconst _LAN = '<'.charCodeAt(0);\r\nconst _RAN = '>'.charCodeAt(0);\r\nconst _ATS = '@'.charCodeAt(0);\r\nconst _HSH = '#'.charCodeAt(0);\r\nconst _DLR = '$'.charCodeAt(0);\r\nconst _BSL = '\\\\'.charCodeAt(0);\r\nconst _FSL = '/'.charCodeAt(0);\r\nconst _NWL = '\\n'.charCodeAt(0);\r\nconst _CAR = '\\r'.charCodeAt(0);\r\nconst _LFD = '\\f'.charCodeAt(0);\r\nconst _DQO = '\"'.charCodeAt(0);\r\nconst _SQO = '\\''.charCodeAt(0);\r\nconst _WSP = ' '.charCodeAt(0);\r\nconst _TAB = '\\t'.charCodeAt(0);\r\nconst _SEM = ';'.charCodeAt(0);\r\nconst _COL = ':'.charCodeAt(0);\r\nconst _CUL = '{'.charCodeAt(0);\r\nconst _CUR = '}'.charCodeAt(0);\r\nconst _BRL = '['.charCodeAt(0);\r\nconst _BRR = ']'.charCodeAt(0);\r\nconst _CMA = ','.charCodeAt(0);\r\nconst _DOT = '.'.charCodeAt(0);\r\nconst _BNG = '!'.charCodeAt(0);\r\n\r\nconst _url = [_u, _U, _r, _R, _l, _L, _LPA, _LPA];\r\nconst _url_prefix = [_u, _U, _r, _R, _l, _L, _MIN, _MIN, _p, _P, _r, _R, _e, _E, _f, _F, _i, _I, _x, _X, _LPA, _LPA];\r\n\r\nconst staticTokenTable:{[code:number]:TokenType;} = {};\r\nstaticTokenTable[_SEM] = TokenType.SemiColon;\r\nstaticTokenTable[_COL] = TokenType.Colon;\r\nstaticTokenTable[_CUL] = TokenType.CurlyL;\r\nstaticTokenTable[_CUR] = TokenType.CurlyR;\r\nstaticTokenTable[_BRR] = TokenType.BracketR;\r\nstaticTokenTable[_BRL] = TokenType.BracketL;\r\nstaticTokenTable[_LPA] = TokenType.ParenthesisL;\r\nstaticTokenTable[_RPA] = TokenType.ParenthesisR;\r\nstaticTokenTable[_CMA] = TokenType.Comma;\r\n\r\nconst staticUnitTable:{[code:number]:TokenType;} = {};\r\nstaticUnitTable['em'] = TokenType.EMS;\r\nstaticUnitTable['ex'] = TokenType.EXS;\r\nstaticUnitTable['px'] = TokenType.Length;\r\nstaticUnitTable['cm'] = TokenType.Length;\r\nstaticUnitTable['mm'] = TokenType.Length;\r\nstaticUnitTable['in'] = TokenType.Length;\r\nstaticUnitTable['pt'] = TokenType.Length;\r\nstaticUnitTable['pc'] = TokenType.Length;\r\nstaticUnitTable['deg'] = TokenType.Angle;\r\nstaticUnitTable['rad'] = TokenType.Angle;\r\nstaticUnitTable['grad'] = TokenType.Angle;\r\nstaticUnitTable['ms'] = TokenType.Time;\r\nstaticUnitTable['s'] = TokenType.Time;\r\nstaticUnitTable['hz'] = TokenType.Freq;\r\nstaticUnitTable['khz'] = TokenType.Freq;\r\nstaticUnitTable['%'] = TokenType.Percentage;\r\nstaticUnitTable['dpi'] = TokenType.Resolution;\r\nstaticUnitTable['dpcm'] = TokenType.Resolution;\r\n\r\nexport class Scanner {\r\n\r\n\tpublic stream: MultiLineStream;\r\n\tpublic ignoreComment = true;\r\n\tpublic ignoreWhitespace = true;\r\n\r\n\tpublic setSource(input: string): void {\r\n\t\tthis.stream = new MultiLineStream(input);\r\n\t}\r\n\r\n\tpublic finishToken(offset: number, type: TokenType, text?: string): IToken {\r\n\t\treturn {\r\n\t\t\toffset: offset,\r\n\t\t\tlen: this.stream.pos() - offset,\r\n\t\t\ttype: type,\r\n\t\t\ttext: text || this.stream.substring(offset)\r\n\t\t};\r\n\t}\r\n\r\n\tpublic substring(offset:number, len:number):string {\r\n\t\treturn this.stream.substring(offset, offset + len);\r\n\t}\r\n\r\n\tpublic pos():number {\r\n\t\treturn this.stream.pos();\r\n\t}\r\n\r\n\tpublic goBackTo(pos: number):void {\r\n\t\tthis.stream.goBackTo(pos);\r\n\t}\r\n\r\n\tpublic scan(): IToken {\r\n\t\t// processes all whitespaces and comments\r\n\t\tlet triviaToken = this.trivia();\r\n\t\tif (triviaToken !== null) {\r\n\t\t\treturn triviaToken;\r\n\t\t}\r\n\r\n\t\tlet offset = this.stream.pos();\r\n\r\n\t\t// End of file/input\r\n\t\tif (this.stream.eos()) {\r\n\t\t\treturn this.finishToken(offset, TokenType.EOF);\r\n\t\t}\r\n\r\n\t\t// CDO <!--\r\n\t\tif (this.stream.advanceIfChars([_LAN, _BNG, _MIN, _MIN])) {\r\n\t\t\treturn this.finishToken(offset, TokenType.CDO);\r\n\t\t}\r\n\r\n\t\t// CDC -->\r\n\t\tif (this.stream.advanceIfChars([_MIN, _MIN, _RAN])) {\r\n\t\t\treturn this.finishToken(offset, TokenType.CDC);\r\n\t\t}\r\n\r\n\t\t// URL\r\n\t\tlet tokenType = this._url();\r\n\t\tif (tokenType !== null) {\r\n\t\t\treturn this.finishToken(offset, tokenType);\r\n\t\t}\r\n\r\n\t\tlet content: string[] = [];\r\n\t\tif (this.ident(content)) {\r\n\t\t\treturn this.finishToken(offset, TokenType.Ident, content.join(''));\r\n\t\t}\r\n\r\n\t\t// at-keyword\r\n\t\tif (this.stream.advanceIfChar(_ATS)) {\r\n\t\t\tcontent = [ '@' ];\r\n\t\t\tif (this._name(content)) {\r\n\t\t\t\tlet keywordText = content.join('');\r\n\t\t\t\tif (keywordText === '@charset') {\r\n\t\t\t\t\treturn this.finishToken(offset, TokenType.Charset, keywordText);\r\n\t\t\t\t}\r\n\t\t\t\treturn this.finishToken(offset, TokenType.AtKeyword, keywordText);\r\n\t\t\t} else {\r\n\t\t\t\treturn this.finishToken(offset, TokenType.Delim);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// hash\r\n\t\tif (this.stream.advanceIfChar(_HSH)) {\r\n\t\t\tcontent = [ '#' ];\r\n\t\t\tif (this._name(content)) {\r\n\t\t\t\treturn this.finishToken(offset, TokenType.Hash, content.join(''));\r\n\t\t\t} else {\r\n\t\t\t\treturn this.finishToken(offset, TokenType.Delim);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Important\r\n\t\tif (this.stream.advanceIfChar(_BNG)) {\r\n\t\t\treturn this.finishToken(offset, TokenType.Exclamation);\r\n\t\t}\r\n\r\n\t\t// Numbers\r\n\t\tif (this._number()) {\r\n\r\n\t\t\tlet pos = this.stream.pos();\r\n\t\t\tcontent = [ this.stream.substring(offset, pos) ];\r\n\t\t\tif (this.stream.advanceIfChar(_PRC)) {\r\n\t\t\t\t// Percentage 43%\r\n\t\t\t\treturn this.finishToken(offset, TokenType.Percentage);\r\n\t\t\t} else if (this.ident(content)) {\r\n\t\t\t\tlet dim = this.stream.substring(pos).toLowerCase();\r\n\t\t\t\ttokenType = <TokenType>staticUnitTable[dim];\r\n\t\t\t\tif (typeof tokenType !== 'undefined') {\r\n\t\t\t\t\t// Known dimension 43px\r\n\t\t\t\t\treturn this.finishToken(offset, tokenType, content.join(''));\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Unknown dimension 43ft\r\n\t\t\t\t\treturn this.finishToken(offset, TokenType.Dimension, content.join(''));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn this.finishToken(offset, TokenType.Num);\r\n\t\t}\r\n\r\n\t\t// String, BadString\r\n\t\tcontent = [];\r\n\t\ttokenType = this._string(content);\r\n\t\tif (tokenType !== null) {\r\n\t\t\treturn this.finishToken(offset, tokenType, content.join(''));\r\n\t\t}\r\n\r\n\t\t// single character tokens\r\n\t\ttokenType = <TokenType>staticTokenTable[this.stream.peekChar()];\r\n\t\tif (typeof tokenType !== 'undefined') {\r\n\t\t\tthis.stream.advance(1);\r\n\t\t\treturn this.finishToken(offset, tokenType);\r\n\t\t}\r\n\r\n\t\t// includes ~=\r\n\t\tif (this.stream.peekChar(0) === _TLD && this.stream.peekChar(1) === _EQS) {\r\n\t\t\tthis.stream.advance(2);\r\n\t\t\treturn this.finishToken(offset, TokenType.Includes);\r\n\t\t}\r\n\r\n\t\t// DashMatch |=\r\n\t\tif (this.stream.peekChar(0) === _PIP && this.stream.peekChar(1) === _EQS) {\r\n\t\t\tthis.stream.advance(2);\r\n\t\t\treturn this.finishToken(offset, TokenType.Dashmatch);\r\n\t\t}\r\n\r\n\t\t// Substring operator *=\r\n\t\tif (this.stream.peekChar(0) === _MUL && this.stream.peekChar(1) === _EQS) {\r\n\t\t\tthis.stream.advance(2);\r\n\t\t\treturn this.finishToken(offset, TokenType.SubstringOperator);\r\n\t\t}\r\n\r\n\t\t// Substring operator ^=\r\n\t\tif (this.stream.peekChar(0) === _HAT && this.stream.peekChar(1) === _EQS) {\r\n\t\t\tthis.stream.advance(2);\r\n\t\t\treturn this.finishToken(offset, TokenType.PrefixOperator);\r\n\t\t}\r\n\r\n\t\t// Substring operator $=\r\n\t\tif (this.stream.peekChar(0) === _DLR && this.stream.peekChar(1) === _EQS) {\r\n\t\t\tthis.stream.advance(2);\r\n\t\t\treturn this.finishToken(offset, TokenType.SuffixOperator);\r\n\t\t}\r\n\r\n\t\t// Delim\r\n\t\tthis.stream.nextChar();\r\n\t\treturn this.finishToken(offset, TokenType.Delim);\r\n\t}\r\n\r\n\tprivate _matchWordAnyCase(characters:number[]): boolean {\r\n\t\tlet index = 0;\r\n\t\tthis.stream.advanceWhileChar((ch:number) => {\r\n\t\t\tlet result = characters[index] === ch || characters[index+1] === ch;\r\n\t\t\tif (result) {\r\n\t\t\t\tindex += 2;\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t});\r\n\t\tif (index === characters.length) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\tthis.stream.goBack(index/2);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tprotected trivia(): IToken {\r\n\t\twhile (true) {\r\n\t\t\tlet offset = this.stream.pos();\r\n\t\t\tif (this._whitespace()) {\r\n\t\t\t\tif (!this.ignoreWhitespace) {\r\n\t\t\t\t\treturn this.finishToken(offset, TokenType.Whitespace);\r\n\t\t\t\t}\r\n\t\t\t} else if (this.comment()) {\r\n\t\t\t\tif (!this.ignoreComment) {\r\n\t\t\t\t\treturn this.finishToken(offset, TokenType.Comment);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprotected comment():boolean {\r\n\t\tif (this.stream.advanceIfChars([_FSL, _MUL])) {\r\n\t\t\tlet success = false, hot = false;\r\n\t\t\tthis.stream.advanceWhileChar((ch) => {\r\n\t\t\t\tif (hot && ch === _FSL) {\r\n\t\t\t\t\tsuccess = true;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\thot = ch === _MUL;\r\n\t\t\t\treturn true;\r\n\t\t\t});\r\n\t\t\tif (success) {\r\n\t\t\t\tthis.stream.advance(1);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprivate _number():boolean {\r\n\t\tlet npeek = 0, ch:number;\r\n\t\tif (this.stream.peekChar() === _DOT) {\r\n\t\t\tnpeek = 1;\r\n\t\t}\r\n\t\tch = this.stream.peekChar(npeek);\r\n\t\tif (ch >= _0 && ch <= _9) {\r\n\t\t\tthis.stream.advance(npeek + 1);\r\n\t\t\tthis.stream.advanceWhileChar((ch) => {\r\n\t\t\t\treturn ch >= _0 && ch <= _9 || npeek === 0 && ch === _DOT;\r\n\t\t\t});\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprivate _newline(result: string[]):boolean {\r\n\t\tlet ch = this.stream.peekChar();\r\n\t\tswitch (ch) {\r\n\t\t\tcase _CAR:\r\n\t\t\tcase _LFD:\r\n\t\t\tcase _NWL:\r\n\t\t\t\tthis.stream.advance(1);\r\n\t\t\t\tresult.push(String.fromCharCode(ch));\r\n\t\t\t\tif (ch === _CAR && this.stream.advanceIfChar(_NWL)) {\r\n\t\t\t\t\tresult.push('\\n');\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t}\r\n\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprivate _escape(result: string[], includeNewLines?:boolean):boolean {\r\n\t\tlet ch = this.stream.peekChar();\r\n\t\tif (ch === _BSL) {\r\n\t\t\tthis.stream.advance(1);\r\n\t\t\tch = this.stream.peekChar();\r\n\t\t\tlet hexNumCount = 0;\r\n\t\t\twhile (hexNumCount < 6 && (ch >= _0 && ch <= _9 || ch >= _a && ch <= _f || ch >= _A && ch <= _F)) {\r\n\t\t\t\tthis.stream.advance(1);\r\n\t\t\t\tch = this.stream.peekChar();\r\n\t\t\t\thexNumCount++;\r\n\t\t\t}\r\n\t\t\tif (hexNumCount > 0) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet hexVal= parseInt(this.stream.substring(this.stream.pos() - hexNumCount), 16);\r\n\t\t\t\t\tif (hexVal) {\r\n\t\t\t\t\t\tresult.push(String.fromCharCode(hexVal));\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t// ignore\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// optional whitespace or new line, not part of result text\r\n\t\t\t\tif (ch === _WSP || ch === _TAB) {\r\n\t\t\t\t\tthis.stream.advance(1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis._newline([]);\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tif (ch !== _CAR && ch !== _LFD && ch !== _NWL) {\r\n\t\t\t\tthis.stream.advance(1);\r\n\t\t\t\tresult.push(String.fromCharCode(ch));\r\n\t\t\t\treturn true;\r\n\t\t\t} else if (includeNewLines) {\r\n\t\t\t\treturn this._newline(result);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprivate _stringChar(closeQuote: number, result: string[])  {\r\n\t\t// not closeQuote, not backslash, not newline\r\n\t\tlet ch = this.stream.peekChar();\r\n\t\tif (ch !== 0 && ch !== closeQuote && ch !== _BSL && ch !== _CAR && ch !== _LFD && ch !== _NWL) {\r\n\t\t\tthis.stream.advance(1);\r\n\t\t\tresult.push(String.fromCharCode(ch));\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\tprivate _string(result: string[]):TokenType {\r\n\t\tif (this.stream.peekChar() === _SQO || this.stream.peekChar() === _DQO) {\r\n\t\t\tlet closeQuote = this.stream.nextChar();\r\n\t\t\tresult.push(String.fromCharCode(closeQuote));\r\n\r\n\t\t\twhile (this._stringChar(closeQuote, result) || this._escape(result, true)) {\r\n\t\t\t\t// loop\r\n\t\t\t}\r\n\r\n\t\t\tif (this.stream.peekChar() === closeQuote) {\r\n\t\t\t\tthis.stream.nextChar();\r\n\t\t\t\tresult.push(String.fromCharCode(closeQuote));\r\n\t\t\t\treturn TokenType.String;\r\n\t\t\t} else {\r\n\t\t\t\treturn TokenType.BadString;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tprivate _url():TokenType {\r\n\t\tif (this._matchWordAnyCase(_url) || this._matchWordAnyCase(_url_prefix)) {\r\n\t\t\tthis._whitespace();\r\n\t\t\tlet tokenType = TokenType.URI, stringType = this._string([]);\r\n\t\t\tif (stringType === TokenType.BadString) {\r\n\t\t\t\ttokenType = TokenType.BadUri;\r\n\r\n\t\t\t} else if (stringType === null) {\r\n\t\t\t\tthis.stream.advanceWhileChar((ch) => {\r\n\t\t\t\t\treturn ch !== _RPA;\r\n\t\t\t\t});\r\n\t\t\t\ttokenType = TokenType.URI;\r\n\t\t\t}\r\n\t\t\tthis._whitespace();\r\n\t\t\tif (this.stream.advanceIfChar(_RPA)) {\r\n\t\t\t\treturn tokenType;\r\n\t\t\t} else {\r\n\t\t\t\treturn TokenType.BadUri;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n\r\n\tprivate _whitespace():boolean {\r\n\t\tlet n = this.stream.advanceWhileChar((ch) => {\r\n\t\t\treturn ch === _WSP || ch === _TAB || ch === _NWL || ch === _LFD || ch === _CAR;\r\n\t\t});\r\n\t\treturn n > 0;\r\n\t}\r\n\r\n\tprivate _name(result:string[]):boolean {\r\n\t\tlet matched = false;\r\n\t\twhile (this._identChar(result) || this._escape(result)) {\r\n\t\t\tmatched = true;\r\n\t\t}\r\n\t\treturn matched;\r\n\t}\r\n\r\n\tprotected ident(result:string[]):boolean {\r\n\t\tlet pos = this.stream.pos();\r\n\t\tlet hasMinus = this._minus(result);\r\n\t\tif (hasMinus && this._minus(result) /* -- */) {\r\n\t\t\tlet hasContent = false;\r\n\t\t\twhile (this._identChar(result) || this._escape(result)) {\r\n\t\t\t\thasContent = true;\r\n\t\t\t}\r\n\t\t\tif (hasContent) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t} else if (this._identFirstChar(result) || this._escape(result)) {\r\n\t\t\twhile (this._identChar(result) || this._escape(result)) {\r\n\t\t\t\t// loop\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tthis.stream.goBackTo(pos);\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprivate _identFirstChar(result:string[]):boolean {\r\n\t\tlet ch = this.stream.peekChar();\r\n\t\tif (ch === _USC || // _\r\n\t\t\tch >= _a && ch <= _z || // a-z\r\n\t\t\tch >= _A && ch <= _Z || // A-Z\r\n\t\t\tch >= 0x80 && ch <= 0xFFFF) { // nonascii\r\n\t\t\tthis.stream.advance(1);\r\n\t\t\tresult.push(String.fromCharCode(ch));\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\r\n\tprivate _minus(result:string[]):boolean {\r\n\t\tlet ch = this.stream.peekChar();\r\n\t\tif (ch === _MIN) {\r\n\t\t\tthis.stream.advance(1);\r\n\t\t\tresult.push(String.fromCharCode(ch));\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprivate _identChar(result:string[]):boolean {\r\n\t\tlet ch = this.stream.peekChar();\r\n\t\tif (ch === _USC || // _\r\n\t\t\tch === _MIN || // -\r\n\t\t\tch >= _a && ch <= _z || // a-z\r\n\t\t\tch >= _A && ch <= _Z || // A-Z\r\n\t\t\tch >= _0 && ch <= _9 || // 0/9\r\n\t\t\tch >= 0x80 && ch <= 0xFFFF) { // nonascii\r\n\t\t\tthis.stream.advance(1);\r\n\t\t\tresult.push(String.fromCharCode(ch));\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\n\r\nimport nodes = require('./cssNodes');\r\nimport arrays = require('vs/base/common/arrays');\r\n\r\nexport class Scope {\r\n\r\n\tpublic parent:Scope;\r\n\tpublic children:Scope[];\r\n\r\n\tpublic offset:number;\r\n\tpublic length:number;\r\n\r\n\tprivate symbols:Symbol[];\r\n\r\n\tconstructor(offset:number, length:number) {\r\n\t\tthis.offset = offset;\r\n\t\tthis.length = length;\r\n\t\tthis.symbols = [];\r\n\r\n\t\tthis.parent = null;\r\n\t\tthis.children = [];\r\n\t}\r\n\r\n\tpublic addChild(scope:Scope):void {\r\n\t\tthis.children.push(scope);\r\n\t\tscope.setParent(this);\r\n\t}\r\n\r\n\tpublic setParent(scope:Scope):void {\r\n\t\tthis.parent = scope;\r\n\t}\r\n\r\n\tpublic findScope(offset:number, length:number=0):Scope {\r\n\t\tif (this.offset <= offset && this.offset + this.length > offset + length || this.offset === offset && this.length === length) {\r\n\t\t\treturn this.findInScope(offset, length);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tprivate findInScope(offset: number, length: number = 0): Scope {\r\n\t\t// find the first scope child that has an offset larger than offset + length\r\n\t\tvar end = offset + length;\r\n\t\tvar idx = arrays.findFirst(this.children, s => s.offset > end);\r\n\t\tif (idx === 0) {\r\n\t\t\t// all scopes have offsets larger than our end\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tvar res = this.children[idx-1];\r\n\t\tif (res.offset <= offset && res.offset + res.length >= offset + length) {\r\n\t\t\treturn res.findInScope(offset, length);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic addSymbol(symbol:Symbol):void {\r\n\t\tthis.symbols.push(symbol);\r\n\t}\r\n\r\n\tpublic getSymbol(name:string, type: nodes.ReferenceType):Symbol {\r\n\t\tfor (var index = 0; index < this.symbols.length; index++) {\r\n\t\t\tvar symbol = this.symbols[index];\r\n\t\t\tif (symbol.name === name && symbol.type === type) {\r\n\t\t\t\treturn symbol;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic getSymbols():Symbol[] {\r\n\t\treturn this.symbols;\r\n\t}\r\n}\r\n\r\nexport class GlobalScope extends Scope {\r\n\r\n\tconstructor() {\r\n\t\tsuper(0, Number.MAX_VALUE);\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport class Symbol {\r\n\r\n\tpublic name:string;\r\n\tpublic type:nodes.ReferenceType;\r\n\tpublic node:nodes.Node;\r\n\r\n\tconstructor(name:string, node:nodes.Node, type: nodes.ReferenceType) {\r\n\t\tthis.name = name;\r\n\t\tthis.node = node;\r\n\t\tthis.type = type;\r\n\t}\r\n}\r\n\r\nexport class ScopeBuilder implements nodes.IVisitor {\r\n\r\n\tpublic scope:Scope;\r\n\r\n\tconstructor(scope:Scope) {\r\n\t\tthis.scope = scope;\r\n\t}\r\n\r\n\tprivate addSymbol(node:nodes.Node, name:string, type: nodes.ReferenceType) : void {\r\n\t\tif (node.offset !== -1) {\r\n\t\t\tvar current = this.scope.findScope(node.offset, node.length);\r\n\t\t\tcurrent.addSymbol(new Symbol(name, node, type));\r\n\t\t}\r\n\t}\r\n\r\n\tprivate addScope(node:nodes.Node) : Scope {\r\n\t\tif (node.offset !== -1) {\r\n\t\t\tvar current = this.scope.findScope(node.offset, node.length);\r\n\t\t\tif (current.offset !== node.offset || current.length !== node.length) { // scope already known?\r\n\t\t\t\tvar newScope = new Scope(node.offset, node.length);\r\n\t\t\t\tcurrent.addChild(newScope);\r\n\t\t\t\treturn newScope;\r\n\t\t\t}\r\n\t\t\treturn current;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tprivate addSymbolToChildScope(scopeNode:nodes.Node, node:nodes.Node, name:string, type: nodes.ReferenceType): void {\r\n\t\tif (scopeNode && scopeNode.offset !== -1 ) {\r\n\t\t\tvar current = this.addScope(scopeNode); // create the scope or gets the existing one\r\n\t\t\tcurrent.addSymbol(new Symbol(name, node, type));\r\n\t\t}\r\n\t}\r\n\r\n\tpublic visitNode(node:nodes.Node):boolean {\r\n\t\tswitch (node.type) {\r\n\t\t\tcase nodes.NodeType.Keyframe:\r\n\t\t\t\tthis.addSymbol(node, (<nodes.Keyframe> node).getName(), nodes.ReferenceType.Keyframe);\r\n\t\t\t\treturn true;\r\n\t\t\tcase nodes.NodeType.Declaration:\r\n\t\t\t\treturn this.visitDeclarationNode(<nodes.Declaration>node);\r\n\t\t\tcase nodes.NodeType.VariableDeclaration:\r\n\t\t\t\treturn this.visitVariableDeclarationNode(<nodes.VariableDeclaration>node);\r\n\t\t\tcase nodes.NodeType.Ruleset:\r\n\t\t\t\treturn this.visitRuleSet(<nodes.RuleSet> node);\r\n\t\t\tcase nodes.NodeType.MixinDeclaration:\r\n\t\t\t\tthis.addSymbol(node, (<nodes.MixinDeclaration> node).getName(), nodes.ReferenceType.Mixin);\r\n\t\t\t\treturn true;\r\n\t\t\tcase nodes.NodeType.FunctionDeclaration:\r\n\t\t\t\tthis.addSymbol(node, (<nodes.FunctionDeclaration> node).getName(), nodes.ReferenceType.Function);\r\n\t\t\t\treturn true;\r\n\t\t\tcase nodes.NodeType.FunctionParameter: {\r\n\t\t\t\t// parameters are part of the body scope\r\n\t\t\t\tlet scopeNode = (<nodes.BodyDeclaration> node.getParent()).getDeclarations();\r\n\t\t\t\tif (scopeNode) {\r\n\t\t\t\t\tthis.addSymbolToChildScope(scopeNode, node, (<nodes.FunctionParameter> node).getName(), nodes.ReferenceType.Variable);\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tcase nodes.NodeType.Declarations:\r\n\t\t\t\tthis.addScope(node);\r\n\t\t\t\treturn true;\r\n\t\t\tcase nodes.NodeType.For:\r\n\t\t\tcase nodes.NodeType.Each: {\r\n\t\t\t\tvar forOrEachNode = <nodes.ForStatement | nodes.EachStatement> node;\r\n\t\t\t\tlet scopeNode = forOrEachNode.getDeclarations();\r\n\t\t\t\tif (scopeNode) {\r\n\t\t\t\t\tthis.addSymbolToChildScope(scopeNode, forOrEachNode.variable, forOrEachNode.variable.getName(), nodes.ReferenceType.Variable);\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitRuleSet(node:nodes.RuleSet):boolean {\r\n\t\tvar current = this.scope.findScope(node.offset, node.length);\r\n\t\tnode.getSelectors().getChildren().forEach((child) => {\r\n\t\t\tif (child instanceof nodes.Selector) {\r\n\t\t\t\tif (child.getChildren().length === 1) { // only selectors with a single element can be extended\r\n\t\t\t\t\tcurrent.addSymbol(new Symbol(child.getChild(0).getText(), child, nodes.ReferenceType.Rule));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitVariableDeclarationNode(node:nodes.VariableDeclaration):boolean {\r\n\t\tthis.addSymbol(node, (<nodes.VariableDeclaration> node).getName(), nodes.ReferenceType.Variable);\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic visitDeclarationNode(node:nodes.Declaration):boolean {\r\n\t\tif (Symbols.isCssVariable(node.getProperty().getIdentifier())) {\r\n\t\t\tthis.addCSSVariable(node.getProperty(), node.getProperty().getName(), nodes.ReferenceType.Variable);\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tprivate addCSSVariable(node:nodes.Node, name:string, type: nodes.ReferenceType) : void {\r\n\t\tif (node.offset !== -1) {\r\n\t\t\tvar globalScope = this.getGlobalScope(node, name, type);\r\n\t\t\tglobalScope.addSymbol(new Symbol(name, node, type));\r\n\t\t}\r\n\t}\r\n\r\n\tprivate getGlobalScope(node:nodes.Node, name:string, type: nodes.ReferenceType): Scope {\r\n\t\tlet current = this.scope.findScope(node.offset, node.length);\r\n\t\twhile (current.parent !== null) {\r\n\t\t\tcurrent= current.parent;\r\n\t\t}\r\n\t\treturn current;\r\n\t}\r\n}\r\n\r\nexport class Symbols {\r\n\r\n\tprivate global:Scope;\r\n\r\n\tconstructor(node:nodes.Node) {\r\n\t\tthis.global = new GlobalScope();\r\n\t\tnode.accept(new ScopeBuilder(this.global));\r\n\t}\r\n\r\n\tpublic findSymbolsAtOffset(offset:number, referenceType: nodes.ReferenceType) : Symbol[] {\r\n\t\tvar scope = this.global.findScope(offset, 0);\r\n\t\tvar result : Symbol[] = [];\r\n\t\tvar names : { [name:string]: boolean } = {};\r\n\t\twhile (scope) {\r\n\t\t\tvar symbols = scope.getSymbols();\r\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\r\n\t\t\t\tvar symbol = symbols[i];\r\n\t\t\t\tif (symbol.node.offset <= offset && symbol.type === referenceType && !names[symbol.name]) {\r\n\t\t\t\t\tresult.push(symbol);\r\n\t\t\t\t\tnames[symbol.name] = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tscope = scope.parent;\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprivate internalFindSymbol(node:nodes.Node, referenceTypes:nodes.ReferenceType[]): Symbol {\r\n\t\tvar scopeNode = node;\r\n\t\tif (node.parent instanceof nodes.FunctionParameter && node.parent.getParent() instanceof nodes.BodyDeclaration) {\r\n\t\t\tscopeNode = (<nodes.BodyDeclaration> node.parent.getParent()).getDeclarations();\r\n\t\t}\r\n\t\tif (node.parent instanceof nodes.FunctionArgument && node.parent.getParent() instanceof nodes.Function) {\r\n\t\t\tvar funcId = (<nodes.Function> node.parent.getParent()).getIdentifier();\r\n\t\t\tif (funcId) {\r\n\t\t\t\tvar functionSymbol = this.internalFindSymbol(funcId, [nodes.ReferenceType.Function]);\r\n\t\t\t\tif (functionSymbol) {\r\n\t\t\t\t\tscopeNode = (<nodes.FunctionDeclaration> functionSymbol.node).getDeclarations();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!scopeNode) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar name = node.getText();\r\n\t\tvar scope = this.global.findScope(scopeNode.offset, scopeNode.length);\r\n\t\twhile (scope) {\r\n\t\t\tfor (var index = 0; index < referenceTypes.length; index++) {\r\n\t\t\t\tvar type = referenceTypes[index];\r\n\t\t\t\tvar symbol = scope.getSymbol(name, type);\r\n\t\t\t\tif (symbol) {\r\n\t\t\t\t\treturn symbol;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tscope = scope.parent;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tprivate evaluateReferenceTypes(node: nodes.Node) : nodes.ReferenceType[] {\r\n\t\tif (node instanceof nodes.Identifier) {\r\n\t\t\tvar referenceTypes = (<nodes.Identifier> node).referenceTypes;\r\n\t\t\tif (referenceTypes) {\r\n\t\t\t\treturn referenceTypes;\r\n\t\t\t} else {\r\n\t\t\t\tif (Symbols.isCssVariable(node)) {\r\n\t\t\t\t\treturn [ nodes.ReferenceType.Variable ];\r\n\t\t\t\t}\r\n\t\t\t\t// are a reference to a keyframe?\r\n\t\t\t\tvar decl = nodes.getParentDeclaration(node);\r\n\t\t\t\tif (decl) {\r\n\t\t\t\t\tvar propertyName = decl.getNonPrefixedPropertyName();\r\n\t\t\t\t\tif ((propertyName === 'animation' || propertyName === 'animation-name')\r\n\t\t\t\t\t\t&& decl.getValue() && decl.getValue().offset === node.offset) {\r\n\t\t\t\t\t\treturn [ nodes.ReferenceType.Keyframe ];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (node instanceof nodes.Variable) {\r\n\t\t\treturn [ nodes.ReferenceType.Variable ];\r\n\t\t}\r\n\t\tvar selector = node.findParent(nodes.NodeType.Selector);\r\n\t\tif (selector) {\r\n\t\t\treturn [ nodes.ReferenceType.Rule ];\r\n\t\t}\r\n\t\tvar extendsRef = <nodes.ExtendsReference> node.findParent(nodes.NodeType.ExtendsReference);\r\n\t\tif (extendsRef) {\r\n\t\t\treturn [ nodes.ReferenceType.Rule ];\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic findSymbolFromNode(node: nodes.Node):Symbol {\r\n\t\tif (!node) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\twhile (node.type === nodes.NodeType.Interpolation) {\r\n\t\t\tnode = node.getParent();\r\n\t\t}\r\n\r\n\t\tvar referenceTypes = this.evaluateReferenceTypes(node);\r\n\t\tif (referenceTypes) {\r\n\t\t\treturn this.internalFindSymbol(node, referenceTypes);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic matchesSymbol(node: nodes.Node, symbol: Symbol):boolean {\r\n\t\tif (!node) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\twhile (node.type === nodes.NodeType.Interpolation) {\r\n\t\t\tnode = node.getParent();\r\n\t\t}\r\n\t\tif (symbol.name.length !== node.length || symbol.name !== node.getText()) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tvar referenceTypes = this.evaluateReferenceTypes(node);\r\n\t\tif (!referenceTypes || referenceTypes.indexOf(symbol.type) === -1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tvar nodeSymbol = this.internalFindSymbol(node, referenceTypes);\r\n\t\treturn nodeSymbol === symbol;\r\n\t}\r\n\r\n\r\n\tpublic findSymbol(name:string, type: nodes.ReferenceType, offset:number):Symbol {\r\n\t\tvar scope = this.global.findScope(offset);\r\n\t\twhile(scope) {\r\n\t\t\tvar symbol = scope.getSymbol(name, type);\r\n\t\t\tif (symbol) {\r\n\t\t\t\treturn symbol;\r\n\t\t\t}\r\n\t\t\tscope = scope.parent;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic static isCssVariable(identifier: nodes.Identifier):boolean {\r\n\t\treturn /^--/.test(identifier.getText());\r\n\t}\r\n}","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\n\r\nimport nodes = require('vs/languages/css/common/parser/cssNodes');\r\nimport browsers = require('vs/languages/css/common/services/browsers');\r\nimport strings = require('vs/base/common/strings');\r\n\r\nexport var colors : { [name:string]:string } = {\r\n\taliceblue: '#f0f8ff',\r\n\tantiquewhite: '#faebd7',\r\n\taqua: '#00ffff',\r\n\taquamarine: '#7fffd4',\r\n\tazure: '#f0ffff',\r\n\tbeige: '#f5f5dc',\r\n\tbisque: '#ffe4c4',\r\n\tblack: '#000000',\r\n\tblanchedalmond: '#ffebcd',\r\n\tblue: '#0000ff',\r\n\tblueviolet: '#8a2be2',\r\n\tbrown: '#a52a2a',\r\n\tburlywood: '#deb887',\r\n\tcadetblue: '#5f9ea0',\r\n\tchartreuse: '#7fff00',\r\n\tchocolate: '#d2691e',\r\n\tcoral: '#ff7f50',\r\n\tcornflowerblue: '#6495ed',\r\n\tcornsilk: '#fff8dc',\r\n\tcrimson: '#dc143c',\r\n\tcyan: '#00ffff',\r\n\tdarkblue: '#00008b',\r\n\tdarkcyan: '#008b8b',\r\n\tdarkgoldenrod: '#b8860b',\r\n\tdarkgray: '#a9a9a9',\r\n\tdarkgrey: '#a9a9a9',\r\n\tdarkgreen: '#006400',\r\n\tdarkkhaki: '#bdb76b',\r\n\tdarkmagenta: '#8b008b',\r\n\tdarkolivegreen: '#556b2f',\r\n\tdarkorange: '#ff8c00',\r\n\tdarkorchid: '#9932cc',\r\n\tdarkred: '#8b0000',\r\n\tdarksalmon: '#e9967a',\r\n\tdarkseagreen: '#8fbc8f',\r\n\tdarkslateblue: '#483d8b',\r\n\tdarkslategray: '#2f4f4f',\r\n\tdarkslategrey: '#2f4f4f',\r\n\tdarkturquoise: '#00ced1',\r\n\tdarkviolet: '#9400d3',\r\n\tdeeppink: '#ff1493',\r\n\tdeepskyblue: '#00bfff',\r\n\tdimgray: '#696969',\r\n\tdimgrey: '#696969',\r\n\tdodgerblue: '#1e90ff',\r\n\tfirebrick: '#b22222',\r\n\tfloralwhite: '#fffaf0',\r\n\tforestgreen: '#228b22',\r\n\tfuchsia: '#ff00ff',\r\n\tgainsboro: '#dcdcdc',\r\n\tghostwhite: '#f8f8ff',\r\n\tgold: '#ffd700',\r\n\tgoldenrod: '#daa520',\r\n\tgray: '#808080',\r\n\tgrey: '#808080',\r\n\tgreen: '#008000',\r\n\tgreenyellow: '#adff2f',\r\n\thoneydew: '#f0fff0',\r\n\thotpink: '#ff69b4',\r\n\tindianred: '#cd5c5c',\r\n\tindigo: '#4b0082',\r\n\tivory: '#fffff0',\r\n\tkhaki: '#f0e68c',\r\n\tlavender: '#e6e6fa',\r\n\tlavenderblush: '#fff0f5',\r\n\tlawngreen: '#7cfc00',\r\n\tlemonchiffon: '#fffacd',\r\n\tlightblue: '#add8e6',\r\n\tlightcoral: '#f08080',\r\n\tlightcyan: '#e0ffff',\r\n\tlightgoldenrodyellow: '#fafad2',\r\n\tlightgray: '#d3d3d3',\r\n\tlightgrey: '#d3d3d3',\r\n\tlightgreen: '#90ee90',\r\n\tlightpink: '#ffb6c1',\r\n\tlightsalmon: '#ffa07a',\r\n\tlightseagreen: '#20b2aa',\r\n\tlightskyblue: '#87cefa',\r\n\tlightslategray: '#778899',\r\n\tlightslategrey: '#778899',\r\n\tlightsteelblue: '#b0c4de',\r\n\tlightyellow: '#ffffe0',\r\n\tlime: '#00ff00',\r\n\tlimegreen: '#32cd32',\r\n\tlinen: '#faf0e6',\r\n\tmagenta: '#ff00ff',\r\n\tmaroon: '#800000',\r\n\tmediumaquamarine: '#66cdaa',\r\n\tmediumblue: '#0000cd',\r\n\tmediumorchid: '#ba55d3',\r\n\tmediumpurple: '#9370d8',\r\n\tmediumseagreen: '#3cb371',\r\n\tmediumslateblue: '#7b68ee',\r\n\tmediumspringgreen: '#00fa9a',\r\n\tmediumturquoise: '#48d1cc',\r\n\tmediumvioletred: '#c71585',\r\n\tmidnightblue: '#191970',\r\n\tmintcream: '#f5fffa',\r\n\tmistyrose: '#ffe4e1',\r\n\tmoccasin: '#ffe4b5',\r\n\tnavajowhite: '#ffdead',\r\n\tnavy: '#000080',\r\n\toldlace: '#fdf5e6',\r\n\tolive: '#808000',\r\n\tolivedrab: '#6b8e23',\r\n\torange: '#ffa500',\r\n\torangered: '#ff4500',\r\n\torchid: '#da70d6',\r\n\tpalegoldenrod: '#eee8aa',\r\n\tpalegreen: '#98fb98',\r\n\tpaleturquoise: '#afeeee',\r\n\tpalevioletred: '#d87093',\r\n\tpapayawhip: '#ffefd5',\r\n\tpeachpuff: '#ffdab9',\r\n\tperu: '#cd853f',\r\n\tpink: '#ffc0cb',\r\n\tplum: '#dda0dd',\r\n\tpowderblue: '#b0e0e6',\r\n\tpurple: '#800080',\r\n\tred: '#ff0000',\r\n\trebeccapurple: '#663399',\r\n\trosybrown: '#bc8f8f',\r\n\troyalblue: '#4169e1',\r\n\tsaddlebrown: '#8b4513',\r\n\tsalmon: '#fa8072',\r\n\tsandybrown: '#f4a460',\r\n\tseagreen: '#2e8b57',\r\n\tseashell: '#fff5ee',\r\n\tsienna: '#a0522d',\r\n\tsilver: '#c0c0c0',\r\n\tskyblue: '#87ceeb',\r\n\tslateblue: '#6a5acd',\r\n\tslategray: '#708090',\r\n\tslategrey: '#708090',\r\n\tsnow: '#fffafa',\r\n\tspringgreen: '#00ff7f',\r\n\tsteelblue: '#4682b4',\r\n\ttan: '#d2b48c',\r\n\tteal: '#008080',\r\n\tthistle: '#d8bfd8',\r\n\ttomato: '#ff6347',\r\n\tturquoise: '#40e0d0',\r\n\tviolet: '#ee82ee',\r\n\twheat: '#f5deb3',\r\n\twhite: '#ffffff',\r\n\twhitesmoke: '#f5f5f5',\r\n\tyellow: '#ffff00',\r\n\tyellowgreen: '#9acd32'\r\n};\r\n\r\nexport var colorKeywords : { [name:string]:string } = {\r\n\t'currentColor': 'The value of the \\'color\\' property. The computed value of the \\'currentColor\\' keyword is the computed value of the \\'color\\' property. If the \\'currentColor\\' keyword is set on the \\'color\\' property itself, it is treated as \\'color:inherit\\' at parse time.',\r\n\t'transparent': 'Fully transparent. This keyword can be considered a shorthand for rgba(0,0,0,0) which is its computed value.',\r\n};\r\n\r\nexport var positionKeywords : { [name:string]:string } = {\r\n\t'bottom': 'Computes to ‘100%’ for the vertical position if one or two values are given, otherwise specifies the bottom edge as the origin for the next offset.',\r\n\t'center': 'Computes to ‘50%’ (‘left 50%’) for the horizontal position if the horizontal position is not otherwise specified, or ‘50%’ (‘top 50%’) for the vertical position if it is.',\r\n\t'left': 'Computes to ‘0%’ for the horizontal position if one or two values are given, otherwise specifies the left edge as the origin for the next offset.',\r\n\t'right': 'Computes to ‘100%’ for the horizontal position if one or two values are given, otherwise specifies the right edge as the origin for the next offset.',\r\n\t'top': 'Computes to ‘0%’ for the vertical position if one or two values are given, otherwise specifies the top edge as the origin for the next offset.'\r\n};\r\n\r\nexport var repeatStyleKeywords : { [name:string]:string } = {\r\n\t'no-repeat': 'Placed once and not repeated in this direction.',\r\n\t'repeat': 'Repeated in this direction as often as needed to cover the background painting area.',\r\n\t'repeat-x': 'Computes to ‘repeat no-repeat’.',\r\n\t'repeat-y': 'Computes to ‘no-repeat repeat’.',\r\n\t'round': 'Repeated as often as will fit within the background positioning area. If it doesn’t fit a whole number of times, it is rescaled so that it does.',\r\n\t'space': 'Repeated as often as will fit within the background positioning area without being clipped and then the images are spaced out to fill the area.'\r\n};\r\n\r\nexport var lineStyleKeywords : { [name:string]:string } = {\r\n\t'dashed': 'A series of square-ended dashes.',\r\n\t'dotted': 'A series of round dots.',\r\n\t'double': 'Two parallel solid lines with some space between them.',\r\n\t'groove': 'Looks as if it were carved in the canvas.',\r\n\t'hidden': 'Same as ‘none’, but has different behavior in the border conflict resolution rules for border-collapsed tables.',\r\n\t'inset': 'Looks as if the content on the inside of the border is sunken into the canvas.',\r\n\t'none': 'No border. Color and width are ignored.',\r\n\t'outset': 'Looks as if the content on the inside of the border is coming out of the canvas.',\r\n\t'ridge': 'Looks as if it were coming out of the canvas.',\r\n\t'solid': 'A single line segment.'\r\n};\r\n\r\nexport var lineWidthKeywords  = ['medium', 'thick', 'thin'];\r\n\r\nexport var boxKeywords : { [name:string]:string } = {\r\n\t'border-box': 'The background is painted within (clipped to) the border box.',\r\n\t'content-box': 'The background is painted within (clipped to) the content box.',\r\n\t'padding-box': 'The background is painted within (clipped to) the padding box.'\r\n};\r\n\r\nexport var geometryBoxKeywords : { [name:string]:string } = {\r\n\t'margin-box': 'Uses the margin box as reference box.',\r\n\t'fill-box': 'Uses the object bounding box as reference box.',\r\n\t'stroke-box': 'Uses the stroke bounding box as reference box.',\r\n\t'view-box': 'Uses the nearest SVG viewport as reference box.'\r\n};\r\n\r\nexport var cssWideKeywords : { [name:string]:string } = {\r\n\t'initial': 'Represents the value specified as the property’s initial value.',\r\n\t'inherit': 'Represents the computed value of the property on the element’s parent.',\r\n\t'unset': 'Acts as either `inherit` or `initial`, depending on whether the property is inherited or not.'\r\n};\r\n\r\nexport var imageFunctions : { [name:string]:string } = {\r\n\t'url()': 'Reference an image file by URL',\r\n\t'image()': 'Provide image fallbacks and annotations.',\r\n\t'-webkit-image-set()': 'Provide multiple resolutions. Remember to use unprefixed image-set() in addition.',\r\n\t'image-set()': 'Provide multiple resolutions of an image and let the UA decide which is most appropriate in a given situation.',\r\n\t'-moz-element()': 'Use an element in the document as an image. Remember to use unprefixed element() in addition.',\r\n\t'element()': 'Use an element in the document as an image.',\r\n\t'cross-fade()': 'Indicates the two images to be combined and how far along in the transition the combination is.',\r\n\t'-webkit-gradient()': 'Deprecated. Use modern linear-gradient() or radial-gradient() instead.',\r\n\t'-webkit-linear-gradient()': 'Linear gradient. Remember to use unprefixed version in addition.',\r\n\t'-moz-linear-gradient()': 'Linear gradient. Remember to use unprefixed version in addition.',\r\n\t'-o-linear-gradient()': 'Linear gradient. Remember to use unprefixed version in addition.',\r\n\t'linear-gradient()': 'A linear gradient is created by specifying a straight gradient line, and then several colors placed along that line.',\r\n\t'-webkit-repeating-linear-gradient()': 'Repeating Linear gradient. Remember to use unprefixed version in addition.',\r\n\t'-moz-repeating-linear-gradient()': 'Repeating Linear gradient. Remember to use unprefixed version in addition.',\r\n\t'-o-repeating-linear-gradient()': 'RepeatingLinear gradient. Remember to use unprefixed version in addition.',\r\n\t'repeating-linear-gradient()': 'Same as linear-gradient, except the color-stops are repeated infinitely in both directions, with their positions shifted by multiples of the difference between the last specified color-stop’s position and the first specified color-stop’s position.',\r\n\t'-webkit-radial-gradient()': 'Radial gradient. Remember to use unprefixed version in addition.',\r\n\t'-moz-radial-gradient()': 'Radial gradient. Remember to use unprefixed version in addition.',\r\n\t'radial-gradient()': 'Colors emerge from a single point and smoothly spread outward in a circular or elliptical shape.',\r\n\t'-webkit-repeating-radial-gradient()': 'Repeating radial gradient. Remember to use unprefixed version in addition.',\r\n\t'-moz-repeating-radial-gradient()': 'Repeating radial gradient. Remember to use unprefixed version in addition.',\r\n\t'repeating-radial-gradient()': 'Same as radial-gradient, except the color-stops are repeated infinitely in both directions, with their positions shifted by multiples of the difference between the last specified color-stop’s position and the first specified color-stop’s position.'\r\n};\r\n\r\nexport var transitionTimingFunctions : { [name:string]:string } = {\r\n\t'ease': 'Equivalent to cubic-bezier(0.25, 0.1, 0.25, 1.0).',\r\n\t'ease-in': 'Equivalent to cubic-bezier(0.42, 0, 1.0, 1.0).',\r\n\t'ease-in-out': 'Equivalent to cubic-bezier(0.42, 0, 0.58, 1.0).',\r\n\t'ease-out': 'Equivalent to cubic-bezier(0, 0, 0.58, 1.0).',\r\n\t'linear': 'Equivalent to cubic-bezier(0.0, 0.0, 1.0, 1.0).',\r\n\t'step-end': 'Equivalent to steps(1, end).',\r\n\t'step-start': 'Equivalent to steps(1, start).',\r\n\t'steps()': 'The first parameter specifies the number of intervals in the function. The second parameter, which is optional, is either the value “start” or “end”.',\r\n\t'cubic-bezier()': 'Specifies a cubic-bezier curve. The four values specify points P1 and P2  of the curve as (x1, y1, x2, y2).',\r\n\t'cubic-bezier(0.6, -0.28, 0.735, 0.045)': 'Ease-in Back. Overshoots.',\r\n\t'cubic-bezier(0.68, -0.55, 0.265, 1.55)': 'Ease-in-out Back. Overshoots.',\r\n\t'cubic-bezier(0.175, 0.885, 0.32, 1.275)': 'Ease-out Back. Overshoots.',\r\n\t'cubic-bezier(0.6, 0.04, 0.98, 0.335)': 'Ease-in Circular. Based on half circle.',\r\n\t'cubic-bezier(0.785, 0.135, 0.15, 0.86)': 'Ease-in-out Circular. Based on half circle.',\r\n\t'cubic-bezier(0.075, 0.82, 0.165, 1)': 'Ease-out Circular. Based on half circle.',\r\n\t'cubic-bezier(0.55, 0.055, 0.675, 0.19)': 'Ease-in Cubic. Based on power of three.',\r\n\t'cubic-bezier(0.645, 0.045, 0.355, 1)': 'Ease-in-out Cubic. Based on power of three.',\r\n\t'cubic-bezier(0.215, 0.610, 0.355, 1)': 'Ease-out Cubic. Based on power of three.',\r\n\t'cubic-bezier(0.95, 0.05, 0.795, 0.035)': 'Ease-in Exponential. Based on two to the power ten.',\r\n\t'cubic-bezier(1, 0, 0, 1)': 'Ease-in-out Exponential. Based on two to the power ten.',\r\n\t'cubic-bezier(0.19, 1, 0.22, 1)': 'Ease-out Exponential. Based on two to the power ten.',\r\n\t'cubic-bezier(0.47, 0, 0.745, 0.715)': 'Ease-in Sine.',\r\n\t'cubic-bezier(0.445, 0.05, 0.55, 0.95)': 'Ease-in-out Sine.',\r\n\t'cubic-bezier(0.39, 0.575, 0.565, 1)': 'Ease-out Sine.',\r\n\t'cubic-bezier(0.55, 0.085, 0.68, 0.53)': 'Ease-in Quadratic. Based on power of two.',\r\n\t'cubic-bezier(0.455, 0.03, 0.515, 0.955)': 'Ease-in-out Quadratic. Based on power of two.',\r\n\t'cubic-bezier(0.25, 0.46, 0.45, 0.94)': 'Ease-out Quadratic. Based on power of two.',\r\n\t'cubic-bezier(0.895, 0.03, 0.685, 0.22)': 'Ease-in Quartic. Based on power of four.',\r\n\t'cubic-bezier(0.77, 0, 0.175, 1)': 'Ease-in-out Quartic. Based on power of four.',\r\n\t'cubic-bezier(0.165, 0.84, 0.44, 1)': 'Ease-out Quartic. Based on power of four.',\r\n\t'cubic-bezier(0.755, 0.05, 0.855, 0.06)': 'Ease-in Quintic. Based on power of five.',\r\n\t'cubic-bezier(0.86, 0, 0.07, 1)': 'Ease-in-out Quintic. Based on power of five.',\r\n\t'cubic-bezier(0.23, 1, 0.320, 1)': 'Ease-out Quintic. Based on power of five.'\r\n};\r\n\r\nexport var basicShapeFunctions : { [name:string]:string } = {\r\n\t'circle()': 'Defines a circle.',\r\n\t'ellipse()': 'Defines an ellipse.',\r\n\t'inset()': 'Defines an inset rectangle.',\r\n\t'polygon()': 'Defines a polygon.'\r\n};\r\n\r\nexport var units : { [unitName:string]:string[] } = {\r\n\t'length': ['em', 'rem', 'ex', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'vw', 'vh', 'vmin', 'vmax'],\r\n\t'angle': ['deg', 'rad', 'grad', 'turn'],\r\n\t'time': ['ms', 's'],\r\n\t'frequency': ['Hz', 'kHz'],\r\n\t'resolution': ['dpi', 'dpcm', 'dppx'],\r\n\t'percentage': ['%']\r\n};\r\n\r\nexport var html5Tags = ['a', 'abbr', 'address', 'area', 'article', 'aside', 'audio', 'b', 'base', 'bdi', 'bdo', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption',\r\n\t'cite', 'code', 'col', 'colgroup', 'data', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl', 'dt', 'em', 'embed', 'fieldset', 'figcaption', 'figure', 'footer',\r\n\t'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link',\r\n\t'main', 'map', 'mark', 'menu', 'menuitem', 'meta', 'meter', 'nav', 'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'param', 'picture', 'pre', 'progress', 'q',\r\n\t'rb', 'rp', 'rt', 'rtc', 'ruby', 's', 'samp', 'script', 'section', 'select', 'small', 'source', 'span', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td',\r\n\t'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title', 'tr', 'track', 'u', 'ul', 'var', 'video', 'wbr' ];\r\n\r\nexport var svgElements = ['circle', 'clipPath', 'cursor', 'defs', 'desc', 'ellipse', 'feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting',\r\n\t'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology',\r\n\t'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence', 'filter', 'foreignObject', 'g', 'hatch', 'hatchpath', 'image', 'line', 'linearGradient',\r\n\t'marker', 'mask', 'mesh', 'meshpatch', 'meshrow', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'set', 'solidcolor', 'stop', 'svg', 'switch',\r\n\t'symbol', 'text', 'textPath', 'tspan', 'use', 'view'];\r\n\r\nexport function isColorConstructor(node:nodes.Function): boolean {\r\n\tvar name = node.getName();\r\n\tif (!name) {\r\n\t\treturn false;\r\n\t}\r\n\treturn strings.equalsIgnoreCase(name, 'rgb') ||\r\n\t\tstrings.equalsIgnoreCase(name, 'rgba') ||\r\n\t\tstrings.equalsIgnoreCase(name, 'hsl') ||\r\n\t\tstrings.equalsIgnoreCase(name, 'hsla');\r\n}\r\n\r\n/**\r\n * Returns true if the node is a color value - either\r\n * defined a hex number, as rgb or rgba function, or\r\n * as color name.\r\n */\r\nexport function isColorValue(node:nodes.Node):boolean {\r\n\tif(node.type === nodes.NodeType.HexColorValue) {\r\n\t\treturn true;\r\n\t} else if(node.type === nodes.NodeType.Function) {\r\n\t\treturn this.isColorConstructor(<nodes.Function> node);\r\n\t} else if (node.type === nodes.NodeType.Identifier) {\r\n\t\tif (node.parent && node.parent.type !== nodes.NodeType.Term) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tvar candidateColor = node.getText().toLowerCase();\r\n\t\tif(candidateColor === 'none') {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (colors[candidateColor]) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\n/**\r\n * Returns true if the given name is a known property.\r\n */\r\nexport function isKnownProperty(name: string):boolean {\r\n\tif(!name) {\r\n\t\treturn false;\r\n\t} else {\r\n\t\tname = name.toLowerCase();\r\n\t\treturn getProperties().hasOwnProperty(name);\r\n\t}\r\n}\r\n\r\nexport function isCommonValue(entry:Value):boolean {\r\n\treturn entry.browsers.count > 1;\r\n}\r\n\r\nexport function getPageBoxDirectives():string[] {\r\n\treturn [\r\n\t\t'@bottom-center', '@bottom-left', '@bottom-left-corner', '@bottom-right', '@bottom-right-corner',\r\n\t\t'@left-bottom', '@left-middle', '@left-top', '@right-bottom', '@right-middle', '@right-top',\r\n\t\t'@top-center', '@top-left', '@top-left-corner', '@top-right', '@top-right-corner'\r\n\t];\r\n}\r\n\r\nexport function getEntryDescription(entry:{description: string; browsers: Browsers}): string {\r\n\tvar desc = entry.description || '';\r\n\tvar browserLabel = this.getBrowserLabel(entry.browsers);\r\n\tif (browserLabel) {\r\n\t\tif (desc) {\r\n\t\t\tdesc = desc + '\\n';\r\n\t\t}\r\n\t\tdesc= desc + '(' + browserLabel + ')';\r\n\t}\r\n\treturn desc;\r\n}\r\n\r\nexport function getBrowserLabel(b: Browsers): string {\r\n\tvar result = '';\r\n\tif (!b || b.all || b.count === 0) {\r\n\t\treturn null;\r\n\t}\r\n\tfor (var curr in browserNames) {\r\n\t\tif (typeof (<any> b)[curr] === 'string') {\r\n\t\t\tif (result.length > 0) {\r\n\t\t\t\tresult = result + ', ';\r\n\t\t\t}\r\n\t\t\tresult = result + (<any> browserNames)[curr];\r\n\t\t\tvar version = (<any> b)[curr];\r\n\t\t\tif (version.length > 0) {\r\n\t\t\t\tresult = result + ' ' + version;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nexport interface Browsers {\r\n\tE?:string;\r\n\tFF?:string;\r\n\tIE?:string;\r\n\tO?:string;\r\n\tC?:string;\r\n\tS?:string;\r\n\tcount:number;\r\n\tall:boolean;\r\n\tonCodeComplete:boolean;\r\n}\r\n\r\nexport interface Value {\r\n\tname:string;\r\n\tdescription:string;\r\n\tbrowsers:Browsers;\r\n}\r\n\r\nexport interface IEntry {\r\n\tname:string;\r\n\trestrictions:string[];\r\n\tbrowsers:Browsers;\r\n\tdescription:string;\r\n\tvalues:Value[];\r\n}\r\n\r\nfunction evalBrowserEntry(browsers: string) {\r\n\tvar browserEntry : Browsers = { all: false, count: 0, onCodeComplete: false};\r\n\tvar count = 0;\r\n\tif (browsers) {\r\n\t\tbrowsers.split(',').forEach(\r\n\t\t\t(s: string) => {\r\n\t\t\t\ts = s.trim();\r\n\t\t\t\tif (s === 'all') {\r\n\t\t\t\t\tbrowserEntry.all= true;\r\n\t\t\t\t\tcount = Number.MAX_VALUE;\r\n\t\t\t\t} else if (s !== 'none') {\r\n\t\t\t\t\tfor (var key in browserNames) {\r\n\t\t\t\t\t\tif (s.indexOf(key) === 0) {\r\n\t\t\t\t\t\t\t(<any> browserEntry)[key] = s.substring(key.length).trim();\r\n\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t} else {\r\n\t\tbrowserEntry.all = true;\r\n\t\tcount = Number.MAX_VALUE;\r\n\t}\r\n\tbrowserEntry.count = count;\r\n\tbrowserEntry.onCodeComplete = count > 0; // to be refined\r\n\treturn browserEntry;\r\n}\r\n\r\n\r\nclass ValueImpl implements Value {\r\n\r\n\tprivate browserEntry: Browsers;\r\n\r\n\tconstructor(public data: any) {\r\n\t}\r\n\r\n\tget name() : string {\r\n\t\treturn this.data.name;\r\n\t}\r\n\r\n\tget description() : string {\r\n\t\treturn this.data.desc || browsers.descriptions[this.data.name];\r\n\t}\r\n\r\n\tget browsers() : Browsers {\r\n\t\tif (!this.browserEntry) {\r\n\t\t\tthis.browserEntry = evalBrowserEntry(this.data.browsers);\r\n\t\t}\r\n\t\treturn this.browserEntry;\r\n\t}\r\n}\r\n\r\nclass EntryImpl implements IEntry {\r\n\tprivate browserEntry: Browsers;\r\n\r\n\tconstructor(public data: any) {\r\n\t}\r\n\r\n\tget name(): string {\r\n\t\treturn this.data.name;\r\n\t}\r\n\r\n\tget description(): string {\r\n\t\treturn this.data.desc || browsers.descriptions[this.data.name];\r\n\t}\r\n\r\n\tget browsers(): Browsers {\r\n\t\tif (!this.browserEntry) {\r\n\t\t\tthis.browserEntry = evalBrowserEntry(this.data.browsers);\r\n\t\t}\r\n\t\treturn this.browserEntry;\r\n\t}\r\n\r\n\tget restrictions(): string[] {\r\n\t\tif (this.data.restriction) {\r\n\t\t\treturn this.data.restriction.split(',').map(function(s: string) { return s.trim(); });\r\n\t\t} else {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t}\r\n\r\n\tget values(): Value[] {\r\n\t\tif(!this.data.values) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\tif(!Array.isArray(this.data.values)) {\r\n\t\t\treturn [new ValueImpl(this.data.values.value)];\r\n\t\t}\r\n\t\treturn this.data.values.map(function (v: string) {\r\n\t\t\treturn new ValueImpl(v);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nvar propertySet: { [key: string]: IEntry };\r\nvar properties = browsers.data.css.properties;\r\nexport function getProperties(): { [name: string]: IEntry; } {\r\n\tif(!propertySet) {\r\n\t\tpropertySet = {\r\n\t\t};\r\n\t\tfor(var i = 0, len = properties.length; i < len; i++) {\r\n\t\t\tvar rawEntry = properties[i];\r\n\t\t\tpropertySet[rawEntry.name] = new EntryImpl(rawEntry);\r\n\t\t}\r\n\t}\r\n\treturn propertySet;\r\n}\r\n\r\nvar atDirectives = browsers.data.css.atdirectives;\r\nvar atDirectiveList: IEntry[];\r\nexport function getAtDirectives(): IEntry[] {\r\n\tif (!atDirectiveList) {\r\n\t\tatDirectiveList = [];\r\n\t\tfor (var i = 0, len = atDirectives.length; i < len; i++) {\r\n\t\t\tvar rawEntry = atDirectives[i];\r\n\t\t\tatDirectiveList.push(new EntryImpl(rawEntry));\r\n\t\t}\r\n\t}\r\n\treturn atDirectiveList;\r\n}\r\n\r\n\r\nvar pseudoElements = browsers.data.css.pseudoelements;\r\nvar pseudoElementList: IEntry[];\r\nexport function getPseudoElements(): IEntry[] {\r\n\t\tif (!pseudoElementList) {\r\n\t\t\tpseudoElementList = [];\r\n\t\t\tfor (var i = 0, len = pseudoElements.length; i < len; i++) {\r\n\t\t\t\tvar rawEntry = pseudoElements[i];\r\n\t\t\t\tpseudoClassesList.push(new EntryImpl(rawEntry));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn pseudoElementList;\r\n}\r\n\r\nvar pseudoClasses = browsers.data.css.pseudoclasses;\r\nvar pseudoClassesList: IEntry[];\r\nexport function getPseudoClasses(): IEntry[]{\r\n\tif (!pseudoClassesList) {\r\n\t\tpseudoClassesList = [];\r\n\t\tfor (var i = 0, len = pseudoClasses.length; i < len; i++) {\r\n\t\t\tvar rawEntry = pseudoClasses[i];\r\n\t\t\tpseudoClassesList.push(new EntryImpl(rawEntry));\r\n\t\t}\r\n\t}\r\n\treturn pseudoClassesList;\r\n}\r\n\r\nexport var browserNames = {\r\n\tE : 'Edge',\r\n\tFF : 'Firefox',\r\n\tS : 'Safari',\r\n\tC : 'Chrome',\r\n\tIE : 'IE',\r\n\tO : 'Opera'\r\n};\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\n\r\nimport nodes = require('vs/languages/css/common/parser/cssNodes');\r\nimport strings = require('vs/base/common/strings');\r\nimport HtmlContent = require('vs/base/common/htmlContent');\r\n\r\nexport interface IElement {\r\n\tname?:string;\r\n\tchildren?:IElement[];\r\n\tattributes?:{[name:string]:string;};\r\n}\r\n\r\nexport class Element implements IElement {\r\n\r\n\tpublic name:string;\r\n\tpublic parent:Element;\r\n\tpublic children:Element[];\r\n\tpublic attributes:{[name:string]:string;};\r\n\r\n\tpublic addChild(child:Element):void {\r\n\t\tif(child instanceof Element) {\r\n\t\t\t(<Element> child).parent = this;\r\n\t\t}\r\n\t\tif(!this.children) {\r\n\t\t\tthis.children = [];\r\n\t\t}\r\n\t\tthis.children.push(child);\r\n\t}\r\n\r\n\tpublic findRoot(): Element {\r\n\t\tvar curr: Element = this;\r\n\t\twhile (curr.parent && !(curr.parent instanceof RootElement)) {\r\n\t\t\tcurr = curr.parent;\r\n\t\t}\r\n\t\treturn curr;\r\n\t}\r\n\r\n\tpublic removeChild(child: Element) : boolean {\r\n\t\tif (this.children) {\r\n\t\t\tvar index = this.children.indexOf(child);\r\n\t\t\tif (index !== -1) {\r\n\t\t\t\tthis.children.splice(index, 1);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic addAttr(name:string, value:string):void {\r\n\t\tif(!this.attributes) {\r\n\t\t\tthis.attributes = {};\r\n\t\t}\r\n\t\tif(this.attributes.hasOwnProperty(name)) {\r\n\t\t\tthis.attributes[name] += ' ' + value;\r\n\t\t} else {\r\n\t\t\tthis.attributes[name] = value;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic clone(cloneChildren: boolean = true): Element {\r\n\t\tvar elem = new Element();\r\n\t\telem.name = this.name;\r\n\t\tif (this.attributes) {\r\n\t\t\telem.attributes = {};\r\n\t\t\tfor (var key in this.attributes) {\r\n\t\t\t\telem.addAttr(key, this.attributes[key]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (cloneChildren && this.children) {\r\n\t\t\telem.children = [];\r\n\t\t\tfor (var index = 0; index < this.children.length; index++) {\r\n\t\t\t\telem.addChild(this.children[index].clone());\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn elem;\r\n\t}\r\n\r\n\tpublic cloneWithParent(): Element {\r\n\t\tvar clone = this.clone(false);\r\n\t\tif (this.parent && !(this.parent instanceof RootElement)) {\r\n\t\t\tvar parentClone = this.parent.cloneWithParent();\r\n\t\t\tparentClone.addChild(clone);\r\n\t\t}\r\n\t\treturn clone;\r\n\t}\r\n}\r\n\r\nexport class RootElement extends Element {\r\n\r\n}\r\n\r\nexport class LabelElement extends Element {\r\n\r\n\tconstructor(label:string) {\r\n\t\tsuper();\r\n\t\tthis.name = label;\r\n\t}\r\n}\r\n\r\nclass HtmlPrinter {\r\n\r\n\tconstructor(public quote:string) {\r\n\t\t// empty\r\n\t}\r\n\r\n\tpublic print(element:IElement):HtmlContent.IHTMLContentElement[] {\r\n\r\n\t\tif(element instanceof RootElement) {\r\n\t\t\treturn this.doPrint(element.children);\r\n\t\t} else {\r\n\t\t\treturn this.doPrint([element]);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate doPrint(elements:IElement[]):HtmlContent.IHTMLContentElement[] {\r\n\r\n\t\tvar root:HtmlContent.IHTMLContentElement = { children: <HtmlContent.IHTMLContentElement[]> []},\r\n\t\t\tparent = root;\r\n\r\n\t\twhile(elements.length > 0) {\r\n\r\n\t\t\tvar element = elements.shift(),\r\n\t\t\t\tcontent = this.doPrintElement(element);\r\n\r\n\t\t\tparent.children.push(content);\r\n\r\n\t\t\tif(element.children) {\r\n\t\t\t\telements.push.apply(elements, element.children);\r\n\t\t\t\tparent = content;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn root.children;\r\n\t}\r\n\r\n\tprivate doPrintElement(element:IElement):HtmlContent.IHTMLContentElement {\r\n\r\n\t\t// special case: a simple label\r\n\t\tif(element instanceof LabelElement) {\r\n\t\t\treturn {\r\n\t\t\t\ttagName: 'ul',\r\n\t\t\t\tchildren: [{\r\n\t\t\t\t\ttagName: 'li',\r\n\t\t\t\t\tchildren: [{\r\n\t\t\t\t\t\ttagName: 'span',\r\n\t\t\t\t\t\tclassName: 'label',\r\n\t\t\t\t\t\ttext: element.name\r\n\t\t\t\t\t}]\r\n\t\t\t\t}]\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t// the real deal\r\n\t\tvar children:HtmlContent.IHTMLContentElement[] = [{\r\n\t\t\tisText: true,\r\n\t\t\ttext: '<'\r\n\t\t}];\r\n\r\n\t\t// element name\r\n\t\tif(element.name) {\r\n\t\t\tchildren.push({\r\n\t\t\t\ttagName: 'span',\r\n\t\t\t\tclassName: 'name',\r\n\t\t\t\ttext: element.name\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tchildren.push({\r\n\t\t\t\ttagName: 'span',\r\n\t\t\t\ttext: 'element'\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// attributes\r\n\t\tif(element.attributes) {\r\n\t\t\tObject.keys(element.attributes).forEach((attr) => {\r\n\r\n\t\t\t\tchildren.push({\r\n\t\t\t\t\tisText: true,\r\n\t\t\t\t\ttext: ' '\r\n\t\t\t\t});\r\n\r\n\t\t\t\tchildren.push({\r\n\t\t\t\t\ttagName: 'span',\r\n\t\t\t\t\tclassName: 'key',\r\n\t\t\t\t\ttext: attr\r\n\t\t\t\t});\r\n\t\t\t\tvar value = element.attributes[attr];\r\n\t\t\t\tif(value) {\r\n\t\t\t\t\tchildren.push({\r\n\t\t\t\t\t\tisText: true,\r\n\t\t\t\t\t\ttext: '='\r\n\t\t\t\t\t});\r\n\t\t\t\t\tchildren.push({\r\n\t\t\t\t\t\ttagName: 'span',\r\n\t\t\t\t\t\tclassName: 'value',\r\n\t\t\t\t\t\ttext: quotes.ensure(value, this.quote)\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tchildren.push({\r\n\t\t\tisText: true,\r\n\t\t\ttext: '>'\r\n\t\t});\r\n\r\n\t\treturn {\r\n\t\t\ttagName: 'ul',\r\n\t\t\tchildren: [{\r\n\t\t\t\ttagName: 'li',\r\n\t\t\t\tchildren: children\r\n\t\t\t}]\r\n\t\t};\r\n\t}\r\n}\r\n\r\nnamespace quotes {\r\n\r\n\texport function ensure(value:string, which:string):string {\r\n\t\treturn which + remove(value) + which;\r\n\t}\r\n\r\n\texport function remove(value:string):string {\r\n\t\tvalue = strings.trim(value, '\\'');\r\n\t\tvalue = strings.trim(value, '\"');\r\n\t\treturn value;\r\n\t}\r\n}\r\n\r\nexport function toElement(node:nodes.SimpleSelector, parentElement?: Element):Element {\r\n\r\n\tvar result = new Element();\r\n\tnode.getChildren().forEach((child) => {\r\n\t\tswitch(child.type) {\r\n\t\t\tcase nodes.NodeType.SelectorCombinator:\r\n\t\t\t\tif (parentElement) {\r\n\t\t\t\t\tvar segments = child.getText().split('&');\r\n\t\t\t\t\tif (segments.length === 1) {\r\n\t\t\t\t\t\t// should not happen\r\n\t\t\t\t\t\tresult.name = segments[0];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresult = parentElement.cloneWithParent();\r\n\t\t\t\t\tif (segments[0]) {\r\n\t\t\t\t\t\tvar root = result.findRoot();\r\n\t\t\t\t\t\troot.name = segments[0] + root.name;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (var i = 1; i < segments.length; i++) {\r\n\t\t\t\t\t\tif (i > 1) {\r\n\t\t\t\t\t\t\tvar clone = parentElement.cloneWithParent();\r\n\t\t\t\t\t\t\tresult.addChild(clone.findRoot());\r\n\t\t\t\t\t\t\tresult = clone;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresult.name += segments[i];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase nodes.NodeType.SelectorPlaceholder:\r\n\t\t\tcase nodes.NodeType.ElementNameSelector:\r\n\t\t\t\tvar text = child.getText();\r\n\t\t\t\tresult.name = text === '*' ? 'element' : text;\r\n\t\t\t\tbreak;\r\n\t\t\tcase nodes.NodeType.ClassSelector:\r\n\t\t\t\tresult.addAttr('class', child.getText().substring(1));\r\n\t\t\t\tbreak;\r\n\t\t\tcase nodes.NodeType.IdentifierSelector:\r\n\t\t\t\tresult.addAttr('id', child.getText().substring(1));\r\n\t\t\t\tbreak;\r\n\t\t\tcase nodes.NodeType.MixinDeclaration:\r\n\t\t\t\tresult.addAttr('class', (<nodes.MixinDeclaration> child).getName());\r\n\t\t\t\tbreak;\r\n\t\t\tcase nodes.NodeType.PseudoSelector:\r\n\t\t\t\tresult.addAttr(child.getText(), strings.empty);\r\n\t\t\t\tbreak;\r\n\t\t\tcase nodes.NodeType.AttributeSelector:\r\n\t\t\t\tvar expr = <nodes.BinaryExpression> child.getChildren()[0];\r\n\t\t\t\tif (expr) {\r\n\t\t\t\t\tif (expr.getRight()) {\r\n\t\t\t\t\t\tvar value:string;\r\n\t\t\t\t\t\tswitch (expr.getOperator().getText()) {\r\n\t\t\t\t\t\t\tcase '|=':\r\n\t\t\t\t\t\t\t\t// excatly or followed by -words\r\n\t\t\t\t\t\t\t\tvalue = strings.format('{0}-\\u2026', quotes.remove(expr.getRight().getText()));\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase '^=':\r\n\t\t\t\t\t\t\t\t// prefix\r\n\t\t\t\t\t\t\t\tvalue = strings.format('{0}\\u2026', quotes.remove(expr.getRight().getText()));\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase '$=':\r\n\t\t\t\t\t\t\t\t// suffix\r\n\t\t\t\t\t\t\t\tvalue = strings.format('\\u2026{0}', quotes.remove(expr.getRight().getText()));\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase '~=':\r\n\t\t\t\t\t\t\t\t// one of a list of words\r\n\t\t\t\t\t\t\t\tvalue = strings.format(' \\u2026 {0} \\u2026 ', quotes.remove(expr.getRight().getText()));\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase '*=':\r\n\t\t\t\t\t\t\t\t// substring\r\n\t\t\t\t\t\t\t\tvalue = strings.format('\\u2026{0}\\u2026', quotes.remove(expr.getRight().getText()));\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tvalue = quotes.remove(expr.getRight().getText());\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresult.addAttr(expr.getLeft().getText(), value);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t});\r\n\treturn result;\r\n}\r\n\r\nexport function simpleSelectorToHtml(node:nodes.SimpleSelector):HtmlContent.IHTMLContentElement {\r\n\tvar element = toElement(node);\r\n\tvar body = new HtmlPrinter('\"').print(element);\r\n\treturn {\r\n\t\ttagName: 'span',\r\n\t\tclassName: 'css-selector-hover',\r\n\t\tchildren: body\r\n\t};\r\n}\r\n\r\nclass SelectorElementBuilder {\r\n\r\n\tprivate prev:nodes.Node;\r\n\tprivate element:Element;\r\n\r\n\tpublic constructor(element:Element) {\r\n\t\tthis.prev = null;\r\n\t\tthis.element = element;\r\n\t}\r\n\r\n\tpublic processSelector(selector:nodes.Selector) : void {\r\n\t\tvar parentElement : Element = null;\r\n\r\n\t\tif (!(this.element instanceof RootElement)) {\r\n\t\t\tif (selector.getChildren().some((c) => c.hasChildren() && c.getChild(0).type === nodes.NodeType.SelectorCombinator)) {\r\n\t\t\t\tvar curr = this.element.findRoot();\r\n\t\t\t\tif (curr.parent instanceof RootElement) {\r\n\t\t\t\t\tparentElement = this.element;\r\n\r\n\t\t\t\t\tthis.element = curr.parent;\r\n\t\t\t\t\tthis.element.removeChild(curr);\r\n\t\t\t\t\tthis.prev = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tselector.getChildren().forEach((selectorChild) => {\r\n\t\t\tif (selectorChild instanceof nodes.SimpleSelector) {\r\n\t\t\t\tif (this.prev instanceof nodes.SimpleSelector) {\r\n\t\t\t\t\tvar labelElement = new LabelElement('\\u2026');\r\n\t\t\t\t\tthis.element.addChild(labelElement);\r\n\t\t\t\t\tthis.element = labelElement;\r\n\t\t\t\t} else if (this.prev && (this.prev.matches('+') || this.prev.matches('~'))) {\r\n\t\t\t\t\tthis.element = <Element> this.element.parent;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.prev && this.prev.matches('~')) {\r\n\t\t\t\t\tthis.element.addChild(toElement(<nodes.SimpleSelector> selectorChild));\r\n\t\t\t\t\tthis.element.addChild(new LabelElement('\\u22EE'));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar thisElement = toElement(<nodes.SimpleSelector> selectorChild, parentElement);\r\n\t\t\t\tvar root = thisElement.findRoot();\r\n\r\n\t\t\t\tthis.element.addChild(root);\r\n\t\t\t\tthis.element = thisElement;\r\n\t\t\t}\r\n\r\n\t\t\tif (selectorChild instanceof nodes.SimpleSelector ||\r\n\t\t\t\tselectorChild.type === nodes.NodeType.SelectorCombinatorParent ||\r\n\t\t\t\tselectorChild.type === nodes.NodeType.SelectorCombinatorSibling ||\r\n\t\t\t\tselectorChild.type === nodes.NodeType.SelectorCombinatorAllSiblings) {\r\n\r\n\t\t\t\tthis.prev = selectorChild;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction isNewSelectorContext(node: nodes.Node): boolean {\r\n\tswitch (node.type) {\r\n\t\tcase nodes.NodeType.MixinDeclaration:\r\n\t\tcase nodes.NodeType.Stylesheet:\r\n\t\t\treturn true;\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nexport function selectorToElement(node:nodes.Selector):Element {\r\n\tvar root: Element = new RootElement();\r\n\tvar parentRuleSets: nodes.RuleSet[] = [];\r\n\r\n\tif (node.getParent() instanceof nodes.RuleSet) {\r\n\t\tvar parent = node.getParent().getParent(); // parent of the selector's ruleset\r\n\t\twhile (parent && !isNewSelectorContext(parent)) {\r\n\t\t\tif (parent instanceof nodes.RuleSet) {\r\n\t\t\t\tparentRuleSets.push(<nodes.RuleSet> parent);\r\n\t\t\t}\r\n\t\t\tparent = parent.getParent();\r\n\t\t}\r\n\t}\r\n\r\n\tvar builder = new SelectorElementBuilder(root);\r\n\r\n\tfor (var i = parentRuleSets.length - 1; i >= 0; i--) {\r\n\t\tvar selector = parentRuleSets[i].getSelectors().getChild(0);\r\n\t\tif (selector) {\r\n\t\t\tbuilder.processSelector(selector);\r\n\t\t}\r\n\t}\r\n\r\n\tbuilder.processSelector(node);\r\n\treturn root;\r\n}\r\n\r\n\r\nexport function selectorToHtml(node:nodes.Selector):HtmlContent.IHTMLContentElement {\r\n\tvar root = selectorToElement(node);\r\n\tvar body = new HtmlPrinter('\"').print(root);\r\n\treturn {\r\n\t\ttagName: 'span',\r\n\t\tclassName: 'css-selector-hover',\r\n\t\tchildren: body\r\n\t};\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\n\r\nimport nodes = require('vs/languages/css/common/parser/cssNodes');\r\nimport _symbols = require('vs/languages/css/common/parser/cssSymbols');\r\nimport {DocumentHighlightKind} from 'vs/editor/common/modes';\r\n\r\nexport function findDeclaration(stylesheet:nodes.Node, offset:number):nodes.Node {\r\n\r\n\tvar symbols = new _symbols.Symbols(stylesheet);\r\n\tvar node = nodes.getNodeAtOffset(stylesheet, offset);\r\n\r\n\tif (!node) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tvar symbol = symbols.findSymbolFromNode(node);\r\n\tif(!symbol) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn symbol.node;\r\n}\r\n\r\nexport interface IOccurrence {\r\n\tkind:DocumentHighlightKind;\r\n\ttype:nodes.ReferenceType;\r\n\tnode:nodes.Node;\r\n}\r\n\r\nexport function findOccurrences(stylesheet:nodes.Node, offset:number):IOccurrence[] {\r\n\tvar result:IOccurrence[] = [];\r\n\tvar node = nodes.getNodeAtOffset(stylesheet, offset);\r\n\tif (!node || node.type === nodes.NodeType.Stylesheet || node.type === nodes.NodeType.Declarations) {\r\n\t\treturn result;\r\n\t}\r\n\r\n\tvar symbols = new _symbols.Symbols(stylesheet);\r\n\tvar symbol = symbols.findSymbolFromNode(node);\r\n\tvar name = node.getText();\r\n\r\n\tstylesheet.accept((candidate) => {\r\n\t\tif (symbol) {\r\n\t\t\tif (symbols.matchesSymbol(candidate, symbol)) {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\tkind: getKind(candidate),\r\n\t\t\t\t\ttype: symbol.type,\r\n\t\t\t\t\tnode: candidate\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t} else if (node.type === candidate.type && node.length === candidate.length && name === candidate.getText()) {\r\n\t\t\t// Same node type and data\r\n\t\t\tresult.push({\r\n\t\t\t\tkind: getKind(candidate),\r\n\t\t\t\tnode: candidate,\r\n\t\t\t\ttype:nodes.ReferenceType.Unknown\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\r\n\treturn result;\r\n}\r\n\r\nfunction getKind(node:nodes.Node):DocumentHighlightKind {\r\n\r\n\tif (node.type === nodes.NodeType.Selector) {\r\n\t\treturn DocumentHighlightKind.Write;\r\n\t}\r\n\r\n\tif (node instanceof nodes.Identifier) {\r\n\t\tif (node.parent && node.parent instanceof nodes.Property) {\r\n\t\t\tif (_symbols.Symbols.isCssVariable(node)) {\r\n\t\t\t\treturn DocumentHighlightKind.Write;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (node.parent) {\r\n\t\tswitch (node.parent.type) {\r\n\t\t\tcase nodes.NodeType.FunctionDeclaration:\r\n\t\t\tcase nodes.NodeType.MixinDeclaration:\r\n\t\t\tcase nodes.NodeType.Keyframe:\r\n\t\t\tcase nodes.NodeType.VariableDeclaration:\r\n\t\t\tcase nodes.NodeType.FunctionParameter:\r\n\t\t\t\treturn DocumentHighlightKind.Write;\r\n\t\t}\r\n\t}\r\n\r\n\treturn DocumentHighlightKind.Read;\r\n}","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\n\r\nimport nls = require('vs/nls');\r\nimport nodes = require('./cssNodes');\r\n\r\nexport class CSSIssueType implements nodes.IRule {\r\n\tid: string;\r\n\tmessage: string;\r\n\r\n\tpublic constructor(id:string, message: string) {\r\n\t\tthis.id = id;\r\n\t\tthis.message = message;\r\n\t}\r\n}\r\n\r\nexport var ParseError = {\r\n\tNumberExpected: new CSSIssueType('css-numberexpected', nls.localize('expected.number', \"number expected\")),\r\n\tConditionExpected: new CSSIssueType('css-conditionexpected', nls.localize('expected.condt', \"condition expected\")),\r\n\tRuleOrSelectorExpected: new CSSIssueType('css-ruleorselectorexpected', nls.localize('expected.ruleorselector', \"at-rule or selector expected\")),\r\n\tDotExpected: new CSSIssueType('css-dotexpected', nls.localize('expected.dot', \"dot expected\")),\r\n\tColonExpected: new CSSIssueType('css-colonexpected', nls.localize('expected.colon', \"colon expected\")),\r\n\tSemiColonExpected: new CSSIssueType('css-semicolonexpected', nls.localize('expected.semicolon', \"semi-colon expected\")),\r\n\tTermExpected: new CSSIssueType('css-termexpected', nls.localize('expected.term', \"term expected\")),\r\n\tExpressionExpected: new CSSIssueType('css-expressionexpected', nls.localize('expected.expression', \"expression expected\")),\r\n\tOperatorExpected: new CSSIssueType('css-operatorexpected', nls.localize('expected.operator', \"operator expected\")),\r\n\tIdentifierExpected: new CSSIssueType('css-identifierexpected', nls.localize('expected.ident', \"identifier expected\")),\r\n\tPercentageExpected: new CSSIssueType('css-percentageexpected', nls.localize('expected.percentage', \"percentage expected\")),\r\n\tURIOrStringExpected: new CSSIssueType('css-uriorstringexpected', nls.localize('expected.uriorstring', \"uri or string expected\")),\r\n\tURIExpected: new CSSIssueType('css-uriexpected', nls.localize('expected.uri', \"URI expected\")),\r\n\tVariableNameExpected: new CSSIssueType('css-varnameexpected', nls.localize('expected.varname', \"variable name expected\")),\r\n\tVariableValueExpected: new CSSIssueType('css-varvalueexpected', nls.localize('expected.varvalue', \"variable value expected\")),\r\n\tPropertyValueExpected: new CSSIssueType('css-propertyvalueexpected', nls.localize('expected.propvalue', \"property value expected\")),\r\n\tLeftCurlyExpected: new CSSIssueType('css-lcurlyexpected', nls.localize('expected.lcurly', \"{ expected\")),\r\n\tRightCurlyExpected: new CSSIssueType('css-rcurlyexpected', nls.localize('expected.rcurly', \"} expected\")),\r\n\tLeftSquareBracketExpected: new CSSIssueType('css-rbracketexpected', nls.localize('expected.lsquare', \"[ expected\")),\r\n\tRightSquareBracketExpected: new CSSIssueType('css-lbracketexpected', nls.localize('expected.rsquare', \"] expected\")),\r\n\tLeftParenthesisExpected: new CSSIssueType('css-lparentexpected', nls.localize('expected.lparen', \"( expected\")),\r\n\tRightParenthesisExpected: new CSSIssueType('css-rparentexpected', nls.localize('expected.rparent', \") expected\")),\r\n\tCommaExpected: new CSSIssueType('css-commaexpected', nls.localize('expected.comma', \"comma expected\")),\r\n\tPageDirectiveOrDeclarationExpected: new CSSIssueType('css-pagedirordeclexpected', nls.localize('expected.pagedirordecl', \"page directive or declaraton expected\")),\r\n\tUnknownAtRule: new CSSIssueType('css-unknownatrule', nls.localize('unknown.atrule', \"at-rule unknown\")),\r\n\tUnknownKeyword: new CSSIssueType('css-unknownkeyword', nls.localize('unknown.keyword', \"unknown keyword\")),\r\n\tSelectorExpected: new CSSIssueType('css-selectorexpected', nls.localize('expected.selector', \"selector expected\")),\r\n\tStringLiteralExpected: new CSSIssueType('css-stringliteralexpected', nls.localize('expected.stringliteral', \"string literal expected\")),\r\n};\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport types = require ('vs/base/common/types');\r\nimport scanner = require ('./cssScanner');\r\nimport nodes = require ('./cssNodes');\r\nimport _level = require('vs/languages/css/common/level');\r\nimport errors = require('./cssErrors');\r\nimport languageFacts = require('vs/languages/css/common/services/languageFacts');\r\nimport EditorCommon = require('vs/editor/common/editorCommon');\r\n\r\nexport interface IMark {\r\n\tprev: scanner.IToken;\r\n\tcurr: scanner.IToken;\r\n\tpos: number;\r\n}\r\n\r\n/// <summary>\r\n/// A parser for the css core specification. See for reference:\r\n/// http://www.w3.org/TR/CSS21/syndata.html#tokenization\r\n/// </summary>\r\nexport class Parser {\r\n\r\n\tpublic scanner: scanner.Scanner;\r\n\tpublic token: scanner.IToken;\r\n\tpublic prevToken: scanner.IToken;\r\n\r\n\tprivate lastErrorToken: scanner.IToken;\r\n\r\n\tconstructor(scnr: scanner.Scanner=new scanner.Scanner()) {\r\n\t\tthis.scanner = scnr;\r\n\t\tthis.token = null;\r\n\t\tthis.prevToken = null;\r\n\t}\r\n\r\n\tpublic peek(type:scanner.TokenType, text?:string, ignoreCase:boolean=true): boolean {\r\n\t\tif (type !== this.token.type) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (typeof text !== 'undefined') {\r\n\t\t\tif(ignoreCase) {\r\n\t\t\t\treturn text.toLowerCase() === this.token.text.toLowerCase();\r\n\t\t\t} else {\r\n\t\t\t\treturn text === this.token.text;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic peekRegExp(type:scanner.TokenType, regEx: RegExp): boolean {\r\n\t\tif (type !== this.token.type) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn regEx.test(this.token.text);\r\n\t}\r\n\r\n\tpublic hasWhitespace():boolean {\r\n\t\treturn this.prevToken && (this.prevToken.offset + this.prevToken.len !== this.token.offset);\r\n\t}\r\n\r\n\tpublic consumeToken() : void {\r\n\t\tthis.prevToken = this.token;\r\n\t\tthis.token = this.scanner.scan();\r\n\t}\r\n\r\n\tpublic mark(): IMark {\r\n\t\treturn {\r\n\t\t\tprev: this.prevToken,\r\n\t\t\tcurr: this.token,\r\n\t\t\tpos: this.scanner.pos()\r\n\t\t};\r\n\t}\r\n\r\n\tpublic restoreAtMark(mark: IMark): void {\r\n\t\tthis.prevToken= mark.prev;\r\n\t\tthis.token= mark.curr;\r\n\t\tthis.scanner.goBackTo(mark.pos);\r\n\t}\r\n\r\n\tpublic acceptOne(type: scanner.TokenType, text?: string[], ignoreCase:boolean=true): boolean {\r\n\t\tfor (var i = 0 ; i < text.length; i++) {\r\n\t\t\tif(this.peek(type, text[i], ignoreCase)) {\r\n\t\t\t\tthis.consumeToken();\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic accept(type: scanner.TokenType, text?: string, ignoreCase:boolean=true): boolean {\r\n\t\tif(this.peek(type, text, ignoreCase)) {\r\n\t\t\tthis.consumeToken();\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic resync(resyncTokens: scanner.TokenType[], resyncStopTokens: scanner.TokenType[]): boolean {\r\n\t\twhile (true) {\r\n\t\t\tif (resyncTokens && resyncTokens.indexOf(this.token.type) !== -1) {\r\n\t\t\t\tthis.consumeToken();\r\n\t\t\t\treturn true;\r\n\t\t\t} else if (resyncStopTokens && resyncStopTokens.indexOf(this.token.type) !== -1) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\tif (this.token.type === scanner.TokenType.EOF) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.token = this.scanner.scan();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic createNode(nodeType:nodes.NodeType): nodes.Node {\r\n\t\treturn new nodes.Node(this.token.offset, this.token.len, nodeType);\r\n\t}\r\n\r\n\tpublic create(ctor: any): nodes.Node {\r\n\t\treturn types.create(ctor, this.token.offset, this.token.len);\r\n\t}\r\n\r\n\tpublic finish<T extends nodes.Node>(node:T, error?: errors.CSSIssueType, resyncTokens?: scanner.TokenType[], resyncStopTokens?: scanner.TokenType[]): T {\r\n\t\t// parseNumeric misuses error for boolean flagging (however the real error mustn't be a false)\r\n\t\t// + nodelist offsets mustn't be modified, because there is a offset hack in rulesets for smartselection\r\n\t\tif (!(node instanceof nodes.Nodelist)) {\r\n\t\t\tif (error) {\r\n\t\t\t\tthis.markError(node, error, resyncTokens, resyncStopTokens);\r\n\t\t\t}\r\n\t\t\t// set the node end position\r\n\t\t\tif ( this.prevToken !== null) {\r\n\t\t\t\t// length with more elements belonging together\r\n\t\t\t\tvar prevEnd = this.prevToken.offset + this.prevToken.len;\r\n\t\t\t\tnode.length = prevEnd > node.offset ? prevEnd - node.offset: 0; // offset is taken from current token, end from previous: Use 0 for empty nodes\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn node;\r\n\t}\r\n\r\n\tpublic markError<T extends nodes.Node>(node:T, error: errors.CSSIssueType, resyncTokens?: scanner.TokenType[], resyncStopTokens?: scanner.TokenType[]): void {\r\n\t\tif (this.token !== this.lastErrorToken) { // do not report twice on the same token\r\n\t\t\tnode.addIssue(new nodes.Marker(node, error, _level.Level.Error, null, this.token.offset, this.token.len));\r\n\t\t\tthis.lastErrorToken = this.token;\r\n\t\t}\r\n\t\tif (resyncTokens || resyncStopTokens) {\r\n\t\t\tthis.resync(resyncTokens, resyncStopTokens);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic parseStylesheet(model: EditorCommon.IMirrorModel): nodes.Stylesheet {\r\n\t\tvar versionId = model.getVersionId();\r\n\t\tvar textProvider = (offset:number, length:number) => {\r\n\t\t\t\tif (model.getVersionId() !== versionId) {\r\n\t\t\t\t\tthrow new Error('Underlying model has changed, AST is no longer valid');\r\n\t\t\t\t}\r\n\t\t\t\tvar range = model.getRangeFromOffsetAndLength(offset, length);\r\n\t\t\t\treturn model.getValueInRange(range);\r\n\t\t\t};\r\n\r\n\t\treturn this.internalParse(model.getValue(), this._parseStylesheet, textProvider);\r\n\t}\r\n\r\n\tpublic internalParse<T extends nodes.Node>(input: string, parseFunc:()=>T, textProvider?:nodes.ITextProvider): T {\r\n\t\tthis.scanner.setSource(input);\r\n\t\tthis.token = this.scanner.scan();\r\n\t\tvar node = parseFunc.bind(this)();\r\n\t\tif (node) {\r\n\t\t\tif (textProvider) {\r\n\t\t\t\tnode.textProvider = textProvider;\r\n\t\t\t} else {\r\n\t\t\t\tnode.textProvider = (offset:number, length:number) => { return input.substr(offset, length); };\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn node;\r\n\t}\r\n\r\n\tpublic _parseStylesheet(): nodes.Stylesheet {\r\n\t\tvar node = <nodes.Stylesheet> this.create(nodes.Stylesheet);\r\n\t\tnode.addChild(this._parseCharset());\r\n\r\n\t\tvar inRecovery= false;\r\n\t\tdo {\r\n\t\t\tvar hasMatch = false;\r\n\t\t\tdo {\r\n\t\t\t\thasMatch= false;\r\n\t\t\t\tvar statement = this._parseStylesheetStatement();\r\n\t\t\t\tif (statement) {\r\n\t\t\t\t\tnode.addChild(statement);\r\n\t\t\t\t\thasMatch= true;\r\n\t\t\t\t\tinRecovery = false;\r\n\t\t\t\t\tif (!this.peek(scanner.TokenType.EOF) && this._needsSemicolonAfter(statement) && !this.accept(scanner.TokenType.SemiColon)) {\r\n\t\t\t\t\t\tthis.markError(node, errors.ParseError.SemiColonExpected);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\twhile (this.accept(scanner.TokenType.SemiColon) || this.accept(scanner.TokenType.CDO) || this.accept(scanner.TokenType.CDC)) {\r\n\t\t\t\t\t// accept empty statements\r\n\t\t\t\t\thasMatch= true;\r\n\t\t\t\t\tinRecovery = false;\r\n\t\t\t\t}\r\n\t\t\t} while (hasMatch);\r\n\r\n\t\t\tif (this.peek(scanner.TokenType.EOF)) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif (!inRecovery) {\r\n\t\t\t\tif (this.peek(scanner.TokenType.AtKeyword)) {\r\n\t\t\t\t\tthis.markError(node, errors.ParseError.UnknownAtRule);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.markError(node, errors.ParseError.RuleOrSelectorExpected);\r\n\t\t\t\t}\r\n\t\t\t\tinRecovery= true;\r\n\t\t\t}\r\n\t\t\tthis.consumeToken();\r\n\t\t} while (!this.peek(scanner.TokenType.EOF));\r\n\r\n\t\treturn this.finish(node);\r\n\t}\r\n\r\n\tpublic _parseStylesheetStatement():nodes.Node {\r\n\t\treturn this._parseRuleset(false)\r\n\t\t\t|| this._parseImport()\r\n\t\t\t|| this._parseMedia()\r\n\t\t\t|| this._parsePage()\r\n\t\t\t|| this._parseFontFace()\r\n\t\t\t|| this._parseKeyframe()\r\n\t\t\t|| this._parseViewPort()\r\n\t\t\t|| this._parseNamespace()\r\n\t\t\t|| this._parseDocument();\r\n\t}\r\n\r\n\tpublic _tryParseRuleset(isNested: boolean): nodes.RuleSet {\r\n\t\tvar mark= this.mark();\r\n\t\tif (this._parseSelector(isNested)) {\r\n\t\t\twhile (this.accept(scanner.TokenType.Comma) && this._parseSelector(isNested)) {\r\n\t\t\t\t// loop\r\n\t\t\t}\r\n\t\t\tif (this.accept(scanner.TokenType.CurlyL)) {\r\n\t\t\t\tthis.restoreAtMark(mark);\r\n\t\t\t\treturn this._parseRuleset(isNested);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.restoreAtMark(mark);\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic _parseRuleset(isNested: boolean = false): nodes.RuleSet {\r\n\t\tvar node = <nodes.RuleSet> this.create(nodes.RuleSet);\r\n\r\n\t\tif(!node.getSelectors().addChild(this._parseSelector(isNested))) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\twhile (this.accept(scanner.TokenType.Comma) && node.getSelectors().addChild(this._parseSelector(isNested))) {\r\n\t\t\t// loop\r\n\t\t}\r\n\r\n\t\treturn this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\r\n\t}\r\n\r\n\tpublic _parseRuleSetDeclaration() : nodes.Node {\r\n\t\treturn this._parseDeclaration();\r\n\t}\r\n\r\n\tpublic _needsSemicolonAfter(node: nodes.Node) : boolean {\r\n\t\tswitch (node.type) {\r\n\t\t\tcase nodes.NodeType.Keyframe:\r\n\t\t\tcase nodes.NodeType.ViewPort:\r\n\t\t\tcase nodes.NodeType.Media:\r\n\t\t\tcase nodes.NodeType.Ruleset:\r\n\t\t\tcase nodes.NodeType.Namespace:\r\n\t\t\tcase nodes.NodeType.If:\r\n\t\t\tcase nodes.NodeType.For:\r\n\t\t\tcase nodes.NodeType.Each:\r\n\t\t\tcase nodes.NodeType.While:\r\n\t\t\tcase nodes.NodeType.MixinDeclaration:\r\n\t\t\tcase nodes.NodeType.FunctionDeclaration:\r\n\t\t\t\treturn false;\r\n\t\t\tcase nodes.NodeType.VariableDeclaration:\r\n\t\t\tcase nodes.NodeType.ExtendsReference:\r\n\t\t\tcase nodes.NodeType.MixinContent:\r\n\t\t\tcase nodes.NodeType.ReturnStatement:\r\n\t\t\tcase nodes.NodeType.MediaQuery:\r\n\t\t\tcase nodes.NodeType.Debug:\r\n\t\t\tcase nodes.NodeType.Import:\r\n\t\t\t\treturn true;\r\n\t\t\tcase nodes.NodeType.MixinReference:\r\n\t\t\t\treturn !(<nodes.MixinReference> node).getContent();\r\n\t\t\tcase nodes.NodeType.Declaration:\r\n\t\t\t\treturn !(<nodes.Declaration> node).getNestedProperties();\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic _parseDeclarations(parseDeclaration: () => nodes.Node) : nodes.Declarations {\r\n\t\tvar node = <nodes.Declarations> this.create(nodes.Declarations);\r\n\t\tif (!this.accept(scanner.TokenType.CurlyL)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tvar decl = parseDeclaration();\r\n\t\twhile (node.addChild(decl)) {\r\n\t\t\tif (this.peek(scanner.TokenType.CurlyR)) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (this._needsSemicolonAfter(decl) && !this.accept(scanner.TokenType.SemiColon)) {\r\n\t\t\t\treturn this.finish(node, errors.ParseError.SemiColonExpected, [ scanner.TokenType.SemiColon, scanner.TokenType.CurlyR ]);\r\n\t\t\t}\r\n\t\t\twhile (this.accept(scanner.TokenType.SemiColon)) {\r\n\t\t\t\t// accept empty statements\r\n\t\t\t}\r\n\t\t\tdecl = parseDeclaration();\r\n\t\t}\r\n\r\n\t\tif (!this.accept(scanner.TokenType.CurlyR)) {\r\n\t\t\treturn this.finish(node, errors.ParseError.RightCurlyExpected, [scanner.TokenType.CurlyR, scanner.TokenType.SemiColon ]);\r\n\t\t}\r\n\t\treturn this.finish(node);\r\n\t}\r\n\r\n\tpublic _parseBody<T extends nodes.BodyDeclaration>(node: T, parseDeclaration: () => nodes.Node): T {\r\n\t\tif (!node.setDeclarations(this._parseDeclarations(parseDeclaration))) {\r\n\t\t\treturn this.finish(node, errors.ParseError.LeftCurlyExpected, [scanner.TokenType.CurlyR, scanner.TokenType.SemiColon ]);\r\n\t\t}\r\n\t\treturn this.finish(node);\r\n\t}\r\n\r\n\tpublic _parseSelector(isNested: boolean): nodes.Selector {\r\n\t\tvar node = <nodes.Selector> this.create(nodes.Selector);\r\n\r\n\t\tvar hasContent = false;\r\n\t\tif (isNested) {\r\n\t\t\t// nested selectors can start with a combinator\r\n\t\t\thasContent = node.addChild(this._parseCombinator());\r\n\t\t}\r\n\t\twhile (node.addChild(this._parseSimpleSelector())) {\r\n\t\t\thasContent = true;\r\n\t\t\tnode.addChild(this._parseCombinator()); // optional\r\n\t\t}\r\n\t\treturn hasContent ? this.finish(node) : null;\r\n\t}\r\n\r\n\tpublic _parseDeclaration(resyncStopTokens?:scanner.TokenType[]): nodes.Declaration {\r\n\t\tvar node = <nodes.Declaration> this.create(nodes.Declaration);\r\n\t\tif (!node.setProperty(this._parseProperty())) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tif (!this.accept(scanner.TokenType.Colon)) {\r\n\t\t\treturn <nodes.Declaration> this.finish(node, errors.ParseError.ColonExpected, [ scanner.TokenType.Colon ], resyncStopTokens);\r\n\t\t}\r\n\t\tnode.colonPosition = this.prevToken.offset;\r\n\r\n\t\tif (!node.setValue(this._parseExpr())) {\r\n\t\t\treturn this.finish(node, errors.ParseError.PropertyValueExpected);\r\n\t\t}\r\n\t\tnode.addChild(this._parsePrio());\r\n\r\n\t\tif (this.peek(scanner.TokenType.SemiColon)) {\r\n\t\t\tnode.semicolonPosition = this.token.offset; // not part of the declaration, but useful information for code assist\r\n\t\t}\r\n\r\n\t\treturn this.finish(node);\r\n\t}\r\n\r\n\tpublic _tryToParseDeclaration(): nodes.Declaration {\r\n\t\tvar mark= this.mark();\r\n\t\tif (this._parseProperty() && this.accept(scanner.TokenType.Colon)) {\r\n\t\t\t// looks like a declaration, go ahead\r\n\t\t\tthis.restoreAtMark(mark);\r\n\t\t\treturn this._parseDeclaration();\r\n\t\t}\r\n\r\n\t\tthis.restoreAtMark(mark);\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic _parseProperty(): nodes.Property {\r\n\t\tvar node = <nodes.Property> this.create(nodes.Property);\r\n\r\n\t\tvar mark= this.mark();\r\n\t\tif (this.accept(scanner.TokenType.Delim, '*') || this.accept(scanner.TokenType.Delim, '_')) {\r\n\t\t\t// support for  IE 5.x, 6 and 7 star hack: see http://en.wikipedia.org/wiki/CSS_filter#Star_hack\r\n\t\t\tif (this.hasWhitespace()) {\r\n\t\t\t\tthis.restoreAtMark(mark);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (node.setIdentifier(this._parseIdent())) {\r\n\t\t\treturn <nodes.Property> this.finish(node);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic _parseCharset():nodes.Node {\r\n\t\tvar node = this.create(nodes.Node);\r\n\t\tif(!this.accept(scanner.TokenType.Charset)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (!this.accept(scanner.TokenType.String)) {\r\n\t\t\treturn this.finish(node, errors.ParseError.IdentifierExpected);\r\n\t\t}\r\n\t\tif(!this.accept(scanner.TokenType.SemiColon)) {\r\n\t\t\treturn this.finish(node, errors.ParseError.SemiColonExpected);\r\n\t\t}\r\n\t\treturn this.finish(node);\r\n\t}\r\n\r\n\r\n\r\n\tpublic _parseImport():nodes.Node {\r\n\t\tvar node = <nodes.Import> this.create(nodes.Import);\r\n\t\tif(!this.accept(scanner.TokenType.AtKeyword, '@import')) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tif(!this.accept(scanner.TokenType.URI) && !this.accept(scanner.TokenType.String)) {\r\n\t\t\treturn this.finish(node, errors.ParseError.URIOrStringExpected);\r\n\t\t}\r\n\r\n\t\tnode.setMedialist(this._parseMediaList());\r\n\r\n\t\treturn this.finish(node);\r\n\t}\r\n\r\n\tpublic _parseNamespace():nodes.Node {\r\n\t\t// http://www.w3.org/TR/css3-namespace/\r\n\t\t// namespace  : NAMESPACE_SYM S* [IDENT S*]? [STRING|URI] S* ';' S*\r\n\r\n\t\tvar node = <nodes.Namespace> this.create(nodes.Namespace);\r\n\t\tif(!this.accept(scanner.TokenType.AtKeyword, '@namespace')) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tnode.addChild(this._parseIdent()); // optional prefix\r\n\r\n\t\tif( !this.accept(scanner.TokenType.URI) && !this.accept(scanner.TokenType.String)) {\r\n\t\t\treturn this.finish(node, errors.ParseError.URIExpected, [ scanner.TokenType.SemiColon ]);\r\n\t\t}\r\n\r\n\t\tif(!this.accept(scanner.TokenType.SemiColon)) {\r\n\t\t\treturn this.finish(node, errors.ParseError.SemiColonExpected);\r\n\t\t}\r\n\r\n\t\treturn this.finish(node);\r\n\t}\r\n\r\n\tpublic _parseFontFace():nodes.Node {\r\n\t\tif(!this.peek(scanner.TokenType.AtKeyword, '@font-face')) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar node = <nodes.FontFace> this.create(nodes.FontFace);\r\n\t\tthis.consumeToken(); // @font-face\r\n\r\n\t\treturn this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\r\n\t}\r\n\r\n\tpublic _parseViewPort():nodes.Node {\r\n\t\tif(!this.peek(scanner.TokenType.AtKeyword, '@-ms-viewport') &&\r\n\t\t\t!this.peek(scanner.TokenType.AtKeyword, '@-o-viewport') &&\r\n\t\t\t!this.peek(scanner.TokenType.AtKeyword, '@viewport')\r\n\t\t) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar node = <nodes.ViewPort> this.create(nodes.ViewPort);\r\n\t\tthis.consumeToken(); // @-ms-viewport\r\n\r\n\t\treturn this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\r\n\t}\r\n\r\n\tpublic _parseKeyframe():nodes.Node {\r\n\t\tvar node = <nodes.Keyframe> this.create(nodes.Keyframe);\r\n\r\n\t\tvar atNode = this.create(nodes.Node);\r\n\r\n\t\tif(!this.accept(scanner.TokenType.AtKeyword, '@keyframes') &&\r\n\t\t\t!this.accept(scanner.TokenType.AtKeyword, '@-webkit-keyframes') &&\r\n\t\t\t!this.accept(scanner.TokenType.AtKeyword, '@-ms-keyframes') &&\r\n\t\t\t!this.accept(scanner.TokenType.AtKeyword, '@-moz-keyframes') &&\r\n\t\t\t!this.accept(scanner.TokenType.AtKeyword, '@-o-keyframes')) {\r\n\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tnode.setKeyword(this.finish(atNode));\r\n\t\tif (atNode.getText() === '@-ms-keyframes') { // -ms-keyframes never existed\r\n\t\t\tthis.markError(atNode, errors.ParseError.UnknownKeyword);\r\n\t\t}\r\n\r\n\t\tif (!node.setIdentifier(this._parseIdent([ nodes.ReferenceType.Keyframe ]))) {\r\n\t\t\treturn this.finish(node, errors.ParseError.IdentifierExpected, [ scanner.TokenType.CurlyR ]);\r\n\t\t}\r\n\r\n\t\treturn this._parseBody(node, this._parseKeyframeSelector.bind(this));\r\n\t}\r\n\r\n\tpublic _parseKeyframeSelector():nodes.Node {\r\n\t\tvar node = <nodes.KeyframeSelector> this.create(nodes.KeyframeSelector);\r\n\r\n\t\tif (!node.addChild(this._parseIdent()) && !this.accept(scanner.TokenType.Percentage)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\twhile (this.accept(scanner.TokenType.Comma)) {\r\n\t\t\tif (!node.addChild(this._parseIdent()) && !this.accept(scanner.TokenType.Percentage)) {\r\n\t\t\t\treturn this.finish(node, errors.ParseError.PercentageExpected);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\r\n\t}\r\n\r\n\tpublic _parseMediaDeclaration(): nodes.Node {\r\n\t\treturn this._tryParseRuleset(false) || this._tryToParseDeclaration() || this._parseStylesheetStatement();\r\n\t}\r\n\r\n\tpublic _parseMedia(): nodes.Node {\r\n\t\t// MEDIA_SYM S* media_query_list '{' S* ruleset* '}' S*\r\n\t\t// media_query_list : S* [media_query [ ',' S* media_query ]* ]?\r\n\t\tvar node = <nodes.Media> this.create(nodes.Media);\r\n\t\tif (!this.accept(scanner.TokenType.AtKeyword, '@media')) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (!node.addChild(this._parseMediaQuery([scanner.TokenType.CurlyL]))) {\r\n\t\t\treturn this.finish(node, errors.ParseError.IdentifierExpected);\r\n\t\t}\r\n\t\twhile (this.accept(scanner.TokenType.Comma)) {\r\n\t\t\tif (!node.addChild(this._parseMediaQuery([scanner.TokenType.CurlyL]))) {\r\n\t\t\t\treturn this.finish(node, errors.ParseError.IdentifierExpected);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this._parseBody(node, this._parseMediaDeclaration.bind(this));\r\n\t}\r\n\r\n\tpublic _parseMediaQuery(resyncStopToken: scanner.TokenType[]): nodes.Node {\r\n\t\t// http://www.w3.org/TR/css3-mediaqueries/\r\n\t\t// media_query : [ONLY | NOT]? S* IDENT S* [ AND S* expression ]* | expression [ AND S* expression ]*\r\n\t\t// expression : '(' S* IDENT S* [ ':' S* expr ]? ')' S*\r\n\r\n\t\tvar node = <nodes.MediaQuery> this.create(nodes.MediaQuery);\r\n\r\n\t\tvar parseExpression= true;\r\n\t\tvar hasContent = false;\r\n\t\tif (!this.peek(scanner.TokenType.ParenthesisL)) {\r\n\t\t\tif (this.accept(scanner.TokenType.Ident, 'only', true) || this.accept(scanner.TokenType.Ident, 'not', true)) {\r\n\t\t\t\t// optional\r\n\t\t\t}\r\n\t\t\tif (!node.addChild(this._parseIdent())) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\thasContent= true;\r\n\t\t\tparseExpression= this.accept(scanner.TokenType.Ident, 'and', true);\r\n\t\t}\r\n\t\twhile (parseExpression) {\r\n\t\t\tif (!this.accept(scanner.TokenType.ParenthesisL)) {\r\n\t\t\t\tif (hasContent) {\r\n\t\t\t\t\treturn this.finish(node, errors.ParseError.LeftParenthesisExpected, [], resyncStopToken);\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tif (!node.addChild(this._parseMediaFeatureName())) {\r\n\t\t\t\treturn this.finish(node, errors.ParseError.IdentifierExpected, [], resyncStopToken);\r\n\t\t\t}\r\n\t\t\tif (this.accept(scanner.TokenType.Colon)) {\r\n\t\t\t\tif (!node.addChild(this._parseExpr())) {\r\n\t\t\t\t\treturn this.finish(node, errors.ParseError.TermExpected, [], resyncStopToken);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!this.accept(scanner.TokenType.ParenthesisR)) {\r\n\t\t\t\treturn this.finish(node, errors.ParseError.RightParenthesisExpected, [], resyncStopToken);\r\n\t\t\t}\r\n\t\t\tparseExpression= this.accept(scanner.TokenType.Ident, 'and', true);\r\n\t\t}\r\n\t\treturn node;\r\n\t}\r\n\r\n\tpublic _parseMediaFeatureName() : nodes.Node {\r\n\t\treturn this._parseIdent();\r\n\t}\r\n\r\n\tpublic _parseMediaList(): nodes.Medialist {\r\n\t\tvar node = <nodes.Medialist> this.create(nodes.Medialist);\r\n\t\tif (node.getMediums().addChild(this._parseMedium())) {\r\n\t\t\twhile (this.accept(scanner.TokenType.Comma)) {\r\n\t\t\t\tif (!node.getMediums().addChild(this._parseMedium())) {\r\n\t\t\t\t\treturn this.finish(node, errors.ParseError.IdentifierExpected);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn <nodes.Medialist> this.finish(node);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic _parseMedium(): nodes.Node {\r\n\t\tvar node = this.create(nodes.Node);\r\n\t\tif (node.addChild(this._parseIdent())) {\r\n\t\t\treturn this.finish(node);\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic _parsePageDeclaration(): nodes.Node {\r\n\t\treturn this._parsePageMarginBox() || this._parseRuleSetDeclaration();\r\n\t}\r\n\r\n\tpublic _parsePage(): nodes.Node {\r\n\t\t// http://www.w3.org/TR/css3-page/\r\n\t\t// page_rule : PAGE_SYM S* page_selector_list '{' S* page_body '}' S*\r\n\t\t// page_body :  /* Can be empty */ declaration? [ ';' S* page_body ]? | page_margin_box page_body\r\n\r\n\t\tvar node = <nodes.Page> this.create(nodes.Page);\r\n\t\tif (!this.accept(scanner.TokenType.AtKeyword, '@Page')) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (node.addChild(this._parsePageSelector())) {\r\n\t\t\twhile (this.accept(scanner.TokenType.Comma)) {\r\n\t\t\t\tif (!node.addChild(this._parsePageSelector())) {\r\n\t\t\t\t\treturn this.finish(node, errors.ParseError.IdentifierExpected);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this._parseBody(node, this._parsePageDeclaration.bind(this));\r\n\t}\r\n\r\n\tpublic _parsePageMarginBox() : nodes.Node {\r\n\t\t// page_margin_box :  margin_sym S* '{' S* declaration? [ ';' S* declaration? ]* '}' S*\r\n\t\tvar node = <nodes.PageBoxMarginBox> this.create(nodes.PageBoxMarginBox);\r\n\t\tif (!this.peek(scanner.TokenType.AtKeyword)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tif (!this.acceptOne(scanner.TokenType.AtKeyword, languageFacts.getPageBoxDirectives())) {\r\n\t\t\tthis.markError(node, errors.ParseError.UnknownAtRule, [], [scanner.TokenType.CurlyL] );\r\n\t\t}\r\n\r\n\t\treturn this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\r\n\t}\r\n\r\n\r\n\tpublic _parsePageSelector(): nodes.Node {\r\n\t\t// page_selector : pseudo_page+ | IDENT pseudo_page*\r\n\t\t// pseudo_page :  ':' [ \"left\" | \"right\" | \"first\" | \"blank\" ];\r\n\r\n\t\tvar node = this.create(nodes.Node);\r\n\t\tif (!this.peek(scanner.TokenType.Ident) && !this.peek(scanner.TokenType.Colon)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tnode.addChild(this._parseIdent()); // optional ident\r\n\r\n\t\tif (this.accept(scanner.TokenType.Colon)) {\r\n\t\t\tif (!node.addChild(this._parseIdent())) { // optional ident\r\n\t\t\t\treturn this.finish(node, errors.ParseError.IdentifierExpected);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this.finish(node);\r\n\t}\r\n\r\n\tpublic _parseDocument(): nodes.Node {\r\n\t\t// -moz-document is experimental but has been pushed to css4\r\n\r\n\t\tvar node = <nodes.Document> this.create(nodes.Document);\r\n\t\tif (!this.accept(scanner.TokenType.AtKeyword, '@-moz-document')) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tthis.resync([], [ scanner.TokenType.CurlyL ]); // ignore all the rules\r\n\t\treturn this._parseBody(node, this._parseStylesheetStatement.bind(this));\r\n\t}\r\n\r\n\tpublic _parseOperator(): nodes.Node {\r\n\t\t// these are operators for binary expressions\r\n\t\tvar node = this.createNode(nodes.NodeType.Operator);\r\n\t\tif (this.accept(scanner.TokenType.Delim, '/') ||\r\n\t\t\tthis.accept(scanner.TokenType.Delim, '*') ||\r\n\t\t\tthis.accept(scanner.TokenType.Delim, '+') ||\r\n\t\t\tthis.accept(scanner.TokenType.Delim, '-') ||\r\n\t\t\tthis.accept(scanner.TokenType.Dashmatch) ||\r\n\t\t\tthis.accept(scanner.TokenType.Includes) ||\r\n\t\t\tthis.accept(scanner.TokenType.SubstringOperator) ||\r\n\t\t\tthis.accept(scanner.TokenType.PrefixOperator) ||\r\n\t\t\tthis.accept(scanner.TokenType.SuffixOperator) ||\r\n\t\t\tthis.accept(scanner.TokenType.Delim, '=')) { // doesn't stick to the standard here\r\n\r\n\t\t\treturn this.finish(node);\r\n\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic _parseUnaryOperator(): nodes.Node {\r\n\t\tvar node = this.create(nodes.Node);\r\n\t\tif (this.accept(scanner.TokenType.Delim, '+') || this.accept(scanner.TokenType.Delim, '-')) {\r\n\t\t\treturn this.finish(node);\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic _parseCombinator(): nodes.Node {\r\n\t\tvar node = this.create(nodes.Node);\r\n\t\tif (this.accept(scanner.TokenType.Delim, '>')) {\r\n\t\t\tnode.type = nodes.NodeType.SelectorCombinatorParent;\r\n\t\t\treturn this.finish(node);\r\n\t\t} else if(this.accept(scanner.TokenType.Delim, '+')) {\r\n\t\t\tnode.type = nodes.NodeType.SelectorCombinatorSibling;\r\n\t\t\treturn this.finish(node);\r\n\t\t} else if(this.accept(scanner.TokenType.Delim, '~')) {\r\n\t\t\tnode.type = nodes.NodeType.SelectorCombinatorAllSiblings;\r\n\t\t\treturn this.finish(node);\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic _parseSimpleSelector(): nodes.Node {\r\n\t\t// simple_selector\r\n\t\t//  : element_name [ HASH | class | attrib | pseudo ]* | [ HASH | class | attrib | pseudo ]+ ;\r\n\r\n\t\tvar node = <nodes.SimpleSelector> this.create(nodes.SimpleSelector);\r\n\t\tvar c = 0;\r\n\t\tif (node.addChild(this._parseElementName())) {\r\n\t\t\tc++;\r\n\t\t}\r\n\t\twhile ((c === 0 || !this.hasWhitespace()) && node.addChild(this._parseSimpleSelectorBody())) {\r\n\t\t\tc++;\r\n\t\t}\r\n\t\treturn c > 0 ? this.finish(node) : null;\r\n\t}\r\n\r\n\tpublic _parseSimpleSelectorBody():nodes.Node {\r\n\t\treturn this._parsePseudo() || this._parseHash() || this._parseClass() || this._parseAttrib();\r\n\t}\r\n\r\n\tpublic _parseSelectorIdent() : nodes.Node {\r\n\t\treturn this._parseIdent();\r\n\t}\r\n\r\n\tpublic _parseHash(): nodes.Node {\r\n\t\tif (!this.peek(scanner.TokenType.Hash) && !this.peek(scanner.TokenType.Delim, '#')) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar node = this.createNode(nodes.NodeType.IdentifierSelector);\r\n\t\tif (this.accept(scanner.TokenType.Delim, '#')) {\r\n\t\t\tif (this.hasWhitespace() || !node.addChild(this._parseSelectorIdent())) {\r\n\t\t\t\treturn this.finish(node, errors.ParseError.IdentifierExpected);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.consumeToken(); // TokenType.Hash\r\n\t\t}\r\n\t\treturn this.finish(node);\r\n\t}\r\n\r\n\tpublic _parseClass(): nodes.Node {\r\n\t\t// class: '.' IDENT ;\r\n\t\tif (!this.peek(scanner.TokenType.Delim, '.')) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar node = this.createNode(nodes.NodeType.ClassSelector);\r\n\t\tthis.consumeToken(); // '.'\r\n\t\tif (this.hasWhitespace() || !node.addChild(this._parseSelectorIdent())) {\r\n\t\t\treturn this.finish(node, errors.ParseError.IdentifierExpected);\r\n\t\t}\r\n\t\treturn this.finish(node);\r\n\t}\r\n\r\n\tpublic _parseElementName(): nodes.Node {\r\n\t\t// element_name: IDENT | '*';\r\n\t\tvar node = this.createNode(nodes.NodeType.ElementNameSelector);\r\n\t\tif (node.addChild(this._parseSelectorIdent()) || this.accept(scanner.TokenType.Delim, '*')) {\r\n\t\t\treturn this.finish(node);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic _parseAttrib(): nodes.Node {\r\n\t\t// attrib : '[' S* IDENT S* [ [ '=' | INCLUDES | DASHMATCH ] S*   [ IDENT | STRING ] S* ]? ']'\r\n\t\tif (!this.peek(scanner.TokenType.BracketL)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar node = this.createNode(nodes.NodeType.AttributeSelector);\r\n\t\tthis.consumeToken(); // BracketL\r\n\t\tif(!node.addChild(this._parseBinaryExpr())) {\r\n\t\t\t// is this bad?\r\n\t\t}\r\n\t\tif (!this.accept(scanner.TokenType.BracketR)) {\r\n\t\t\treturn this.finish(node, errors.ParseError.RightSquareBracketExpected);\r\n\t\t}\r\n\t\treturn this.finish(node);\r\n\t}\r\n\r\n\tpublic _parsePseudo(): nodes.Node {\r\n\t\t// pseudo: ':' [ IDENT | FUNCTION S* [IDENT S*]? ')' ]\r\n\t\tif (!this.peek(scanner.TokenType.Colon)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar pos = this.mark();\r\n\t\tvar node = this.createNode(nodes.NodeType.PseudoSelector);\r\n\t\tthis.consumeToken(); // Colon\r\n\t\tif (!this.hasWhitespace() && this.accept(scanner.TokenType.Colon)) {\r\n\t\t\t// optional, support ::\r\n\t\t}\r\n\t\tif (!this.hasWhitespace()) {\r\n\t\t\tif (!node.addChild(this._parseIdent())) {\r\n\t\t\t\treturn this.finish(node, errors.ParseError.IdentifierExpected);\r\n\t\t\t}\r\n\t\t\tif (!this.hasWhitespace() && this.accept(scanner.TokenType.ParenthesisL)) {\r\n\t\t\t\tnode.addChild(this._parseBinaryExpr() || this._parseSimpleSelector());\r\n\t\t\t\tif (!this.accept(scanner.TokenType.ParenthesisR)) {\r\n\t\t\t\t\treturn this.finish(node, errors.ParseError.RightParenthesisExpected);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this.finish(node);\r\n\t\t}\r\n\t\tthis.restoreAtMark(pos);\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic _parsePrio(): nodes.Node {\r\n\t\tif (!this.peek(scanner.TokenType.Exclamation)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tvar node = this.createNode(nodes.NodeType.Prio);\r\n\t\tif (this.accept(scanner.TokenType.Exclamation) && this.accept(scanner.TokenType.Ident, 'important', true)) {\r\n\t\t\treturn this.finish(node);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic _parseExpr(stopOnComma:boolean = false): nodes.Expression {\r\n\t\tvar node = <nodes.Expression> this.create(nodes.Expression);\r\n\t\tif (!node.addChild(this._parseBinaryExpr())) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\twhile (true) {\r\n\t\t\tif (this.peek(scanner.TokenType.Comma)) { // optional\r\n\t\t\t\tif (stopOnComma) {\r\n\t\t\t\t\treturn this.finish(node);\r\n\t\t\t\t}\r\n\t\t\t\tthis.consumeToken();\r\n\t\t\t}\r\n\t\t\tif (!node.addChild(this._parseBinaryExpr())) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this.finish(node);\r\n\t}\r\n\r\n\tpublic _parseBinaryExpr(preparsedLeft?:nodes.BinaryExpression, preparsedOper?:nodes.Node): nodes.Node {\r\n\t\tvar node = <nodes.BinaryExpression> this.create(nodes.BinaryExpression);\r\n\r\n\t\tif(!node.setLeft((<nodes.Node> preparsedLeft || this._parseTerm()))) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tif(!node.setOperator(preparsedOper || this._parseOperator())) {\r\n\t\t\treturn this.finish(node);\r\n\t\t}\r\n\r\n\t\tif(!node.setRight(this._parseTerm())) {\r\n\t\t\treturn this.finish(node, errors.ParseError.TermExpected);\r\n\t\t}\r\n\r\n\t\t// things needed for multiple binary expressions\r\n\t\tnode = <nodes.BinaryExpression> this.finish(node);\r\n\t\tvar operator = this._parseOperator();\r\n\t\tif(operator) {\r\n\t\t\tnode = <nodes.BinaryExpression> this._parseBinaryExpr(node, operator);\r\n\t\t}\r\n\r\n\t\treturn this.finish(node);\r\n\t}\r\n\r\n\tpublic _parseTerm(): nodes.Term {\r\n\r\n\t\tvar node = <nodes.Term> this.create(nodes.Term);\r\n\t\tnode.setOperator(this._parseUnaryOperator()); // optional\r\n\r\n\t\tif (node.setExpression(this._parseFunction()) || // first function then ident\r\n\t\t\tnode.setExpression(this._parseIdent()) ||\r\n\t\t\tnode.setExpression(this._parseURILiteral()) ||\r\n\t\t\tnode.setExpression(this._parseStringLiteral()) ||\r\n\t\t\tnode.setExpression(this._parseNumeric()) ||\r\n\t\t\tnode.setExpression(this._parseHexColor()) ||\r\n\t\t\tnode.setExpression(this._parseOperation())\r\n\t\t) {\r\n\t\t\treturn <nodes.Term> this.finish(node);\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic _parseOperation():nodes.Node {\r\n\t\tvar node = this.create(nodes.Node);\r\n\t\tif (!this.accept(scanner.TokenType.ParenthesisL)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tnode.addChild(this._parseExpr());\r\n\t\tif (!this.accept(scanner.TokenType.ParenthesisR)) {\r\n\t\t\treturn this.finish(node, errors.ParseError.RightParenthesisExpected);\r\n\t\t}\r\n\t\treturn this.finish(node);\r\n\t}\r\n\r\n\tpublic _parseNumeric(): nodes.NumericValue {\r\n\t\tvar node = <nodes.NumericValue> this.create(nodes.NumericValue);\r\n\t\tif(this.accept(scanner.TokenType.Num) ||\r\n\t\t\tthis.accept(scanner.TokenType.Percentage) ||\r\n\t\t\tthis.accept(scanner.TokenType.Resolution) ||\r\n\t\t\tthis.accept(scanner.TokenType.Length) ||\r\n\t\t\tthis.accept(scanner.TokenType.EMS) ||\r\n\t\t\tthis.accept(scanner.TokenType.EXS) ||\r\n\t\t\tthis.accept(scanner.TokenType.Angle) ||\r\n\t\t\tthis.accept(scanner.TokenType.Time) ||\r\n\t\t\tthis.accept(scanner.TokenType.Dimension) ||\r\n\t\t\tthis.accept(scanner.TokenType.Freq)) {\r\n\r\n\t\t\treturn <nodes.NumericValue> this.finish(node);\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic _parseStringLiteral(): nodes.Node {\r\n\t\tvar node = this.createNode(nodes.NodeType.StringLiteral);\r\n\t\tif (this.accept(scanner.TokenType.String) || this.accept(scanner.TokenType.BadString)) {\r\n\t\t\treturn this.finish(node);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic _parseURILiteral(): nodes.Node {\r\n\t\tvar node = this.createNode(nodes.NodeType.URILiteral);\r\n\t\tif (this.accept(scanner.TokenType.URI) || this.accept(scanner.TokenType.BadUri)) {\r\n\t\t\treturn this.finish(node);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic _parseIdent(referenceTypes?: nodes.ReferenceType[]): nodes.Identifier {\r\n\t\tvar node = <nodes.Identifier> this.create(nodes.Identifier);\r\n\t\tif (referenceTypes) {\r\n\t\t\tnode.referenceTypes = referenceTypes;\r\n\t\t}\r\n\t\tif (this.accept(scanner.TokenType.Ident)) {\r\n\t\t\treturn this.finish(node);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic _parseFunction(): nodes.Function {\r\n\r\n\t\tvar pos = this.mark();\r\n\t\tvar node = <nodes.Function> this.create(nodes.Function);\r\n\r\n\t\tif (!node.setIdentifier(this._parseFunctionIdentifier())) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tif (this.hasWhitespace() || !this.accept(scanner.TokenType.ParenthesisL)) {\r\n\t\t\tthis.restoreAtMark(pos);\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tif (node.getArguments().addChild(this._parseFunctionArgument())) {\r\n\t\t\twhile (this.accept(scanner.TokenType.Comma)) {\r\n\t\t\t\tif (!node.getArguments().addChild(this._parseFunctionArgument())) {\r\n\t\t\t\t\tthis.markError(node, errors.ParseError.ExpressionExpected);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!this.accept(scanner.TokenType.ParenthesisR)) {\r\n\t\t\treturn <nodes.Function> this.finish(node, errors.ParseError.RightParenthesisExpected);\r\n\t\t}\r\n\t\treturn <nodes.Function> this.finish(node);\r\n\t}\r\n\r\n\tpublic _parseFunctionIdentifier(): nodes.Identifier {\r\n\t\tvar node = <nodes.Identifier> this.create(nodes.Identifier);\r\n\t\tnode.referenceTypes = [ nodes.ReferenceType.Function ];\r\n\r\n\t\tif (this.accept(scanner.TokenType.Ident, 'progid')) {\r\n\t\t\t// support for IE7 specific filters: 'progid:DXImageTransform.Microsoft.MotionBlur(strength=13, direction=310)'\r\n\t\t\tif (this.accept(scanner.TokenType.Colon)) {\r\n\t\t\t\twhile (this.accept(scanner.TokenType.Ident) && this.accept(scanner.TokenType.Delim, '.')) {\r\n\t\t\t\t\t// loop\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this.finish(node);\r\n\t\t} else if (this.accept(scanner.TokenType.Ident)) {\r\n\t\t\treturn this.finish(node);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic _parseFunctionArgument(): nodes.Node {\r\n\t\tvar node = <nodes.FunctionArgument> this.create(nodes.FunctionArgument);\r\n\t\tif (node.setValue(this._parseExpr(true))) {\r\n\t\t\treturn this.finish(node);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic _parseHexColor(): nodes.Node {\r\n\t\tif (this.peekRegExp(scanner.TokenType.Hash, /^#[0-9A-Fa-f]{3}([0-9A-Fa-f]{3})?$/g)) {\r\n\t\t\tvar node = this.create(nodes.HexColorValue);\r\n\t\t\tthis.consumeToken();\r\n\t\t\treturn this.finish(node);\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\n\r\nimport nodes = require('vs/languages/css/common/parser/cssNodes');\r\nimport cssSymbols = require('vs/languages/css/common/parser/cssSymbols');\r\nimport languageFacts = require('vs/languages/css/common/services/languageFacts');\r\nimport service = require('vs/languages/css/common/services/cssLanguageService');\r\nimport URI from 'vs/base/common/uri';\r\nimport EditorCommon = require('vs/editor/common/editorCommon');\r\nimport Modes = require('vs/editor/common/modes');\r\nimport strings = require('vs/base/common/strings');\r\nimport nls = require('vs/nls');\r\n\r\nexport class CSSIntellisense {\r\n\r\n\tprivate static colorFunctions = [\r\n\t\t{ func: 'rgb($red, $green, $blue)', desc: nls.localize('css.builtin.rgb', 'Creates a Color from red, green, and blue values.') },\r\n\t\t{ func: 'rgba($red, $green, $blue, $alpha)', desc: nls.localize('css.builtin.rgba', 'Creates a Color from red, green, blue, and alpha values.') },\r\n\t\t{ func: 'hsl($hue, $saturation, $lightness)', desc: nls.localize('css.builtin.hsl', 'Creates a Color from hue, saturation, and lightness values.') },\r\n\t\t{ func: 'hsla($hue, $saturation, $lightness, $alpha)', desc: nls.localize('css.builtin.hsla', 'Creates a Color from hue, saturation, lightness, and alpha values.') }\r\n\t];\r\n\r\n\tvariablePrefix: string;\r\n\tposition: EditorCommon.IPosition;\r\n\toffset: number;\r\n\tcurrentWord: string;\r\n\tmodel: EditorCommon.IMirrorModel;\r\n\tstyleSheet: nodes.Stylesheet;\r\n\tsymbolContext: cssSymbols.Symbols;\r\n\tisIncomplete: boolean;\r\n\r\n\tconstructor(variablePrefix: string = null) {\r\n\t\tthis.variablePrefix = variablePrefix;\r\n\t}\r\n\r\n\r\n\tprivate getSymbolContext() : cssSymbols.Symbols {\r\n\t\tif (!this.symbolContext) {\r\n\t\t\tthis.symbolContext = new cssSymbols.Symbols(this.styleSheet);\r\n\t\t}\r\n\t\treturn this.symbolContext;\r\n\t}\r\n\r\n\r\n\tpublic getCompletionsAtPosition(languageService:service.ILanguageService, model: EditorCommon.IMirrorModel, resource:URI, position:EditorCommon.IPosition):Modes.ISuggestResult {\r\n\t\tthis.offset = model.getOffsetFromPosition(position);\r\n\t\tthis.position = position;\r\n\t\tthis.currentWord = model.getWordUntilPosition(position).word;\r\n\t\tthis.model = model;\r\n\t\tthis.styleSheet = languageService.getStylesheet(resource);\r\n\r\n\t\tvar result : Modes.ISuggestion[] = [];\r\n\t\tvar nodepath = nodes.getNodePath(this.styleSheet, this.offset);\r\n\r\n\t\tthis.isIncomplete = false;\r\n\t\tfor (var i = nodepath.length - 1; i >= 0; i--) {\r\n\t\t\tvar node = nodepath[i];\r\n\t\t\tif (node instanceof nodes.Property) {\r\n\t\t\t\tthis.getCompletionsForDeclarationProperty(result);\r\n\t\t\t} else if (node instanceof nodes.Expression) {\r\n\t\t\t\tthis.getCompletionsForExpression(<nodes.Expression> node, result);\r\n\t\t\t} else if (node instanceof nodes.SimpleSelector) {\r\n\t\t\t\tvar parentRuleSet = <nodes.RuleSet> node.findParent(nodes.NodeType.Ruleset);\r\n\t\t\t\tthis.getCompletionsForSelector(parentRuleSet, result);\r\n\t\t\t} else if (node instanceof nodes.Declarations) {\r\n\t\t\t\tthis.getCompletionsForDeclarations(<nodes.Declarations> node, result);\r\n\t\t\t} else if (node instanceof nodes.VariableDeclaration) {\r\n\t\t\t\tthis.getCompletionsForVariableDeclaration(<nodes.VariableDeclaration> node, result);\r\n\t\t\t} else if (node instanceof nodes.RuleSet) {\r\n\t\t\t\tthis.getCompletionsForRuleSet(<nodes.RuleSet> node, result);\r\n\t\t\t} else if (node instanceof nodes.Interpolation) {\r\n\t\t\t\tthis.getCompletionsForInterpolation(<nodes.Interpolation> node, result);\r\n\t\t\t} else if (node instanceof nodes.FunctionArgument) {\r\n\t\t\t\tthis.getCompletionsForFunctionArgument(<nodes.FunctionArgument> node, <nodes.Function>node.getParent(), result);\r\n\t\t\t} else if (node instanceof nodes.FunctionDeclaration) {\r\n\t\t\t\tthis.getCompletionsForFunctionDeclaration(<nodes.FunctionDeclaration> node, result);\r\n\t\t\t} else if (node instanceof nodes.Function) {\r\n\t\t\t\tthis.getCompletionsForFunctionArgument(null, <nodes.Function>node, result);\r\n\t\t\t}\r\n\t\t\tif (result.length > 0) {\r\n\t\t\t\treturn { currentWord: this.currentWord, suggestions: result, incomplete: this.isIncomplete };\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.getCompletionsForStylesheet(result);\r\n\t\tif (result.length > 0) {\r\n\t\t\treturn { currentWord: this.currentWord, suggestions: result };\r\n\t\t}\r\n\r\n\t\tif (this.variablePrefix && this.currentWord.indexOf(this.variablePrefix) === 0) {\r\n\t\t\tthis.getVariableProposals(result);\r\n\t\t\tif (result.length > 0) {\r\n\t\t\t\treturn { currentWord: this.currentWord, suggestions: result };\r\n\t\t\t}\r\n\t\t\tmodel.getAllUniqueWords(this.currentWord).forEach((word) => {\r\n\t\t\t\tresult.push({ type: 'text', label: word, codeSnippet: word });\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// no match, don't show text matches\r\n\t\treturn {\r\n\t\t\tcurrentWord: this.currentWord,\r\n\t\t\tsuggestions: result\r\n\t\t};\r\n\t}\r\n\r\n\tpublic getCompletionsForDeclarationProperty(result:Modes.ISuggestion[]):Modes.ISuggestion[] {\r\n\t\treturn this.getPropertyProposals(result);\r\n\t}\r\n\r\n\tprivate getPropertyProposals(result:Modes.ISuggestion[]):Modes.ISuggestion[] {\r\n\t\tvar properties = languageFacts.getProperties();\r\n\r\n\t\tfor (var key in properties) {\r\n\t\t\tif (properties.hasOwnProperty(key)) {\r\n\t\t\t\tvar entry = properties[key];\r\n\t\t\t\tif (entry.browsers.onCodeComplete) {\r\n\t\t\t\t\tresult.push({\r\n\t\t\t\t\t\tlabel: entry.name,\r\n\t\t\t\t\t\tdocumentationLabel: languageFacts.getEntryDescription(entry),\r\n\t\t\t\t\t\tcodeSnippet: entry.name + ': ',\r\n\t\t\t\t\t\ttype: 'property'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic getCompletionsForDeclarationValue(node: nodes.Declaration, result:Modes.ISuggestion[]):Modes.ISuggestion[] {\r\n\t\tvar propertyName = node.getFullPropertyName();\r\n\t\tvar entry = languageFacts.getProperties()[propertyName];\r\n\r\n\t\tif (entry) {\r\n\t\t\tthis.getColorProposals(entry, result);\r\n\t\t\tthis.getPositionProposals(entry, result);\r\n\t\t\tthis.getRepeatStyleProposals(entry, result);\r\n\t\t\tthis.getLineProposals(entry, result);\r\n\t\t\tthis.getBoxProposals(entry, result);\r\n\t\t\tthis.getImageProposals(entry, result);\r\n\t\t\tthis.getTimingFunctionProposals(entry, result);\r\n\t\t\tthis.getBasicShapeProposals(entry, result);\r\n\t\t\tthis.getValueEnumProposals(entry, result);\r\n\t\t\tthis.getCSSWideKeywordProposals(entry, result);\r\n\t\t\tthis.getUnitProposals(entry, result);\r\n\t\t} else {\r\n\t\t\tvar existingValues = new Set();\r\n\t\t\tthis.styleSheet.accept(new ValuesCollector(propertyName, existingValues));\r\n\t\t\texistingValues.getEntries().forEach((existingValue) => {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\tlabel: existingValue,\r\n\t\t\t\t\tcodeSnippet: existingValue,\r\n\t\t\t\t\ttype: 'value'\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.getVariableProposals(result);\r\n\t\tthis.getTermProposals(result);\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic getValueEnumProposals(entry:languageFacts.IEntry, result:Modes.ISuggestion[]):Modes.ISuggestion[]{\r\n\t\tif (entry.values) {\r\n\t\t\tentry.values.forEach((value) => {\r\n\t\t\t\tif (languageFacts.isCommonValue(value)) { // only show if supported by more than one browser\r\n\t\t\t\t\tresult.push({\r\n\t\t\t\t\t\tlabel: value.name,\r\n\t\t\t\t\t\tdocumentationLabel: languageFacts.getEntryDescription(value),\r\n\t\t\t\t\t\tcodeSnippet: value.name,\r\n\t\t\t\t\t\ttype: 'value'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic getCSSWideKeywordProposals(entry:languageFacts.IEntry, result:Modes.ISuggestion[]):Modes.ISuggestion[] {\r\n\t\tfor (var keywords in languageFacts.cssWideKeywords) {\r\n\t\t\tresult.push({\r\n\t\t\t\tlabel: keywords,\r\n\t\t\t\tdocumentationLabel: languageFacts.cssWideKeywords[keywords],\r\n\t\t\t\tcodeSnippet: keywords,\r\n\t\t\t\ttype: 'value'\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic getCompletionsForInterpolation(node: nodes.Interpolation, result:Modes.ISuggestion[]):Modes.ISuggestion[] {\r\n\t\tif (this.offset >= node.offset + 2) {\r\n\t\t\tthis.getVariableProposals(result);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic getVariableProposals(result:Modes.ISuggestion[]):Modes.ISuggestion[]{\r\n\t\tvar symbols = this.getSymbolContext().findSymbolsAtOffset(this.offset, nodes.ReferenceType.Variable);\r\n\t\tsymbols.forEach((symbol) => {\r\n\t\t\tresult.push({\r\n\t\t\t\tlabel: symbol.name,\r\n\t\t\t\tcodeSnippet: strings.startsWith(symbol.name, '--') ? `var(${symbol.name})` : symbol.name,\r\n\t\t\t\ttype: 'variable'\r\n\t\t\t});\r\n\t\t});\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic getVariableProposalsForCSSVarFunction(result:Modes.ISuggestion[]):Modes.ISuggestion[]{\r\n\t\tvar symbols = this.getSymbolContext().findSymbolsAtOffset(this.offset, nodes.ReferenceType.Variable);\r\n\t\tsymbols= symbols.filter((symbol):boolean => {\r\n\t\t\treturn strings.startsWith(symbol.name, '--');\r\n\t\t});\r\n\t\tsymbols.forEach((symbol) => {\r\n\t\t\tresult.push({\r\n\t\t\t\tlabel: symbol.name,\r\n\t\t\t\tcodeSnippet: symbol.name,\r\n\t\t\t\ttype: 'variable'\r\n\t\t\t});\r\n\t\t});\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic getUnitProposals(entry: languageFacts.IEntry, result: Modes.ISuggestion[]): Modes.ISuggestion[]{\r\n\t\tvar currentWord = '0';\r\n\t\tif (this.currentWord.length > 0) {\r\n\t\t\tvar numMatch = this.currentWord.match(/-?\\d[\\.\\d+]*/);\r\n\t\t\tif (numMatch) {\r\n\t\t\t\tcurrentWord = numMatch[0];\r\n\t\t\t}\r\n\t\t}\r\n\t\tentry.restrictions.forEach((restriction) => {\r\n\t\t\tvar units= languageFacts.units[restriction];\r\n\t\t\tif (units) {\r\n\t\t\t\tunits.forEach(function(unit:string) {\r\n\t\t\t\t\tresult.push({\r\n\t\t\t\t\t\tlabel: currentWord + unit,\r\n\t\t\t\t\t\tcodeSnippet: currentWord + unit,\r\n\t\t\t\t\t\ttype: 'unit'\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.isIncomplete = true;\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected getColorProposals(entry:languageFacts.IEntry, result:Modes.ISuggestion[]):Modes.ISuggestion[] {\r\n\t\tif (entry.restrictions.indexOf('color') !== -1) {\r\n\t\t\tfor (var color in languageFacts.colors) {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\tlabel: color,\r\n\t\t\t\t\tdocumentationLabel: languageFacts.colors[color],\r\n\t\t\t\t\tcodeSnippet: color,\r\n\t\t\t\t\ttype: 'customcolor'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tfor (var color in languageFacts.colorKeywords) {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\tlabel: color,\r\n\t\t\t\t\tdocumentationLabel: languageFacts.colorKeywords[color],\r\n\t\t\t\t\tcodeSnippet: color,\r\n\t\t\t\t\ttype: 'value'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tvar colorValues = new Set();\r\n\t\t\tthis.styleSheet.accept(new ColorValueCollector(colorValues));\r\n\t\t\tcolorValues.getEntries().forEach((color) => {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\tlabel: color,\r\n\t\t\t\t\tcodeSnippet: color,\r\n\t\t\t\t\ttype: 'customcolor'\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tCSSIntellisense.colorFunctions.forEach((p) => {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\tlabel: p.func.substr(0, p.func.indexOf('(')),\r\n\t\t\t\t\ttypeLabel: p.func,\r\n\t\t\t\t\tdocumentationLabel: p.desc,\r\n\t\t\t\t\tcodeSnippet: p.func.replace(/\\[?\\$(\\w+)\\]?/g, '{{$1}}'),\r\n\t\t\t\t\ttype: 'function'\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected getPositionProposals(entry:languageFacts.IEntry, result:Modes.ISuggestion[]):Modes.ISuggestion[] {\r\n\t\tif (entry.restrictions.indexOf('position') !== -1) {\r\n\t\t\tfor (var position in languageFacts.positionKeywords) {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\tlabel: position,\r\n\t\t\t\t\tdocumentationLabel: languageFacts.positionKeywords[position],\r\n\t\t\t\t\tcodeSnippet: position,\r\n\t\t\t\t\ttype: 'value'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected getRepeatStyleProposals(entry:languageFacts.IEntry, result:Modes.ISuggestion[]):Modes.ISuggestion[] {\r\n\t\tif (entry.restrictions.indexOf('repeat') !== -1) {\r\n\t\t\tfor (var repeat in languageFacts.repeatStyleKeywords) {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\tlabel: repeat,\r\n\t\t\t\t\tdocumentationLabel: languageFacts.repeatStyleKeywords[repeat],\r\n\t\t\t\t\tcodeSnippet: repeat,\r\n\t\t\t\t\ttype: 'value'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected getLineProposals(entry:languageFacts.IEntry, result:Modes.ISuggestion[]):Modes.ISuggestion[] {\r\n\t\tif (entry.restrictions.indexOf('line-style') !== -1) {\r\n\t\t\tfor (var lineStyle in languageFacts.lineStyleKeywords) {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\tlabel: lineStyle,\r\n\t\t\t\t\tdocumentationLabel: languageFacts.lineStyleKeywords[lineStyle],\r\n\t\t\t\t\tcodeSnippet: lineStyle,\r\n\t\t\t\t\ttype: 'value'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (entry.restrictions.indexOf('line-width') !== -1) {\r\n\t\t\tlanguageFacts.lineWidthKeywords.forEach((lineWidth) => {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\tlabel: lineWidth,\r\n\t\t\t\t\tcodeSnippet: lineWidth,\r\n\t\t\t\t\ttype: 'value'\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected getBoxProposals(entry:languageFacts.IEntry, result:Modes.ISuggestion[]):Modes.ISuggestion[] {\r\n\t\tvar geometryBox = entry.restrictions.indexOf('geometry-box');\r\n\t\tif (geometryBox !== -1) {\r\n\t\t\tfor (var box in languageFacts.geometryBoxKeywords) {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\tlabel: box,\r\n\t\t\t\t\tdocumentationLabel: languageFacts.geometryBoxKeywords[box],\r\n\t\t\t\t\tcodeSnippet: box,\r\n\t\t\t\t\ttype: 'value'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (entry.restrictions.indexOf('box') !== -1 || geometryBox !== -1) {\r\n\t\t\tfor (var box in languageFacts.boxKeywords) {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\tlabel: box,\r\n\t\t\t\t\tdocumentationLabel: languageFacts.boxKeywords[box],\r\n\t\t\t\t\tcodeSnippet: box,\r\n\t\t\t\t\ttype: 'value'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected getImageProposals(entry:languageFacts.IEntry, result:Modes.ISuggestion[]):Modes.ISuggestion[] {\r\n\t\tif (entry.restrictions.indexOf('image') !== -1) {\r\n\t\t\tfor (var image in languageFacts.imageFunctions) {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\tlabel: image,\r\n\t\t\t\t\tdocumentationLabel: languageFacts.imageFunctions[image],\r\n\t\t\t\t\tcodeSnippet: image,\r\n\t\t\t\t\ttype: 'function'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected getTimingFunctionProposals(entry:languageFacts.IEntry, result:Modes.ISuggestion[]):Modes.ISuggestion[] {\r\n\t\tif (entry.restrictions.indexOf('timing-function') !== -1) {\r\n\t\t\tfor (var timing in languageFacts.transitionTimingFunctions) {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\tlabel: timing,\r\n\t\t\t\t\tdocumentationLabel: languageFacts.transitionTimingFunctions[timing],\r\n\t\t\t\t\tcodeSnippet: timing,\r\n\t\t\t\t\ttype: 'function'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected getBasicShapeProposals(entry:languageFacts.IEntry, result:Modes.ISuggestion[]):Modes.ISuggestion[] {\r\n\t\tif (entry.restrictions.indexOf('shape') !== -1) {\r\n\t\t\tfor (var shape in languageFacts.basicShapeFunctions) {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\tlabel: shape,\r\n\t\t\t\t\tdocumentationLabel: languageFacts.basicShapeFunctions[shape],\r\n\t\t\t\t\tcodeSnippet: shape,\r\n\t\t\t\t\ttype: 'function'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic getCompletionsForStylesheet(result:Modes.ISuggestion[]):Modes.ISuggestion[] {\r\n\t\tvar node = this.styleSheet.findFirstChildBeforeOffset(this.offset);\r\n\t\tif (!node) {\r\n\t\t\treturn this.getCompletionForTopLevel(result);\r\n\t\t}\r\n\t\tif (node instanceof nodes.RuleSet) {\r\n\t\t\treturn this.getCompletionsForRuleSet(<nodes.RuleSet> node, result);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic getCompletionForTopLevel(result:Modes.ISuggestion[]):Modes.ISuggestion[] {\r\n\t\tlanguageFacts.getAtDirectives().forEach(function(entry) {\r\n\t\t\tif (entry.browsers.count > 0) {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\tlabel: entry.name,\r\n\t\t\t\t\tcodeSnippet: entry.name,\r\n\t\t\t\t\tdocumentationLabel: languageFacts.getEntryDescription(entry),\r\n\t\t\t\t\ttype: 'keyword'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.getCompletionsForSelector(null, result);\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic getCompletionsForRuleSet(ruleSet: nodes.RuleSet, result: Modes.ISuggestion[]): Modes.ISuggestion[]{\r\n\t\tvar declarations = ruleSet.getDeclarations();\r\n\r\n\t\tvar isAfter = declarations && declarations.endsWith('}') && this.offset >= declarations.offset + declarations.length;\r\n\t\tif (isAfter) {\r\n\t\t\treturn this.getCompletionForTopLevel(result);\r\n\t\t}\r\n\t\tvar isInSelectors = !declarations || this.offset <= declarations.offset;\r\n\t\tif (isInSelectors) {\r\n\t\t\treturn this.getCompletionsForSelector(ruleSet, result);\r\n\t\t}\r\n\t\truleSet.findParent(nodes.NodeType.Ruleset);\r\n\r\n\t\treturn this.getCompletionsForDeclarations(ruleSet.getDeclarations(), result);\r\n\t}\r\n\r\n\tpublic getCompletionsForSelector(ruleSet: nodes.RuleSet, result:Modes.ISuggestion[]): Modes.ISuggestion[] {\r\n\t\tlanguageFacts.getPseudoClasses().forEach((entry) => {\r\n\t\t\tif (entry.browsers.onCodeComplete) {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\tlabel: entry.name,\r\n\t\t\t\t\tcodeSnippet: entry.name,\r\n\t\t\t\t\tdocumentationLabel: languageFacts.getEntryDescription(entry),\r\n\t\t\t\t\ttype: 'function'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\tlanguageFacts.getPseudoElements().forEach((entry) => {\r\n\t\t\tif (entry.browsers.onCodeComplete) {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\tlabel: entry.name,\r\n\t\t\t\t\tcodeSnippet: entry.name,\r\n\t\t\t\t\tdocumentationLabel: languageFacts.getEntryDescription(entry),\r\n\t\t\t\t\ttype: 'function'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\tlanguageFacts.html5Tags.forEach((entry) => {\r\n\t\t\tresult.push({\r\n\t\t\t\tlabel: entry,\r\n\t\t\t\tcodeSnippet: entry,\r\n\t\t\t\ttype: 'keyword'\r\n\t\t\t});\r\n\t\t});\r\n\t\tlanguageFacts.svgElements.forEach((entry) => {\r\n\t\t\tresult.push({\r\n\t\t\t\tlabel: entry,\r\n\t\t\t\tcodeSnippet: entry,\r\n\t\t\t\ttype: 'keyword'\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tvar visited: { [name: string]: boolean } = {};\r\n\t\tvisited[this.currentWord] = true;\r\n\t\tvar textProvider = this.styleSheet.getTextProvider();\r\n\t\tthis.styleSheet.accept(n => {\r\n\t\t\tif (n.type === nodes.NodeType.SimpleSelector && n.length > 0) {\r\n\t\t\t\tvar selector = textProvider(n.offset, n.length);\r\n\t\t\t\tif (selector.charAt(0) === '.' && !visited[selector]) {\r\n\t\t\t\t\tvisited[selector] = true;\r\n\t\t\t\t\tresult.push({\r\n\t\t\t\t\t\tlabel: selector,\r\n\t\t\t\t\t\tcodeSnippet: selector,\r\n\t\t\t\t\t\ttype: 'keyword'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\r\n\t\tif (ruleSet && ruleSet.isNested()) {\r\n\t\t\tvar selector = ruleSet.getSelectors().findFirstChildBeforeOffset(this.offset);\r\n\t\t\tif (selector && ruleSet.getSelectors().getChildren().indexOf(selector) === 0) {\r\n\t\t\t\tthis.getPropertyProposals(result);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic getCompletionsForDeclarations(declarations: nodes.Declarations, result: Modes.ISuggestion[]): Modes.ISuggestion[]{\r\n\t\tif (!declarations) { // incomplete nodes\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tvar node = declarations.findFirstChildBeforeOffset(this.offset);\r\n\t\tif (!node) {\r\n\t\t\treturn this.getCompletionsForDeclarationProperty(result);\r\n\t\t}\r\n\r\n\t\tif (node instanceof nodes.AbstractDeclaration) {\r\n\t\t\tvar declaration = <nodes.AbstractDeclaration> node;\r\n\t\t\tif ((!isDefined(declaration.colonPosition) || this.offset <= declaration.colonPosition) || (isDefined(declaration.semicolonPosition) && declaration.semicolonPosition < this.offset)) {\r\n\t\t\t\tif (this.offset === declaration.semicolonPosition + 1) {\r\n\t\t\t\t\treturn result; // don't show new properties right after semicolon (see Bug 15421:[intellisense] [css] Be less aggressive when manually typing CSS)\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// complete property\r\n\t\t\t\treturn this.getCompletionsForDeclarationProperty(result);\r\n\t\t\t}\r\n\r\n\t\t\tif (declaration instanceof nodes.Declaration) {\r\n\t\t\t\t// complete value\r\n\t\t\t\treturn this.getCompletionsForDeclarationValue(declaration, result);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic getCompletionsForVariableDeclaration(declaration: nodes.VariableDeclaration, result:Modes.ISuggestion[]):Modes.ISuggestion[] {\r\n\t\tif (this.offset > declaration.colonPosition) {\r\n\t\t\tthis.getVariableProposals(result);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic getCompletionsForExpression(expression: nodes.Expression, result:Modes.ISuggestion[]):Modes.ISuggestion[]{\r\n\t\tif (expression.getParent() instanceof nodes.FunctionArgument) {\r\n\t\t\tthis.getCompletionsForFunctionArgument(<nodes.FunctionArgument>expression.getParent(), <nodes.Function>expression.getParent().getParent(), result);\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tvar declaration = <nodes.Declaration> expression.findParent(nodes.NodeType.Declaration);\r\n\t\tif (!declaration) {\r\n\t\t\tthis.getTermProposals(result);\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tvar node = expression.findChildAtOffset(this.offset, true);\r\n\t\tif (!node) {\r\n\t\t\treturn this.getCompletionsForDeclarationValue(declaration, result);\r\n\t\t}\r\n\t\tif (node instanceof nodes.NumericValue || node instanceof nodes.Identifier) {\r\n\t\t\treturn this.getCompletionsForDeclarationValue(declaration, result);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic getCompletionsForFunctionArgument(arg: nodes.FunctionArgument, func: nodes.Function, result: Modes.ISuggestion[]): Modes.ISuggestion[] {\r\n\t\tif (func.getIdentifier().getText() === 'var') {\r\n\t\t\tif (!func.getArguments().hasChildren() || func.getArguments().getChild(0) === arg) {\r\n\t\t\t\tthis.getVariableProposalsForCSSVarFunction(result);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic getCompletionsForFunctionDeclaration(decl: nodes.FunctionDeclaration, result: Modes.ISuggestion[]): Modes.ISuggestion[]{\r\n\t\tvar declarations = decl.getDeclarations();\r\n\t\tif (declarations && this.offset > declarations.offset && this.offset < declarations.offset + declarations.length) {\r\n\t\t\tthis.getTermProposals(result);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic getTermProposals(result: Modes.ISuggestion[]): Modes.ISuggestion[]{\r\n\t\tvar allFunctions = this.getSymbolContext().findSymbolsAtOffset(this.offset, nodes.ReferenceType.Function);\r\n\t\tallFunctions.forEach((functionSymbol) => {\r\n\t\t\tif (functionSymbol.node instanceof nodes.FunctionDeclaration) {\r\n\t\t\t\tvar functionDecl = <nodes.FunctionDeclaration> functionSymbol.node;\r\n\t\t\t\tvar params = functionDecl.getParameters().getChildren().map((c) => {\r\n\t\t\t\t\treturn (c instanceof nodes.FunctionParameter) ? (<nodes.FunctionParameter> c).getName() : c.getText();\r\n\t\t\t\t});\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\tlabel: functionSymbol.name,\r\n\t\t\t\t\ttypeLabel: functionSymbol.name + '(' + params.join(', ') + ')',\r\n\t\t\t\t\tcodeSnippet: functionSymbol.name + '(' + params.map((p) => '{{' + p + '}}').join(', ') + ')',\r\n\t\t\t\t\ttype: 'function'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn result;\r\n\t}\r\n\r\n}\r\n\r\nclass Set {\r\n\tprivate entries: { [key:string]: boolean } = {};\r\n\tpublic add(entry: string) : void {\r\n\t\tthis.entries[entry] = true;\r\n\t}\r\n\tpublic getEntries() : string[] {\r\n\t\treturn Object.keys(this.entries);\r\n\t}\r\n}\r\n\r\n\r\nclass InternalValueCollector implements nodes.IVisitor {\r\n\r\n\tconstructor(public entries:Set) {\r\n\t\t// nothing to do\r\n\t}\r\n\r\n\tpublic visitNode(node:nodes.Node):boolean {\r\n\t\tif (node instanceof nodes.Identifier || node instanceof nodes.NumericValue || node instanceof nodes.HexColorValue) {\r\n\t\t\tthis.entries.add(node.getText());\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\nclass ValuesCollector implements nodes.IVisitor {\r\n\r\n\r\n\tconstructor(public propertyName: string, public entries:Set) {\r\n\t\t// nothing to do\r\n\t}\r\n\r\n\tprivate matchesProperty(decl : nodes.Declaration) : boolean {\r\n\t\tvar propertyName = decl.getFullPropertyName();\r\n\t\treturn this.propertyName === propertyName;\r\n\t}\r\n\r\n\tpublic visitNode(node:nodes.Node):boolean {\r\n\t\tif (node instanceof nodes.Declaration) {\r\n\t\t\tif (this.matchesProperty(<nodes.Declaration> node)) {\r\n\t\t\t\tvar value = (<nodes.Declaration> node).getValue();\r\n\t\t\t\tif (value) {\r\n\t\t\t\t\tvalue.accept(new InternalValueCollector(this.entries));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\nclass ColorValueCollector implements nodes.IVisitor {\r\n\r\n\tconstructor(public entries:Set) {\r\n\t\t// nothing to do\r\n\t}\r\n\r\n\tpublic visitNode(node:nodes.Node): boolean {\r\n\t\tif (node instanceof nodes.HexColorValue || (node instanceof nodes.Function && languageFacts.isColorConstructor(<nodes.Function> node))) {\r\n\t\t\tthis.entries.add(node.getText());\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\nfunction isDefined(obj: any) : boolean {\r\n\treturn typeof obj !== 'undefined';\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\n\r\nimport { IJSONSchema } from 'vs/base/common/jsonSchema';\r\nimport nodes = require('vs/languages/css/common/parser/cssNodes');\r\nimport nls = require('vs/nls');\r\nimport configurationRegistry = require('vs/platform/configuration/common/configurationRegistry');\r\nimport _level = require('vs/languages/css/common/level');\r\n\r\nvar Warning = 'warning';\r\nvar Error = 'error';\r\nvar Ignore = 'ignore';\r\n\r\nexport class Rule implements nodes.IRule {\r\n\r\n\tpublic constructor(public id: string, public message: string, public defaultValue: string) {\r\n\t\t// nothing to do\r\n\t}\r\n\r\n\tpublic getConfiguration(): IJSONSchema {\r\n\t\treturn {\r\n\t\t\ttype: 'string',\r\n\t\t\tenum: [Ignore, Warning, Error],\r\n\t\t\tdefault: this.defaultValue,\r\n\t\t\tdescription: this.message\r\n\t\t};\r\n\t}\r\n\r\n}\r\nexport var Rules = {\r\n\tAllVendorPrefixes: new Rule('compatibleVendorPrefixes', nls.localize('rule.vendorprefixes.all', \"When using a vendor-specific prefix make sure to also include all other vendor-specific properties\"), Ignore),\r\n\tIncludeStandardPropertyWhenUsingVendorPrefix: new Rule('vendorPrefix', nls.localize('rule.standardvendorprefix.all', \"When using a vendor-specific prefix also include the standard property\"), Warning),\r\n\tDuplicateDeclarations: new Rule('duplicateProperties', nls.localize('rule.duplicateDeclarations', \"Do not use duplicate style definitions\"), Ignore),\r\n\tEmptyRuleSet: new Rule('emptyRules', nls.localize('rule.emptyRuleSets', \"Do not use empty rulesets\"), Warning),\r\n\tImportStatemement: new Rule('importStatement', nls.localize('rule.importDirective', \"Import statements do not load in parallel\"), Ignore),\r\n\tNoWidthOrHeightWhenPaddingOrBorder: new Rule('boxModel', nls.localize('rule.withHeightAndBorderPadding', \"Do not use width or height when using padding or border\"), Ignore),\r\n\tUniversalSelector: new Rule('universalSelector', nls.localize('rule.universalSelector', \"The universal selector (*) is known to be slow\"), Ignore),\r\n\tZeroWithUnit: new Rule('zeroUnits', nls.localize('rule.zeroWidthUnit', \"No unit for zero needed\"), Ignore),\r\n\tRequiredPropertiesForFontFace: new Rule('fontFaceProperties', nls.localize('rule.fontFaceProperties', \"@font-face rule must define 'src' and 'font-family' properties\"), Warning),\r\n\tHexColorLength: new Rule('hexColorLength', nls.localize('rule.hexColor', \"Hex colors must consist of three or six hex numbers\"), Error),\r\n\tArgsInColorFunction: new Rule('argumentsInColorFunction', nls.localize('rule.colorFunction', \"Invalid number of parameters\"), Error),\r\n\tUnknownProperty: new Rule('unknownProperties', nls.localize('rule.unknownProperty', \"Unknown property.\"), Warning),\r\n\tIEStarHack: new Rule('ieHack', nls.localize('rule.ieHack', \"IE hacks are only necessary when supporting IE7 and older\"), Ignore),\r\n\tUnknownVendorSpecificProperty: new Rule('unknownVendorSpecificProperties', nls.localize('rule.unknownVendorSpecificProperty', \"Unknown vendor specific property.\"), Ignore),\r\n\tPropertyIgnoredDueToDisplay: new Rule('propertyIgnoredDueToDisplay', nls.localize('rule.propertyIgnoredDueToDisplay', \"Property is ignored due to the display. E.g. with 'display: inline', the width, height, margin-top, margin-bottom, and float properties have no effect\"), Warning),\r\n\tAvoidImportant: new Rule('important', nls.localize('rule.avoidImportant', \"Avoid using !important. It is an indication that the specificity of the entire CSS has gotten out of control and needs to be refactored.\"), Ignore),\r\n\tAvoidFloat: new Rule('float', nls.localize('rule.avoidFloat', \"Avoid using 'float'. Floats lead to fragile CSS that is easy to break if one aspect of the layout changes.\"), Ignore),\r\n\tAvoidIdSelector: new Rule('idSelector', nls.localize('rule.avoidIdSelector', \"Selectors should not contain IDs because these rules are too tightly coupled with the HTML.\"), Ignore),\r\n};\r\n\r\nexport function getConfigurationProperties(keyPrefix: string): { [path:string]:configurationRegistry.IConfigurationNode } {\r\n\tvar properties: { [path:string]:configurationRegistry.IConfigurationNode; } = {};\r\n\r\n\tproperties[keyPrefix + '.validate'] = {\r\n\t\ttype: 'boolean',\r\n\t\tdefault: true,\r\n\t\tdescription: nls.localize('enableValidation', 'Enables or disables all validations')\r\n\t};\r\n\tfor (var ruleName in Rules) {\r\n\t\tvar rule = Rules[ruleName];\r\n\t\tproperties[keyPrefix + '.lint.' + rule.id] = rule.getConfiguration();\r\n\t}\r\n\treturn properties;\r\n}\r\n\r\nexport interface IConfigurationSettings {\r\n\t[ruleId:string] : _level.Level;\r\n}\r\n\r\nexport function sanitize(conf:any): IConfigurationSettings {\r\n\tvar settings: IConfigurationSettings = {};\r\n\tfor (var ruleName in Rules) {\r\n\t\tvar rule = Rules[ruleName];\r\n\t\tvar level = _level.toLevel(conf[rule.id]);\r\n\t\tif (level) {\r\n\t\t\tsettings[rule.id] = level;\r\n\t\t}\r\n\t}\r\n\treturn settings;\r\n}\r\n\r\n/* old rules\r\n\t\t'duplicate-background-images' : {\r\n\t\t\t'type': 'string',\r\n\t\t\t'enum': ['ignore', 'warning', 'error'],\r\n\t\t\t'default': 'ignore',\r\n\t\t\t'description': nls.localize('duplicateBackgroundImages', \"Every background-image should be unique. Use a common class for e.g. sprites.\")\r\n\t\t},\r\n\t\t'gradients' : {\r\n\t\t\t'type': 'string',\r\n\t\t\t'enum': ['ignore', 'warning', 'error'],\r\n\t\t\t'default': 'warning',\r\n\t\t\t'description': nls.localize('gradients', \"When using a vendor-prefixed gradient, make sure to use them all.\")\r\n\t\t},\r\n\t\t'outline-none' : {\r\n\t\t\t'type': 'string',\r\n\t\t\t'enum': ['ignore', 'warning', 'error'],\r\n\t\t\t'default': 'warning',\r\n\t\t\t'description': nls.localize('outlineNone', \"Use of outline: none or outline: 0 should be limited to :focus rules.\")\r\n\t\t},\r\n\t\t'overqualified-elements' : {\r\n\t\t\t'type': 'string',\r\n\t\t\t'enum': ['ignore', 'warning', 'error'],\r\n\t\t\t'default': 'ignore',\r\n\t\t\t'description': nls.localize('overqualifiedElements', \"Don't use classes or IDs with elements (a.foo or a#foo).\")\r\n\t\t},\r\n\t\t'qualified-headings' : {\r\n\t\t\t'type': 'string',\r\n\t\t\t'enum': ['ignore', 'warning', 'error'],\r\n\t\t\t'default': 'ignore',\r\n\t\t\t'description': nls.localize('qualifiedHeadings', \"Headings should not be qualified (namespaced).\")\r\n\t\t},\r\n\t\t'regex-selectors' : {\r\n\t\t\t'type': 'string',\r\n\t\t\t'enum': ['ignore', 'warning', 'error'],\r\n\t\t\t'default': 'ignore',\r\n\t\t\t'description': nls.localize('regexSelectors', \"Selectors that look like regular expressions are slow and should be avoided.\")\r\n\t\t},\r\n\t\t'shorthand' : {\r\n\t\t\t'type': 'string',\r\n\t\t\t'enum': ['ignore', 'warning', 'error'],\r\n\t\t\t'default': 'ignore',\r\n\t\t\t'description': nls.localize('shorthand', \"Use shorthand properties where possible.\")\r\n\t\t},\r\n\t\t'text-indent' : {\r\n\t\t\t'type': 'string',\r\n\t\t\t'enum': ['ignore', 'warning', 'error'],\r\n\t\t\t'default': 'ignore',\r\n\t\t\t'description': nls.localize('textIndent', \"Checks for text indent less than -99px.\")\r\n\t\t},\r\n\t\t'unique-headings' : {\r\n\t\t\t'type': 'string',\r\n\t\t\t'enum': ['ignore', 'warning', 'error'],\r\n\t\t\t'default': 'ignore',\r\n\t\t\t'description': nls.localize('uniqueHeadings', \"Headings should be defined only once.\")\r\n\t\t},\r\n\r\n\t\t'unqualified-attributes' : {\r\n\t\t\t'type': 'string',\r\n\t\t\t'enum': ['ignore', 'warning', 'error'],\r\n\t\t\t'default': 'ignore',\r\n\t\t\t'description': nls.localize('unqualifiedAttributes', \"Unqualified attribute selectors are known to be slow.\")\r\n\t\t},\r\n\t\t*/\r\n\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\n\r\nimport languageFacts = require('vs/languages/css/common/services/languageFacts');\r\nimport lintRules = require('vs/languages/css/common/services/lintRules');\r\nimport nodes = require('vs/languages/css/common/parser/cssNodes');\r\nimport nls = require('vs/nls');\r\nimport _level = require('vs/languages/css/common/level');\r\n\r\nclass Element {\r\n\r\n\tpublic name: string;\r\n\tpublic node: nodes.Declaration;\r\n\r\n\tconstructor(text:string, data:nodes.Declaration){\r\n\t\tthis.name = text;\r\n\t\tthis.node = data;\r\n\t}\r\n}\r\n\r\nclass NodesByRootMap {\r\n\t\tpublic data:{[name:string]:{nodes:nodes.Node[];names:string[]}} = {};\r\n\r\n\t\tpublic add(root:string, name:string, node:nodes.Node) : void {\r\n\t\t\tvar entry = this.data[root];\r\n\t\t\tif (!entry) {\r\n\t\t\t\tentry = { nodes: [], names: []};\r\n\t\t\t\tthis.data[root] = entry;\r\n\t\t\t}\r\n\t\t\tentry.names.push(name);\r\n\t\t\tif (node) {\r\n\t\t\t\tentry.nodes.push(node);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nexport class LintVisitor implements nodes.IVisitor {\r\n\r\n\tstatic entries(node:nodes.Node, settings: lintRules.IConfigurationSettings):nodes.IMarker[] {\r\n\t\tvar visitor = new LintVisitor(settings);\r\n\t\tnode.accept(visitor);\r\n\t\treturn visitor.getEntries();\r\n\t}\r\n\r\n\tstatic prefixes = [\r\n\t\t'-ms-', '-moz-', '-o-', '-webkit-', // Quite common\r\n//\t\t'-xv-', '-atsc-', '-wap-', '-khtml-', 'mso-', 'prince-', '-ah-', '-hp-', '-ro-', '-rim-', '-tc-' // Quite un-common\r\n\t];\r\n\r\n\tprivate warnings:nodes.IMarker[] = [];\r\n\tprivate configuration:{ [id:string] : _level.Level };\r\n\r\n\tconstructor(settings: lintRules.IConfigurationSettings = {}) {\r\n\t\tthis.configuration = {};\r\n\t\tfor (var ruleKey in lintRules.Rules) {\r\n\t\t\tvar rule = lintRules.Rules[ruleKey];\r\n\t\t\tvar level = settings[rule.id] || _level.toLevel(rule.defaultValue);\r\n\t\t\tthis.configuration[rule.id] = level;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate fetch(input: Element[], s:string): Element[] {\r\n\t\tvar elements: Element[] = [];\r\n\r\n\t\tfor (var i = 0; i < input.length; i++) {\r\n\t\t\tif (input[i].name.toLowerCase() === s) {\r\n\t\t\t\telements.push(input[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn elements;\r\n\t}\r\n\r\n\tprivate fetchWithValue(input: Element[], s:string, v:string): Element[] {\r\n\t\tvar elements: Element[] = [];\r\n\t\tfor (var i = 0; i < input.length; i++) {\r\n\t\t\tif (input[i].name.toLowerCase() === s) {\r\n\t\t\t\tvar expression = input[i].node.getValue();\r\n\t\t\t\tif (expression && this.findValueInExpression(expression, v)) {\r\n\t\t\t\t\telements.push(input[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn elements;\r\n\t}\r\n\r\n\tprivate findValueInExpression(expression: nodes.Expression, v:string):boolean {\r\n\t\tvar found= false;\r\n\t\texpression.accept(function(node) {\r\n\t\t\tif (node.type === nodes.NodeType.Identifier && node.getText() === v) {\r\n\t\t\t\tfound= true;\r\n\t\t\t}\r\n\t\t\treturn !found;\r\n\t\t});\r\n\t\treturn found;\r\n\t}\r\n\r\n\r\n\tprivate fetchWithin(input: Element[], s:string): Element[] {\r\n\t\tvar elements: Element[] = [];\r\n\r\n\t\tfor (var i = 0; i < input.length; i++) {\r\n\t\t\tif (input[i].name.toLowerCase().indexOf(s) >= 0) {\r\n\t\t\t\telements.push(input[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn elements;\r\n\t}\r\n\r\n\tpublic getEntries(filter:number=(_level.Level.Warning | _level.Level.Error)):nodes.IMarker[] {\r\n\t\treturn this.warnings.filter((entry) => {\r\n\t\t\treturn (entry.getLevel() & filter) !== 0;\r\n\t\t});\r\n\t}\r\n\r\n\tprivate addEntry(node:nodes.Node, rule:lintRules.Rule, details?:string):void {\r\n\t\tvar entry = new nodes.Marker(node, rule, this.configuration[rule.id], details);\r\n\t\tthis.warnings.push(entry);\r\n\t}\r\n\r\n\tprivate getMissingNames(expected:string[], actual: string[]) : string {\r\n\t\texpected = expected.slice(0); // clone\r\n\t\tfor (var i = 0; i < actual.length; i++) {\r\n\t\t\tvar k = expected.indexOf(actual[i]);\r\n\t\t\tif (k !== -1) {\r\n\t\t\t\texpected[k] = null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar result: string = null;\r\n\t\tfor (var i = 0; i < expected.length; i++) {\r\n\t\t\tvar curr = expected[i];\r\n\t\t\tif (curr) {\r\n\t\t\t\tif (result === null) {\r\n\t\t\t\t\tresult = nls.localize('namelist.single', \"'{0}'\", curr);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult = nls.localize('namelist.concatenated', \"{0}, '{1}'\", result, curr);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic visitNode(node:nodes.Node):boolean {\r\n\t\tswitch (node.type) {\r\n\t\t\tcase nodes.NodeType.Stylesheet:\r\n\t\t\t\treturn this.visitStylesheet(<nodes.Stylesheet> node);\r\n\t\t\tcase nodes.NodeType.FontFace:\r\n\t\t\t\treturn this.visitFontFace(<nodes.FontFace> node);\r\n\t\t\tcase nodes.NodeType.Ruleset:\r\n\t\t\t\treturn this.visitRuleSet(<nodes.RuleSet> node);\r\n\t\t\tcase nodes.NodeType.SimpleSelector:\r\n\t\t\t\treturn this.visitSimpleSelector(<nodes.SimpleSelector> node);\r\n\t\t\tcase nodes.NodeType.Function:\r\n\t\t\t\treturn this.visitFunction(<nodes.Function> node);\r\n\t\t\tcase nodes.NodeType.NumericValue:\r\n\t\t\t\treturn this.visitNumericValue(<nodes.NumericValue> node);\r\n\t\t\tcase nodes.NodeType.Import:\r\n\t\t\t\treturn this.visitImport(<nodes.Import> node);\r\n\t\t}\r\n\t\treturn this.visitUnknownNode(node);\r\n\t}\r\n\r\n\tprivate visitStylesheet(node: nodes.Stylesheet):boolean {\r\n\t\t// @keyframe and it's vendor specific alternatives\r\n\t\t// @keyframe should be included\r\n\r\n\t\tvar keyframes = new NodesByRootMap();\r\n\t\tnode.accept((node) => {\r\n\t\t\tif (node instanceof nodes.Keyframe) {\r\n\t\t\t\tvar keyword = (<nodes.Keyframe> node).getKeyword();\r\n\t\t\t\tvar text = keyword.getText();\r\n\t\t\t\tkeyframes.add((<nodes.Keyframe> node).getName(), text, (text !== '@keyframes') ? keyword : null);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\r\n\t\tvar expected = ['@-webkit-keyframes', '@-moz-keyframes', '@-o-keyframes'];\r\n\r\n\r\n\t\tvar addVendorSpecificWarnings = (node: nodes.Node) => {\r\n\t\t\tif (needsStandard) {\r\n\t\t\t\tvar message = nls.localize('keyframes.standardrule.missing', \"Always define standard rule '@keyframes' when defining keyframes.\");\r\n\t\t\t\tthis.addEntry(node, lintRules.Rules.IncludeStandardPropertyWhenUsingVendorPrefix, message);\r\n\t\t\t}\r\n\t\t\tif (missingVendorSpecific) {\r\n\t\t\t\tvar message = nls.localize('keyframes.vendorspecific.missing', \"Always include all vendor specific rules: Missing: {0}\", missingVendorSpecific);\r\n\t\t\t\tthis.addEntry(node, lintRules.Rules.AllVendorPrefixes, message);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfor (var name in keyframes.data) {\r\n\t\t\tvar actual = keyframes.data[name].names;\r\n\t\t\tvar needsStandard = (actual.indexOf('@keyframes') === -1);\r\n\t\t\tif (!needsStandard && actual.length === 1) {\r\n\t\t\t\tcontinue; // only the non-vendor specific keyword is used, that's fine, no warning\r\n\t\t\t}\r\n\r\n\t\t\tvar missingVendorSpecific = this.getMissingNames(expected, actual);\r\n\t\t\tif (missingVendorSpecific || needsStandard) {\r\n\t\t\t\tkeyframes.data[name].nodes.forEach(addVendorSpecificWarnings);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tprivate visitSimpleSelector(node: nodes.SimpleSelector): boolean {\r\n\r\n\t\tvar text = node.getText();\r\n\r\n\t\t/////////////////////////////////////////////////////////////\r\n\t\t//\tLint - The universal selector (*) is known to be slow.\r\n\t\t/////////////////////////////////////////////////////////////\r\n\t\tif (text === '*') {\r\n\t\t\tthis.addEntry(node, lintRules.Rules.UniversalSelector);\r\n\t\t}\r\n\r\n\t\t/////////////////////////////////////////////////////////////\r\n\t\t//\tLint - Avoid id selectors\r\n\t\t/////////////////////////////////////////////////////////////\r\n\t\tif (text.indexOf('#') === 0) {\r\n\t\t\tthis.addEntry(node, lintRules.Rules.AvoidIdSelector);\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tprivate visitImport(node: nodes.Import): boolean {\r\n\t\t/////////////////////////////////////////////////////////////\r\n\t\t//\tLint - Import statements shouldn't be used, because they aren't offering parallel downloads.\r\n\t\t/////////////////////////////////////////////////////////////\r\n\t\tthis.addEntry(node, lintRules.Rules.ImportStatemement);\r\n\t\treturn true;\r\n\t}\r\n\r\n\tprivate visitRuleSet(node: nodes.RuleSet): boolean {\r\n\t\t/////////////////////////////////////////////////////////////\r\n\t\t//\tLint - Don't use empty rulesets.\r\n\t\t/////////////////////////////////////////////////////////////\r\n\t\tvar declarations = node.getDeclarations();\r\n\t\tif (!declarations) {\r\n\t\t\t// syntax error\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\r\n\t\tif (!declarations.hasChildren()) {\r\n\t\t\tthis.addEntry(node.getSelectors(), lintRules.Rules.EmptyRuleSet);\r\n\t\t}\r\n\r\n\t\tvar self = this;\r\n\t\tvar propertyTable: Element[] = [];\r\n\t\tdeclarations.getChildren().forEach(function(element) {\r\n\t\t\tif (element instanceof nodes.Declaration) {\r\n\t\t\t\tvar decl = <nodes.Declaration> element;\r\n\t\t\t\tpropertyTable.push(new Element(decl.getFullPropertyName(), decl));\r\n\t\t\t}\r\n\t\t}, this);\r\n\r\n\t\t/////////////////////////////////////////////////////////////\r\n\t\t//\tDon't use width or height when using padding or border.\r\n\t\t/////////////////////////////////////////////////////////////\r\n\t\tif ((this.fetch(propertyTable, 'width').length > 0 || this.fetch(propertyTable, 'height').length > 0) && (this.fetchWithin(propertyTable, 'padding').length > 0 || this.fetchWithin(propertyTable, 'border').length > 0)) {\r\n\t\t\tvar elements: Element[] = this.fetch(propertyTable, 'width');\r\n\t\t\tfor (var index = 0; index < elements.length; index++) {\r\n\t\t\t\tthis.addEntry(elements[index].node, lintRules.Rules.NoWidthOrHeightWhenPaddingOrBorder);\r\n\t\t\t}\r\n\t\t\telements = this.fetch(propertyTable, 'height');\r\n\t\t\tfor (var index = 0; index < elements.length; index++) {\r\n\t\t\t\tthis.addEntry(elements[index].node, lintRules.Rules.NoWidthOrHeightWhenPaddingOrBorder);\r\n\t\t\t}\r\n\t\t\telements = this.fetchWithin(propertyTable, 'padding');\r\n\t\t\tfor (var index = 0; index < elements.length; index++) {\r\n\t\t\t\tthis.addEntry(elements[index].node, lintRules.Rules.NoWidthOrHeightWhenPaddingOrBorder);\r\n\t\t\t}\r\n\t\t\telements = this.fetchWithin(propertyTable, 'border');\r\n\t\t\tfor (var index = 0; index < elements.length; index++) {\r\n\t\t\t\tthis.addEntry(elements[index].node, lintRules.Rules.NoWidthOrHeightWhenPaddingOrBorder);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/////////////////////////////////////////////////////////////\r\n\t\t//\tProperties ignored due to display\r\n\t\t/////////////////////////////////////////////////////////////\r\n\r\n\t\t// With 'display: inline', the width, height, margin-top, margin-bottom, and float properties have no effect\r\n\t\tlet displayElems = this.fetchWithValue(propertyTable, 'display', 'inline');\r\n\t\tif (displayElems.length > 0) {\r\n\t\t\t[ 'width', 'height', 'margin-top', 'margin-bottom', 'float'].forEach(function(prop) {\r\n\t\t\t\tvar elem = self.fetch(propertyTable, prop);\r\n\t\t\t\tfor (var index = 0; index < elem.length; index++) {\r\n\t\t\t\t\tself.addEntry(elem[index].node, lintRules.Rules.PropertyIgnoredDueToDisplay);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// With 'display: inline-block', 'float' has no effect\r\n\t\tdisplayElems = this.fetchWithValue(propertyTable, 'display', 'inline-block');\r\n\t\tif (displayElems.length > 0) {\r\n\t\t\tvar elem = this.fetch(propertyTable, 'float');\r\n\t\t\tfor (var index = 0; index < elem.length; index++) {\r\n\t\t\t\tthis.addEntry(elem[index].node, lintRules.Rules.PropertyIgnoredDueToDisplay);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// With 'display: block', 'vertical-align' has no effect\r\n\t\tdisplayElems = this.fetchWithValue(propertyTable, 'display', 'block');\r\n\t\tif (displayElems.length > 0) {\r\n\t\t\tvar elem = this.fetch(propertyTable, 'vertical-align');\r\n\t\t\tfor (var index = 0; index < elem.length; index++) {\r\n\t\t\t\tthis.addEntry(elem[index].node, lintRules.Rules.PropertyIgnoredDueToDisplay);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/////////////////////////////////////////////////////////////\r\n\t\t//\tDon't use !important\r\n\t\t/////////////////////////////////////////////////////////////\r\n\t\tnode.accept(function(n:nodes.Node) {\r\n\t\t\tif (n.type === nodes.NodeType.Prio) {\r\n\t\t\t\tself.addEntry(n, lintRules.Rules.AvoidImportant);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\r\n\t\t/////////////////////////////////////////////////////////////\r\n\t\t//\tAvoid 'float'\r\n\t\t/////////////////////////////////////////////////////////////\r\n\r\n\t\tvar elements: Element[] = this.fetch(propertyTable, 'float');\r\n\t\tfor (var index = 0; index < elements.length; index++) {\r\n\t\t\tthis.addEntry(elements[index].node, lintRules.Rules.AvoidFloat);\r\n\t\t}\r\n\r\n\t\t/////////////////////////////////////////////////////////////\r\n\t\t//\tDon't use duplicate declarations.\r\n\t\t/////////////////////////////////////////////////////////////\r\n\t\tfor (var i = 0; i < propertyTable.length; i++) {\r\n\t\t\tvar element = propertyTable[i];\r\n\t\t\tif (element.name.toLowerCase() !== 'background') {\r\n\t\t\t\tvar value = element.node.getValue();\r\n\t\t\t\tif (value && value.getText()[0] !== '-') {\r\n\t\t\t\t\tvar elements = this.fetch(propertyTable, element.name);\r\n\t\t\t\t\tif (elements.length > 1) {\r\n\t\t\t\t\t\tfor (var k = 0; k < elements.length; k++) {\r\n\t\t\t\t\t\t\tvar value = elements[k].node.getValue();\r\n\t\t\t\t\t\t\tif (value && value.getText()[0] !== '-' && elements[k] !== element) {\r\n\t\t\t\t\t\t\t\tthis.addEntry(element.node, lintRules.Rules.DuplicateDeclarations);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/////////////////////////////////////////////////////////////\r\n\t\t//\tUnknown propery & When using a vendor-prefixed gradient, make sure to use them all.\r\n\t\t/////////////////////////////////////////////////////////////\r\n\r\n\t\tvar propertiesBySuffix = new NodesByRootMap();\r\n\t\tvar containsUnknowns = false;\r\n\r\n\t\tdeclarations.getChildren().forEach((node) => {\r\n\t\t\tif (this.isCSSDeclaration(node)) {\r\n\t\t\t\tvar decl = <nodes.Declaration> node;\r\n\t\t\t\tvar name = decl.getFullPropertyName();\r\n\t\t\t\tvar firstChar = name.charAt(0);\r\n\r\n\t\t\t\tif (firstChar === '-') {\r\n\t\t\t\t\tif (name.charAt(1) !== '-') { // avoid css variables\r\n\t\t\t\t\t\tif (!languageFacts.isKnownProperty(name)) {\r\n\t\t\t\t\t\t\tthis.addEntry(decl.getProperty(), lintRules.Rules.UnknownVendorSpecificProperty);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar nonPrefixedName = decl.getNonPrefixedPropertyName();\r\n\t\t\t\t\t\tpropertiesBySuffix.add(nonPrefixedName, name, decl.getProperty());\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (firstChar === '*' || firstChar === '_') {\r\n\t\t\t\t\t\tthis.addEntry(decl.getProperty(), lintRules.Rules.IEStarHack);\r\n\t\t\t\t\t\tname = name.substr(1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!languageFacts.isKnownProperty(name)) {\r\n\t\t\t\t\t\tthis.addEntry(decl.getProperty(), lintRules.Rules.UnknownProperty);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpropertiesBySuffix.add(name, name, null); // don't pass the node as we don't show errors on the standard\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tcontainsUnknowns = true;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (!containsUnknowns) { // don't perform this test if there are\r\n\r\n\t\t\tvar addVendorSpecificWarnings = (node: nodes.Node) => {\r\n\t\t\t\tif (needsStandard) {\r\n\t\t\t\t\tvar message = nls.localize('property.standard.missing', \"Also define the standard property '{0}' for compatibility\", suffix);\r\n\t\t\t\t\tthis.addEntry(node, lintRules.Rules.IncludeStandardPropertyWhenUsingVendorPrefix, message);\r\n\t\t\t\t}\r\n\t\t\t\tif (missingVendorSpecific) {\r\n\t\t\t\t\tvar message = nls.localize('property.vendorspecific.missing', \"Always include all vendor specific properties: Missing: {0}\", missingVendorSpecific);\r\n\t\t\t\t\tthis.addEntry(node, lintRules.Rules.AllVendorPrefixes, message);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\r\n\t\t\tfor (var suffix in propertiesBySuffix.data) {\r\n\t\t\t\tvar entry = propertiesBySuffix.data[suffix];\r\n\t\t\t\tvar actual = entry.names;\r\n\r\n\t\t\t\tvar needsStandard = languageFacts.isKnownProperty(suffix) && (actual.indexOf(suffix) === -1);\r\n\t\t\t\tif (!needsStandard && actual.length === 1) {\r\n\t\t\t\t\tcontinue; // only the non-vendor specific rule is used, that's fine, no warning\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar expected : string[] = [];\r\n\t\t\t\tfor (var i = 0, len = LintVisitor.prefixes.length; i < len; i++) {\r\n\t\t\t\t\tvar prefix = LintVisitor.prefixes[i];\r\n\t\t\t\t\tif (languageFacts.isKnownProperty(prefix + suffix)) {\r\n\t\t\t\t\t\texpected.push(prefix + suffix);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar missingVendorSpecific = this.getMissingNames(expected, actual);\r\n\t\t\t\tif (missingVendorSpecific || needsStandard) {\r\n\t\t\t\t\tentry.nodes.forEach(addVendorSpecificWarnings);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tprivate visitNumericValue(node:nodes.NumericValue): boolean {\r\n\t\t/////////////////////////////////////////////////////////////\r\n\t\t//\t0 has no following unit\r\n\t\t/////////////////////////////////////////////////////////////\r\n\t\tvar value = node.getValue();\r\n\t\tif(value.unit === '%') {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif(parseFloat(value.value) === 0.0 && !!value.unit) {\r\n\t\t\tthis.addEntry(node, lintRules.Rules.ZeroWithUnit);\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tprivate visitFontFace(node: nodes.FontFace): boolean {\r\n\t\tvar declarations = node.getDeclarations();\r\n\t\tif (!declarations) {\r\n\t\t\t// syntax error\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar definesSrc = false, definesFontFamily = false;\r\n\t\tvar containsUnknowns = false;\r\n\t\tdeclarations.getChildren().forEach((node) => {\r\n\t\t\tif (this.isCSSDeclaration(node)) {\r\n\t\t\t\tvar name = ((<nodes.Declaration> node).getProperty().getName().toLocaleLowerCase());\r\n\t\t\t\tif (name === 'src') { definesSrc = true; }\r\n\t\t\t\tif (name === 'font-family') { definesFontFamily = true; }\r\n\t\t\t} else {\r\n\t\t\t\tcontainsUnknowns = true;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (!containsUnknowns && (!definesSrc || !definesFontFamily)) {\r\n\t\t\tthis.addEntry(node, lintRules.Rules.RequiredPropertiesForFontFace);\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tprivate isCSSDeclaration(node:nodes.Node): boolean {\r\n\t\tif (node instanceof nodes.Declaration) {\r\n\t\t\tif (!(<nodes.Declaration> node).getValue()) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tvar property = (<nodes.Declaration> node).getProperty();\r\n\t\t\tif (!property || property.getIdentifier().containsInterpolation()) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprivate visitUnknownNode(node:nodes.Node):boolean {\r\n\r\n\t\t// Rule: #eeff00 or #ef0\r\n\t\tif(node.type === nodes.NodeType.HexColorValue) {\r\n\t\t\tvar text = node.getText();\r\n\t\t\tif(text.length !== 7 && text.length !== 4) {\r\n\t\t\t\tthis.addEntry(node, lintRules.Rules.HexColorLength);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tprivate visitFunction(node:nodes.Function):boolean {\r\n\r\n\t\tvar fnName = node.getName().toLowerCase(),\r\n\t\t\texpectedAttrCount = -1,\r\n\t\t\tactualAttrCount = 0;\r\n\r\n\t\tswitch(fnName) {\r\n\t\t\tcase 'rgb(':\r\n\t\t\tcase 'hsl(':\r\n\t\t\t\texpectedAttrCount = 3;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'rgba(':\r\n\t\t\tcase 'hsla(':\r\n\t\t\t\texpectedAttrCount = 4;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tif(expectedAttrCount !== -1) {\r\n\t\t\tnode.getArguments().accept((n) => {\r\n\t\t\t\tif(n instanceof nodes.BinaryExpression) {\r\n\t\t\t\t\tactualAttrCount += 1;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t});\r\n\r\n\t\t\tif(actualAttrCount !== expectedAttrCount) {\r\n\t\t\t\tthis.addEntry(node, lintRules.Rules.ArgsInColorFunction);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\n\r\nimport URI from 'vs/base/common/uri';\r\nimport winjs = require('vs/base/common/winjs.base');\r\nimport nodes = require('vs/languages/css/common/parser/cssNodes');\r\nimport parser = require('vs/languages/css/common/parser/cssParser');\r\nimport EditorCommon = require('vs/editor/common/editorCommon');\r\nimport resourceService = require('vs/editor/common/services/resourceService');\r\nimport {IDisposable, dispose} from 'vs/base/common/lifecycle';\r\n\r\ninterface Entry {\r\n\tnode:nodes.Stylesheet;\r\n\tversion:number;\r\n}\r\n\r\nexport interface ILanguageService {\r\n\tjoin():winjs.TPromise<void>;\r\n\tgetStylesheet(resource:URI):nodes.Stylesheet;\r\n}\r\n\r\nclass PromiseWithTrigger<T> extends winjs.TPromise<T> {\r\n\r\n\tprivate _valueCallback:winjs.ValueCallback;\r\n\tprivate _errorCallback:winjs.ErrorCallback;\r\n\r\n\tconstructor() {\r\n\t\tsuper((c, e, p) => {\r\n\t\t\tthis._valueCallback = c;\r\n\t\t\tthis._errorCallback = e;\r\n\t\t});\r\n\t}\r\n\r\n\tpublic resolve(data:T):PromiseWithTrigger<T> {\r\n\t\tthis._valueCallback(data);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic reject(err:any):PromiseWithTrigger<T> {\r\n\t\tthis._errorCallback(err);\r\n\t\treturn this;\r\n\t}\r\n}\r\n\r\nexport class CSSLanguageService implements ILanguageService {\r\n\r\n\tprivate resourceService:resourceService.IResourceService;\r\n\tprivate entries:{[url:string]:Entry;};\r\n\tprivate activeDelay:PromiseWithTrigger<any>;\r\n\tprivate onChangeHandle:number;\r\n\tprivate callOnDispose:IDisposable[];\r\n\tprivate createParser: () => parser.Parser;\r\n\r\n\tconstructor(service:resourceService.IResourceService, createParser: () => parser.Parser, private _cssModeId:string) {\r\n\t\tthis.resourceService = service;\r\n\t\tthis.entries = {};\r\n\t\tthis.callOnDispose = [];\r\n\t\tthis.createParser = createParser;\r\n\r\n\t\tthis.updateResources();\r\n\t\tthis.callOnDispose.push(this.resourceService.addListener2_(resourceService.ResourceEvents.ADDED, (e: resourceService.IResourceAddedEvent) => this.onResourceAdded(e)));\r\n\t\tthis.callOnDispose.push(this.resourceService.addListener2_(resourceService.ResourceEvents.REMOVED, (e: resourceService.IResourceRemovedEvent) => this.onResourceRemoved(e)));\r\n\t\tthis.callOnDispose.push(this.resourceService.addListener2_(resourceService.ResourceEvents.CHANGED, (e: resourceService.IResourceChangedEvent) => this.onResourceChange(e)));\r\n\t}\r\n\r\n\tpublic dispose():void {\r\n\t\tthis.callOnDispose = dispose(this.callOnDispose);\r\n\t\tclearTimeout(this.onChangeHandle);\r\n\t\tthis.onChangeHandle = null;\r\n\t\tthis.entries = null;\r\n\t}\r\n\r\n\tprivate onResourceAdded(e: resourceService.IResourceAddedEvent):void {\r\n\t\tif (this._isMyMirrorModel(e.addedElement)) {\r\n\t\t\tthis._scheduleRefreshLanguageService();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onResourceRemoved(e: resourceService.IResourceRemovedEvent):void {\r\n\t\tvar url = e.url.toString();\r\n\t\tif (this.entries.hasOwnProperty(url)) {\r\n\t\t\tdelete this.entries[url];\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onResourceChange(e: resourceService.IResourceChangedEvent):void {\r\n\t\tif (this._isMyModel(e.url)) {\r\n\t\t\tthis._scheduleRefreshLanguageService();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _scheduleRefreshLanguageService(): void {\r\n\t\tif (!this.activeDelay) {\r\n\t\t\tthis.activeDelay = new PromiseWithTrigger<any>();\r\n\t\t}\r\n\t\tif (this.onChangeHandle) {\r\n\t\t\tclearTimeout(this.onChangeHandle);\r\n\t\t}\r\n\t\tthis.onChangeHandle = setTimeout(() => {\r\n\t\t\tthis.updateResources();\r\n\t\t\tthis.activeDelay.resolve(null);\r\n\t\t\tthis.activeDelay = null;\r\n\t\t\tthis.onChangeHandle = null;\r\n\t\t}, 50);\r\n\t}\r\n\r\n\tpublic join():winjs.TPromise<void> {\r\n\t\treturn (this.activeDelay || winjs.TPromise.as(null));\r\n\t}\r\n\r\n\tprivate _isMyMirrorModel(resource:EditorCommon.IMirrorModel): boolean {\r\n\t\treturn resource.getMode().getId() === this._cssModeId;\r\n\t}\r\n\r\n\tprivate _isMyModel(url:URI): boolean {\r\n\t\treturn this._isMyMirrorModel(this.resourceService.get(url));\r\n\t}\r\n\r\n\tprivate updateResources():void {\r\n\r\n\t\tvar n = 0;\r\n\r\n\t\tthis.resourceService.all().filter((element) => this._isMyMirrorModel(element)).forEach((model:EditorCommon.IMirrorModel) => {\r\n\t\t\t// Reparse changes or new models\r\n\t\t\tvar url = model.uri.toString(),\r\n\t\t\t\tentry = this.entries[url],\r\n\t\t\t\thasEntry = typeof entry !== 'undefined';\r\n\r\n\t\t\tif(!hasEntry || entry.version !== model.getVersionId()) {\r\n\r\n\t\t\t\tif(!hasEntry) {\r\n\t\t\t\t\tentry = { node: null, version: -1 };\r\n\t\t\t\t\tthis.entries[url] = entry;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tentry.node = this.createParser().parseStylesheet(model);\r\n\t\t\t\tentry.node.setName(url);\r\n\t\t\t\tentry.version = model.getVersionId();\r\n\r\n\t\t\t\tn += 1;\r\n\t\t\t}\r\n\t\t});\r\n\r\n//\t\tconsole.info('[less] updating ' + n + ' resources took ms' + (new Date().getTime() - t1));\r\n\t}\r\n\r\n\tpublic getStylesheet(resource:URI):nodes.Stylesheet {\r\n\t\tif(this.entries.hasOwnProperty(resource.toString())) {\r\n\t\t\treturn this.entries[resource.toString()].node;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n}","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\n\r\nimport nls = require('vs/nls');\r\nimport URI from 'vs/base/common/uri';\r\nimport _severity from 'vs/base/common/severity';\r\nimport strings = require('vs/base/common/strings');\r\nimport winjs = require('vs/base/common/winjs.base');\r\nimport languageService = require('vs/languages/css/common/services/cssLanguageService');\r\nimport languageFacts = require('vs/languages/css/common/services/languageFacts');\r\nimport occurrences = require('./services/occurrences');\r\nimport cssIntellisense = require('vs/languages/css/common/services/intelliSense');\r\nimport editorCommon = require('vs/editor/common/editorCommon');\r\nimport modes = require('vs/editor/common/modes');\r\nimport nodes = require('vs/languages/css/common/parser/cssNodes');\r\nimport _level = require('vs/languages/css/common/level');\r\nimport parser = require('vs/languages/css/common/parser/cssParser');\r\nimport selectorPrinting = require('vs/languages/css/common/services/selectorPrinting');\r\nimport lint = require('vs/languages/css/common/services/lint');\r\nimport lintRules = require('vs/languages/css/common/services/lintRules');\r\nimport {IMarker, IMarkerData} from 'vs/platform/markers/common/markers';\r\nimport {IMarkerService} from 'vs/platform/markers/common/markers';\r\nimport {Range} from 'vs/editor/common/core/range';\r\nimport {IResourceService} from 'vs/editor/common/services/resourceService';\r\nimport {filterSuggestions} from 'vs/editor/common/modes/supports/suggestSupport';\r\nimport {ValidationHelper} from 'vs/editor/common/worker/validationHelper';\r\n\r\nexport class CSSWorker {\r\n\r\n\tpublic languageService: languageService.ILanguageService;\r\n\tprivate resourceService:IResourceService;\r\n\tprivate markerService: IMarkerService;\r\n\tprivate _modeId: string;\r\n\tprivate validationEnabled : boolean;\r\n\tprivate lintSettings : lintRules.IConfigurationSettings;\r\n\tprivate _validationHelper: ValidationHelper;\r\n\r\n\tconstructor(\r\n\t\tmodeId: string,\r\n\t\t@IResourceService resourceService: IResourceService,\r\n\t\t@IMarkerService markerService: IMarkerService\r\n\t) {\r\n\r\n\t\tthis._modeId = modeId;\r\n\t\tthis.resourceService = resourceService;\r\n\t\tthis.markerService = markerService;\r\n\r\n\t\tthis._validationHelper = new ValidationHelper(\r\n\t\t\tthis.resourceService,\r\n\t\t\tthis._modeId,\r\n\t\t\t(toValidate) => this.doValidate(toValidate)\r\n\t\t);\r\n\r\n\t\tthis.languageService = this.createLanguageService(resourceService, modeId);\r\n\t\tthis.lintSettings = {};\r\n\t\tthis.validationEnabled = true;\r\n\t}\r\n\r\n\tpublic navigateValueSet(resource:URI, range:editorCommon.IRange, up:boolean):winjs.TPromise<modes.IInplaceReplaceSupportResult> {\r\n\t\treturn this.languageService.join().then(() => {\r\n\r\n\t\t\tlet model = this.resourceService.get(resource);\r\n\t\t\tlet offset = model.getOffsetFromPosition({ lineNumber: range.startLineNumber, column: range.startColumn });\r\n\t\t\tlet styleSheet = this.languageService.getStylesheet(resource);\r\n\r\n\t\t\tlet node = nodes.getNodeAtOffset(styleSheet, offset);\r\n\t\t\tif (!node) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet declaration = nodes.getParentDeclaration(node);\r\n\t\t\tif (!declaration) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet entry: languageFacts.IEntry = languageFacts.getProperties()[declaration.getFullPropertyName()];\r\n\t\t\tif (!entry || !entry.values) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet values = entry.values.filter(value => languageFacts.isCommonValue(value)).map(v => v.name);\r\n\r\n\t\t\tlet isColor = (entry.restrictions.indexOf('color') >= 0);\r\n\t\t\tif (isColor) {\r\n\t\t\t\tvalues = values.concat(Object.getOwnPropertyNames(languageFacts.colors), Object.getOwnPropertyNames(languageFacts.colorKeywords));\r\n\t\t\t}\r\n\r\n\t\t\tlet text = node.getText();\r\n\t\t\tfor (let i = 0, len = values.length; i < len; i++) {\r\n\t\t\t\tif (strings.equalsIgnoreCase(values[i], text)) {\r\n\t\t\t\t\tlet nextIdx = i;\r\n\t\t\t\t\tif(up) {\r\n\t\t\t\t\t\tnextIdx = (i + 1) % len;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnextIdx =  i - 1;\r\n\t\t\t\t\t\tif(nextIdx < 0) {\r\n\t\t\t\t\t\t\tnextIdx = len - 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet result:modes.IInplaceReplaceSupportResult = {\r\n\t\t\t\t\t\tvalue: values[nextIdx],\r\n\t\t\t\t\t\trange: this._range(node, model)\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// if none matches, take the first one\r\n\t\t\tif (values.length > 0) {\r\n\t\t\t\tlet result:modes.IInplaceReplaceSupportResult = {\r\n\t\t\t\t\tvalue: values[0],\r\n\t\t\t\t\trange: this._range(node, model)\r\n\t\t\t\t};\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\t\t});\r\n\t}\r\n\r\n\tpublic createLanguageService(resourceService:IResourceService, modeId:string): languageService.CSSLanguageService {\r\n\t\treturn new languageService.CSSLanguageService(resourceService, this.createParser.bind(this), modeId);\r\n\t}\r\n\r\n\tpublic createParser() : parser.Parser {\r\n\t\treturn new parser.Parser();\r\n\t}\r\n\r\n\t_doConfigure(raw:any): winjs.TPromise<void> {\r\n\t\tif (raw) {\r\n\t\t\tthis.validationEnabled = raw.validate;\r\n\t\t\tif (raw.lint) {\r\n\t\t\t\tthis.lintSettings = lintRules.sanitize(raw.lint);\r\n\t\t\t} else {\r\n\t\t\t\tthis.lintSettings = {};\r\n\t\t\t}\r\n\t\t\tthis._validationHelper.triggerDueToConfigurationChange();\r\n\t\t}\r\n\r\n\t\treturn winjs.TPromise.as(void 0);\r\n\t}\r\n\r\n\tpublic enableValidator(): winjs.TPromise<void> {\r\n\t\tthis._validationHelper.enable();\r\n\t\treturn winjs.TPromise.as(null);\r\n\t}\r\n\r\n\tpublic doValidate(resources: URI[]):void {\r\n\t\tfor (var i = 0; i < resources.length; i++) {\r\n\t\t\tthis.doValidate1(resources[i]);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate doValidate1(resource: URI):void {\r\n\t\tif (!this.validationEnabled) {\r\n\t\t\tthis.markerService.changeOne(this._modeId, resource, []);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.languageService.join().then(() => {\r\n\r\n\t\t\tlet modelMirror = this.resourceService.get(resource),\r\n\t\t\t\tnode = this.languageService.getStylesheet(resource),\r\n\t\t\t\tentries: nodes.IMarker[] = [];\r\n\r\n\t\t\tentries.push.apply(entries, nodes.ParseErrorCollector.entries(node));\r\n\t\t\tentries.push.apply(entries, this.collectLintEntries(node));\r\n\r\n\t\t\tlet markerData = entries\r\n\t\t\t\t.filter(entry => entry.getLevel() !== _level.Level.Ignore)\r\n\t\t\t\t.map(entry => this._createMarkerData(modelMirror, entry));\r\n\r\n\t\t\tthis.markerService.changeOne(this._modeId, resource, markerData);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate _createMarkerData(model: editorCommon.IMirrorModel, marker: nodes.IMarker): IMarkerData {\r\n\t\tlet range = model.getRangeFromOffsetAndLength(marker.getOffset(), marker.getLength());\r\n\t\treturn <IMarkerData> {\r\n\t\t\tcode: marker.getRule().id,\r\n\t\t\tmessage: marker.getMessage(),\r\n\t\t\tseverity: marker.getLevel() === _level.Level.Warning ? _severity.Warning : _severity.Error,\r\n\t\t\tstartLineNumber: range.startLineNumber,\r\n\t\t\tstartColumn: range.startColumn,\r\n\t\t\tendLineNumber: range.endLineNumber,\r\n\t\t\tendColumn: range.endColumn\r\n\t\t};\r\n\t}\r\n\r\n\tpublic collectLintEntries(stylesheet:nodes.Stylesheet):nodes.IMarker[] {\r\n\t\treturn lint.LintVisitor.entries(stylesheet, this.lintSettings);\r\n\t}\r\n\r\n\tpublic createIntellisense(): cssIntellisense.CSSIntellisense {\r\n\t\treturn new cssIntellisense.CSSIntellisense();\r\n\t}\r\n\r\n\tpublic provideCompletionItems(resource:URI, position:editorCommon.IPosition):winjs.TPromise<modes.ISuggestResult[]> {\r\n\t\treturn this.doSuggest(resource, position).then(value => filterSuggestions(value));\r\n\t}\r\n\r\n\tprivate doSuggest(resource:URI, position:editorCommon.IPosition):winjs.TPromise<modes.ISuggestResult> {\r\n\r\n\t\treturn this.languageService.join().then(() => {\r\n\r\n\t\t\tlet model = this.resourceService.get(resource);\r\n\t\t\tlet result = this.createIntellisense().getCompletionsAtPosition(this.languageService, model, resource, position);\r\n\t\t\treturn result;\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tpublic provideDocumentSymbols(resource:URI):winjs.TPromise<modes.SymbolInformation[]> {\r\n\r\n\t\treturn this.languageService.join().then(() => {\r\n\r\n\t\t\tlet model = this.resourceService.get(resource),\r\n\t\t\t\tstylesheet = this.languageService.getStylesheet(resource),\r\n\t\t\t\tresult:modes.SymbolInformation[] = [];\r\n\r\n\t\t\tstylesheet.accept((node) => {\r\n\r\n\t\t\t\tlet entry:modes.SymbolInformation = {\r\n\t\t\t\t\tname: null,\r\n\t\t\t\t\tkind: modes.SymbolKind.Class, // TODO@Martin: find a good SymbolKind\r\n\t\t\t\t\tlocation: null\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif(node instanceof nodes.Selector) {\r\n\t\t\t\t\tentry.name = node.getText();\r\n\t\t\t\t} else if(node instanceof nodes.VariableDeclaration) {\r\n\t\t\t\t\tentry.name = (<nodes.VariableDeclaration> node).getName();\r\n\t\t\t\t\tentry.kind = modes.SymbolKind.Variable;\r\n\t\t\t\t} else if(node instanceof nodes.MixinDeclaration) {\r\n\t\t\t\t\tentry.name = (<nodes.MixinDeclaration> node).getName();\r\n\t\t\t\t\tentry.kind = modes.SymbolKind.Method;\r\n\t\t\t\t} else if(node instanceof nodes.FunctionDeclaration) {\r\n\t\t\t\t\tentry.name = (<nodes.FunctionDeclaration> node).getName();\r\n\t\t\t\t\tentry.kind = modes.SymbolKind.Function;\r\n\t\t\t\t} else if(node instanceof nodes.Keyframe) {\r\n\t\t\t\t\tentry.name = nls.localize('literal.keyframes', \"@keyframes {0}\", (<nodes.Keyframe> node).getName());\r\n\t\t\t\t} else if(node instanceof nodes.FontFace) {\r\n\t\t\t\t\tentry.name = nls.localize('literal.fontface', \"@font-face\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(entry.name) {\r\n\t\t\t\t\tentry.location = {\r\n\t\t\t\t\t\turi: resource,\r\n\t\t\t\t\t\trange: this._range(node, model, true)\r\n\t\t\t\t\t};\r\n\t\t\t\t\tresult.push(entry);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn true;\r\n\t\t\t});\r\n\r\n\t\t\treturn result;\r\n\t\t});\r\n\t}\r\n\r\n\tpublic provideHover(resource:URI, position:editorCommon.IPosition): winjs.TPromise<modes.Hover> {\r\n\r\n\t\treturn this.languageService.join().then(() => {\r\n\r\n\t\t\tlet model = this.resourceService.get(resource),\r\n\t\t\t\toffset = model.getOffsetFromPosition(position),\r\n\t\t\t\tstylesheet = this.languageService.getStylesheet(resource),\r\n\t\t\t\tnodepath = nodes.getNodePath(stylesheet, offset);\r\n\r\n\t\t\tfor (let i = 0; i < nodepath.length; i++) {\r\n\t\t\t\tlet node = nodepath[i];\r\n\t\t\t\tif (node instanceof nodes.Selector) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\thtmlContent: [selectorPrinting.selectorToHtml(<nodes.Selector> node)],\r\n\t\t\t\t\t\trange: this._range(node, model)\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tif (node instanceof nodes.SimpleSelector) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\thtmlContent: [selectorPrinting.simpleSelectorToHtml(<nodes.SimpleSelector> node)],\r\n\t\t\t\t\t\trange: this._range(node, model)\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tif (node instanceof nodes.Declaration) {\r\n\t\t\t\t\tlet propertyName = node.getFullPropertyName();\r\n\t\t\t\t\tlet entry = languageFacts.getProperties()[propertyName];\r\n\t\t\t\t\tif (entry) {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\thtmlContent: [{ text: entry.description }],\r\n\t\t\t\t\t\t\trange: this._range(node, model)\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\t\t});\r\n\t}\r\n\r\n\tpublic provideDefinition(resource:URI, position:editorCommon.IPosition):winjs.TPromise<modes.Location> {\r\n\r\n\t\treturn this.languageService.join().then(() => {\r\n\r\n\t\t\tlet model = this.resourceService.get(resource),\r\n\t\t\t\toffset = model.getOffsetFromPosition(position),\r\n\t\t\t\tnode = occurrences.findDeclaration(this.languageService.getStylesheet(resource), offset);\r\n\r\n\t\t\tif (!node) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\turi: resource,\r\n\t\t\t\trange: this._range(node, model, true)\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\r\n\tpublic provideDocumentHighlights(resource:URI, position:editorCommon.IPosition):winjs.TPromise<modes.DocumentHighlight[]> {\r\n\r\n\t\treturn this.languageService.join().then(() => {\r\n\r\n\t\t\tlet model = this.resourceService.get(resource),\r\n\t\t\t\toffset = model.getOffsetFromPosition(position),\r\n\t\t\t\tnodes = occurrences.findOccurrences(this.languageService.getStylesheet(resource), offset);\r\n\r\n\t\t\treturn nodes.map((occurrence) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\trange: this._range(occurrence.node, model),\r\n\t\t\t\t\tkind: occurrence.kind\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tpublic provideReferences(resource:URI, position:editorCommon.IPosition):winjs.TPromise<modes.Location[]> {\r\n\r\n\t\treturn this.languageService.join().then(() => {\r\n\t\t\tlet model = this.resourceService.get(resource),\r\n\t\t\t\toffset = model.getOffsetFromPosition(position),\r\n\t\t\t\tnodes = occurrences.findOccurrences(this.languageService.getStylesheet(resource), offset);\r\n\r\n\t\t\treturn nodes.map((occurrence) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\turi: model.uri,\r\n\t\t\t\t\trange: this._range(occurrence.node, model)\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tpublic findColorDeclarations(resource:URI):winjs.Promise {\r\n\r\n\t\treturn this.languageService.join().then(() => {\r\n\r\n\t\t\tlet model = this.resourceService.get(resource),\r\n\t\t\t\tstyleSheet = this.languageService.getStylesheet(resource),\r\n\t\t\t\tresult:{range:editorCommon.IRange; value:string; }[] = [];\r\n\r\n\t\t\tstyleSheet.accept((node) => {\r\n\t\t\t\tif (languageFacts.isColorValue(node)) {\r\n\t\t\t\t\tresult.push({\r\n\t\t\t\t\t\trange: this._range(node, model),\r\n\t\t\t\t\t\tvalue: node.getText()\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t});\r\n\r\n\t\t\treturn result;\r\n\t\t});\r\n\t}\r\n\r\n\t_range(node:{offset:number; length:number;}, model:editorCommon.IMirrorModel, empty:boolean = false):editorCommon.IRange {\r\n\t\tif (empty) {\r\n\t\t\tlet position = model.getPositionFromOffset(node.offset);\r\n\t\t\treturn {\r\n\t\t\t\tstartLineNumber: position.lineNumber,\r\n\t\t\t\tstartColumn: position.column,\r\n\t\t\t\tendLineNumber: position.lineNumber,\r\n\t\t\t\tendColumn: position.column\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\treturn model.getRangeFromOffsetAndLength(node.offset, node.length);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate getFixesForUnknownProperty(property: nodes.Property, marker: IMarker) : modes.CodeAction[] {\r\n\r\n\t\tlet propertyName = property.getName();\r\n\t\tlet result: modes.CodeAction[] = [];\r\n\t\tfor (let p in languageFacts.getProperties()) {\r\n\t\t\tlet score = strings.difference(propertyName, p);\r\n\t\t\tif (score >= propertyName.length / 2 /*score_lim*/) {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\tcommand: {\r\n\t\t\t\t\t\tid: '_css.replaceText',\r\n\t\t\t\t\t\ttitle: nls.localize('css.quickfix.rename', \"Rename to '{0}'\", p),\r\n\t\t\t\t\t\targuments: [{ range: Range.lift(marker), newText: p }]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscore\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Sort in descending order.\r\n\t\tresult.sort((a, b) => {\r\n\t\t\treturn b.score - a.score;\r\n\t\t});\r\n\r\n\t\treturn result.slice(0, 3 /*max_result*/);\r\n\t}\r\n\r\n\tprivate appendFixesForMarker(bucket: modes.CodeAction[], marker: IMarker): void {\r\n\r\n\t\tif ((<IMarker>marker).code !== lintRules.Rules.UnknownProperty.id) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet model = this.resourceService.get(marker.resource),\r\n\t\t\toffset = model.getOffsetFromPosition({ column: marker.startColumn, lineNumber: marker.startLineNumber }),\r\n\t\t\tstylesheet = this.languageService.getStylesheet(marker.resource),\r\n\t\t\tnodepath = nodes.getNodePath(stylesheet, offset);\r\n\r\n\t\tfor (let i = nodepath.length - 1; i >= 0; i--) {\r\n\t\t\tlet node = nodepath[i];\r\n\t\t\tif (node instanceof nodes.Declaration) {\r\n\t\t\t\tlet property = (<nodes.Declaration> node).getProperty();\r\n\t\t\t\tif (property && property.offset === offset && property.length === marker.endColumn - marker.startColumn) {\r\n\t\t\t\t\tbucket.push(...this.getFixesForUnknownProperty(property, marker));\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic provideCodeActions(resource: URI, range: editorCommon.IRange): winjs.TPromise<modes.CodeAction[]> {\r\n\r\n\t\treturn this.languageService.join().then(() => {\r\n\t\t\tconst result: modes.CodeAction[] = [];\r\n\r\n\t\t\tthis.markerService.read({ resource })\r\n\t\t\t\t.filter(marker => Range.containsRange(range, marker))\r\n\t\t\t\t.forEach(marker => this.appendFixesForMarker(result, marker));\r\n\r\n\t\t\treturn result;\r\n\t\t});\r\n\t}\r\n\r\n}\r\n"]}