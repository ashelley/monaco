{"version":3,"sources":["fake","file:///D:/REPOS/monaco/vscode/src/vs/languages/php/common/php.ts"],"names":[],"mappings":"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","file":"vs/languages/php/common/php.js","sourcesContent":["}).call(this);","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\n\r\nimport WinJS = require('vs/base/common/winjs.base');\r\nimport objects = require('vs/base/common/objects');\r\nimport Modes = require('vs/editor/common/modes');\r\nimport {AbstractMode, isDigit, createWordRegExp} from 'vs/editor/common/modes/abstractMode';\r\nimport {AbstractState} from 'vs/editor/common/modes/abstractState';\r\nimport {IModeService} from 'vs/editor/common/services/modeService';\r\nimport {LanguageConfigurationRegistry, LanguageConfiguration} from 'vs/editor/common/modes/languageConfigurationRegistry';\r\nimport {TokenizationSupport, ILeavingNestedModeData, ITokenizationCustomization} from 'vs/editor/common/modes/supports/tokenizationSupport';\r\nimport {TextualSuggestSupport} from 'vs/editor/common/modes/supports/suggestSupport';\r\nimport {IEditorWorkerService} from 'vs/editor/common/services/editorWorkerService';\r\nimport {IConfigurationService} from 'vs/platform/configuration/common/configuration';\r\n\r\n\r\nvar brackets = (function() {\r\n\r\n\tlet bracketsSource = [\r\n\t\t{ tokenType:'delimiter.bracket.php', open: '{', close: '}' },\r\n\t\t{ tokenType:'delimiter.array.php', open: '[', close: ']' },\r\n\t\t{ tokenType:'delimiter.parenthesis.php', open: '(', close: ')' }\r\n\t];\r\n\r\n\tlet MAP: {\r\n\t\t[text:string]:{\r\n\t\t\ttokenType: string;\r\n\t\t}\r\n\t} = Object.create(null);\r\n\r\n\tfor (let i = 0; i < bracketsSource.length; i++) {\r\n\t\tlet bracket = bracketsSource[i];\r\n\t\tMAP[bracket.open] = {\r\n\t\t\ttokenType: bracket.tokenType\r\n\t\t};\r\n\t\tMAP[bracket.close] = {\r\n\t\t\ttokenType: bracket.tokenType\r\n\t\t};\r\n\t}\r\n\r\n\treturn {\r\n\t\tstringIsBracket: (text:string): boolean => {\r\n\t\t\treturn !!MAP[text];\r\n\t\t},\r\n\t\ttokenTypeFromString: (text:string): string => {\r\n\t\t\treturn MAP[text].tokenType;\r\n\t\t}\r\n\t};\r\n})();\r\n\r\nvar delimiters = '+-*%&|^~!=<>(){}[]/?;:.,@';\r\nvar separators = '+-*/%&|^~!=<>(){}[]\"\\'\\\\/?;:.,#';\r\n\r\nvar whitespace = '\\t ';\r\n\r\nvar isKeyword = objects.createKeywordMatcher([\r\n\t'abstract', 'and', 'array', 'as', 'break',\r\n\t'callable', 'case', 'catch', 'cfunction', 'class', 'clone',\r\n\t'const', 'continue', 'declare', 'default', 'do',\r\n\t'else', 'elseif', 'enddeclare', 'endfor', 'endforeach',\r\n\t'endif', 'endswitch', 'endwhile', 'extends', 'false', 'final',\r\n\t'for', 'foreach', 'function', 'global', 'goto',\r\n\t'if', 'implements', 'interface', 'instanceof', 'insteadof',\r\n\t'namespace', 'new', 'null', 'object', 'old_function', 'or', 'private',\r\n\t'protected', 'public', 'resource', 'static', 'switch', 'throw', 'trait',\r\n\t'try', 'true', 'use', 'var', 'while', 'xor',\r\n\t'die', 'echo', 'empty', 'exit', 'eval',\r\n\t'include', 'include_once', 'isset', 'list', 'require',\r\n\t'require_once', 'return', 'print', 'unset', 'yield',\r\n\t'__construct'\r\n]);\r\n\r\nvar isCompileTimeConstant = objects.createKeywordMatcher([\r\n\t'__CLASS__',\r\n\t'__DIR__',\r\n\t'__FILE__',\r\n\t'__LINE__',\r\n\t'__NAMESPACE__',\r\n\t'__METHOD__',\r\n\t'__FUNCTION__',\r\n\t'__TRAIT__'\r\n]);\r\n\r\nvar isPreDefinedVariable =  objects.createKeywordMatcher([\r\n\t'$GLOBALS',\r\n\t'$_SERVER',\r\n\t'$_GET',\r\n\t'$_POST',\r\n\t'$_FILES',\r\n\t'$_REQUEST',\r\n\t'$_SESSION',\r\n\t'$_ENV',\r\n\t'$_COOKIE',\r\n\t'$php_errormsg',\r\n\t'$HTTP_RAW_POST_DATA',\r\n\t'$http_response_header',\r\n\t'$argc',\r\n\t'$argv'\r\n]);\r\n\r\nvar isDelimiter = (character:string) => {\r\n\treturn delimiters.indexOf(character) > -1;\r\n};\r\n\r\nvar isVariable = (character:string) => {\r\n\treturn (character[0] === '$');\r\n};\r\n\r\nexport class PHPState extends AbstractState {\r\n\r\n\tprivate name:string;\r\n\tprivate whitespaceTokenType:string;\r\n\tpublic parent:Modes.IState;\r\n\r\n\tconstructor(mode:Modes.IMode, name:string, parent:Modes.IState, whitespaceTokenType:string='') {\r\n\t\tsuper(mode);\r\n\t\tthis.name = name;\r\n\t\tthis.parent = parent;\r\n\t\tthis.whitespaceTokenType = whitespaceTokenType;\r\n\t}\r\n\r\n\tpublic equals(other:Modes.IState):boolean {\r\n\t\tif (other instanceof PHPState) {\r\n\t\t\treturn (\r\n\t\t\t\tsuper.equals(other) &&\r\n\t\t\t\tthis.name === other.name &&\r\n\t\t\t\tthis.whitespaceTokenType === other.whitespaceTokenType &&\r\n\t\t\t\tAbstractState.safeEquals(this.parent, other.parent)\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic tokenize(stream:Modes.IStream):Modes.ITokenizationResult {\r\n\t\tstream.setTokenRules(separators, whitespace);\r\n\t\tif (stream.skipWhitespace().length > 0) {\r\n\t\t\treturn { type: this.whitespaceTokenType };\r\n\t\t}\r\n\t\treturn this.stateTokenize(stream);\r\n\t}\r\n\r\n\tpublic stateTokenize(stream:Modes.IStream):Modes.ITokenizationResult {\r\n\t\tthrow new Error('To be implemented');\r\n\t}\r\n\r\n}\r\n\r\nexport class PHPString extends PHPState {\r\n\r\n\tprivate delimiter:string;\r\n\tprivate isAtBeginning:boolean;\r\n\r\n\tconstructor(mode:Modes.IMode, parent:Modes.IState, delimiter:string, isAtBeginning:boolean=true) {\r\n\t\tsuper(mode, 'string', parent, 'string.php');\r\n\t\tthis.delimiter = delimiter;\r\n\t\tthis.isAtBeginning = isAtBeginning;\r\n\t}\r\n\r\n\tpublic makeClone():AbstractState {\r\n\t\treturn new PHPString(this.getMode(), AbstractState.safeClone(this.parent), this.delimiter, this.isAtBeginning);\r\n\t}\r\n\r\n\tpublic equals(other:Modes.IState):boolean {\r\n\t\tif (other instanceof PHPString) {\r\n\t\t\treturn (\r\n\t\t\t\tsuper.equals(other) &&\r\n\t\t\t\tthis.delimiter === other.delimiter &&\r\n\t\t\t\tthis.isAtBeginning === other.isAtBeginning\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic tokenize(stream:Modes.IStream):Modes.ITokenizationResult {\r\n\t\tvar readChars = this.isAtBeginning ? 1 : 0;\r\n\t\tthis.isAtBeginning = false;\r\n\t\twhile (!stream.eos()) {\r\n\t\t\tvar c = stream.next();\r\n\t\t\tif (c === '\\\\') {\r\n\t\t\t\tif (readChars === 0) {\r\n\t\t\t\t\tif (stream.eos()) {\r\n\t\t\t\t\t\treturn { type: 'string.php', nextState: this.parent  };\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tstream.next();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstream.goBack(1);\r\n\t\t\t\t\treturn { type: 'string.php' };\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if (c === this.delimiter) {\r\n\t\t\t\treturn { type: 'string.php' , nextState: this.parent };\r\n\t\t\t}\r\n\t\t\treadChars += 1;\r\n\t\t}\r\n\t\treturn { type: 'string.php' };\r\n\t}\r\n}\r\n\r\nexport class PHPNumber extends PHPState {\r\n\r\n\tprivate firstDigit:string;\r\n\r\n\tconstructor(mode:Modes.IMode, parent:Modes.IState, firstDigit:string) {\r\n\t\tsuper(mode, 'number', parent);\r\n\t\tthis.firstDigit = firstDigit;\r\n\t}\r\n\r\n\tpublic makeClone():AbstractState {\r\n\t\treturn new PHPNumber(this.getMode(), AbstractState.safeClone(this.parent), this.firstDigit);\r\n\t}\r\n\r\n\tpublic equals(other:Modes.IState):boolean {\r\n\t\tif (other instanceof PHPNumber) {\r\n\t\t\treturn (\r\n\t\t\t\tsuper.equals(other) &&\r\n\t\t\t\tthis.firstDigit === other.firstDigit\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic tokenize(stream:Modes.IStream):Modes.ITokenizationResult {\r\n\t\tvar character = this.firstDigit;\r\n\t\tvar base = 10, isDecimal = false, isExponent = false;\r\n\t\tif (character === '0' && !stream.eos()) {\r\n\t\t\tcharacter = stream.peek();\r\n\t\t\tif (character.toLowerCase() === 'x') { base = 16; }\r\n\t\t\telse if (character.toLowerCase() === 'b') { base = 2; }\r\n\t\t\telse if (character === '.') { base = 10; }\r\n\t\t\telse if (isDigit(character, 8)) { base = 8; }\r\n\t\t\telse {\r\n\t\t\t\treturn { type: 'number.php', nextState: this.parent };\r\n\t\t\t}\r\n\t\t\tstream.next();\r\n\t\t}\r\n\t\twhile (!stream.eos()) {\r\n\t\t\tcharacter = stream.peek();\r\n\t\t\tif (isDigit(character,base)) {\r\n\t\t\t\tstream.next();\r\n\t\t\t} else if (base === 10) {\r\n\t\t\t\tif (character === '.' && !isExponent && !isDecimal) {\r\n\t\t\t\t\tisDecimal = true;\r\n\t\t\t\t\tstream.next();\r\n\t\t\t\t} else if (character === 'e' && !isExponent) {\r\n\t\t\t\t\tisExponent = true;\r\n\t\t\t\t\tstream.next();\r\n\t\t\t\t\tif (!stream.eos() && stream.peek() === '-') {\r\n\t\t\t\t\t\tstream.next();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t} else if (base === 8 && isDigit(character,10)) {\r\n\t\t\t\tbase = 10;\r\n\t\t\t\tstream.next();\r\n\t\t\t} else {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar tokenType = 'number';\r\n\t\tif (base === 16) {\r\n\t\t\ttokenType += '.hex';\r\n\t\t} else if (base === 8) {\r\n\t\t\ttokenType += '.octal';\r\n\t\t} else if (base === 2) {\r\n\t\t\ttokenType += '.binary';\r\n\t\t}\r\n\t\treturn { type: tokenType + '.php', nextState: this.parent };\r\n\t}\r\n}\r\n\r\nexport class PHPLineComment extends PHPState {\r\n\r\n\tconstructor(mode:Modes.IMode, parent:Modes.IState) {\r\n\t\tsuper(mode, 'comment', parent, 'comment.php');\r\n\t}\r\n\r\n\tpublic makeClone():AbstractState {\r\n\t\treturn new PHPDocComment(this.getMode(), AbstractState.safeClone(this.parent));\r\n\t}\r\n\r\n\tpublic equals(other:Modes.IState):boolean {\r\n\t\tif (other instanceof PHPLineComment) {\r\n\t\t\treturn (\r\n\t\t\t\tsuper.equals(other)\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic tokenize(stream:Modes.IStream):Modes.ITokenizationResult {\r\n\t\twhile (!stream.eos()) {\r\n\t\t\tvar token = stream.next();\r\n\t\t\tif (token === '?' && !stream.eos() && stream.peek() === '>') {\r\n\t\t\t\tstream.goBack(1);\r\n\t\t\t\treturn { type: 'comment.php', nextState: this.parent};\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn { type: 'comment.php', nextState: this.parent };\r\n\t}\r\n}\r\n\r\nexport class PHPDocComment extends PHPState {\r\n\r\n\tconstructor(mode:Modes.IMode, parent:Modes.IState) {\r\n\t\tsuper(mode, 'comment', parent, 'comment.php');\r\n\t}\r\n\r\n\tpublic makeClone():AbstractState {\r\n\t\treturn new PHPDocComment(this.getMode(), AbstractState.safeClone(this.parent));\r\n\t}\r\n\r\n\tpublic equals(other:Modes.IState):boolean {\r\n\t\tif (other instanceof PHPDocComment) {\r\n\t\t\treturn (\r\n\t\t\t\tsuper.equals(other)\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic tokenize(stream:Modes.IStream):Modes.ITokenizationResult {\r\n\t\twhile (!stream.eos()) {\r\n\t\t\tvar token = stream.next();\r\n\t\t\tif (token === '*' && !stream.eos() && !stream.peekWhitespace() && stream.peek() === '/') {\r\n\t\t\t\tstream.next();\r\n\t\t\t\treturn { type: 'comment.php', nextState: this.parent};\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn { type: 'comment.php' };\r\n\t}\r\n}\r\n\r\nexport class PHPStatement extends PHPState {\r\n\r\n\tconstructor(mode:Modes.IMode, parent:Modes.IState) {\r\n\t\tsuper(mode, 'expression', parent);\r\n\t}\r\n\r\n\tpublic makeClone():AbstractState {\r\n\t\treturn new PHPStatement(this.getMode(), AbstractState.safeClone(this.parent));\r\n\t}\r\n\r\n\tpublic equals(other:Modes.IState):boolean {\r\n\t\tif (other instanceof PHPStatement) {\r\n\t\t\treturn (\r\n\t\t\t\tsuper.equals(other)\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic stateTokenize(stream:Modes.IStream):Modes.ITokenizationResult {\r\n\t\tif (isDigit(stream.peek(), 10)) {\r\n\t\t\treturn { nextState: new PHPNumber(this.getMode(), this, stream.next()) };\r\n\t\t}\r\n\t\tif (stream.advanceIfString('?>').length) {\r\n\t\t\treturn { type: 'metatag.php', nextState: this.parent };\r\n\t\t}\r\n\r\n\t\tvar token = stream.nextToken();\r\n\t\tif (isKeyword(token.toString().toLowerCase())) {\r\n\t\t\treturn { type: 'keyword.php' };\r\n\t\t} else if (isCompileTimeConstant(token)) {\r\n\t\t\treturn { type: 'constant.php' };\r\n\t\t} else if (isPreDefinedVariable(token)) {\r\n\t\t\treturn { type: 'variable.predefined.php' };\r\n\t\t} else if (isVariable(token)) {\r\n\t\t\treturn { type: 'variable.php' };\r\n\t\t} else if (token === '/') {\r\n\t\t\tif (!stream.eos() && !stream.peekWhitespace()) {\r\n\t\t\t\tswitch(stream.peekToken()) {\r\n\t\t\t\t\tcase '/':\r\n\t\t\t\t\t\treturn { nextState: new PHPLineComment(this.getMode(), this) };\r\n\t\t\t\t\tcase '*':\r\n\t\t\t\t\t\tstream.nextToken();\r\n\t\t\t\t\t\treturn { nextState: new PHPDocComment(this.getMode(), this) };\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (token === '#') {\r\n\t\t\treturn { nextState: new PHPLineComment(this.getMode(), this) };\r\n\t\t} else if (token === '\"' || token === '\\'') {\r\n\t\t\treturn { nextState: new PHPString(this.getMode(), this, token) };\r\n\t\t} else if (brackets.stringIsBracket(token)) {\r\n\t\t\treturn {\r\n\t\t\t\ttype: brackets.tokenTypeFromString(token)\r\n\t\t\t};\r\n\t\t} else if (isDelimiter(token)) {\r\n\t\t\treturn { type: 'delimiter.php' };\r\n\t\t}\r\n\t\treturn { type: '' };\r\n\t}\r\n}\r\n\r\nexport class PHPPlain extends PHPState {\r\n\r\n\tconstructor(mode:Modes.IMode, parent:Modes.IState) {\r\n\t\tsuper(mode, 'plain', parent);\r\n\t}\r\n\r\n\tpublic makeClone():AbstractState {\r\n\t\treturn new PHPPlain(this.getMode(), AbstractState.safeClone(this.parent));\r\n\t}\r\n\r\n\tpublic equals(other:Modes.IState):boolean {\r\n\t\tif (other instanceof PHPPlain) {\r\n\t\t\treturn (\r\n\t\t\t\tsuper.equals(other)\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic stateTokenize(stream:Modes.IStream):Modes.ITokenizationResult {\r\n\t\tif (stream.advanceIfStringCaseInsensitive('<?php').length ||\r\n\t\tstream.advanceIfString('<?=').length || stream.advanceIfString('<%=').length ||\r\n\t\tstream.advanceIfString('<?').length || stream.advanceIfString('<%').length) {\r\n\t\t\treturn {\r\n\t\t\t\ttype: 'metatag.php',\r\n\t\t\t\tnextState: new PHPStatement(this.getMode(), new PHPEnterHTMLState(this.getMode(), this.parent))\r\n\t\t\t};\r\n\t\t}\r\n\t\tstream.next();\r\n\t\treturn { type: '' };\r\n\t}\r\n}\r\n\r\nexport class PHPEnterHTMLState extends PHPState {\r\n\r\n\tconstructor(mode:Modes.IMode, parent:Modes.IState) {\r\n\t\tsuper(mode, 'enterHTML', parent);\r\n\t}\r\n\r\n\tpublic makeClone():AbstractState {\r\n\t\treturn new PHPEnterHTMLState(this.getMode(), AbstractState.safeClone(this.parent));\r\n\t}\r\n\r\n\tpublic equals(other:Modes.IState):boolean {\r\n\t\tif (other instanceof PHPEnterHTMLState) {\r\n\t\t\treturn (\r\n\t\t\t\tsuper.equals(other)\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n}\r\n\r\nexport class PHPMode extends AbstractMode implements ITokenizationCustomization {\r\n\r\n\tpublic static LANG_CONFIG:LanguageConfiguration = {\r\n\t\twordPattern: createWordRegExp('$_'),\r\n\r\n\t\tcomments: {\r\n\t\t\tlineComment: '//',\r\n\t\t\tblockComment: ['/*', '*/']\r\n\t\t},\r\n\r\n\t\tbrackets: [\r\n\t\t\t['{', '}'],\r\n\t\t\t['[', ']'],\r\n\t\t\t['(', ')']\r\n\t\t],\r\n\r\n\t\tautoClosingPairs: [\r\n\t\t\t{ open: '{', close: '}', notIn: ['string.php'] },\r\n\t\t\t{ open: '[', close: ']', notIn: ['string.php'] },\r\n\t\t\t{ open: '(', close: ')', notIn: ['string.php'] },\r\n\t\t\t{ open: '\"', close: '\"', notIn: ['string.php'] },\r\n\t\t\t{ open: '\\'', close: '\\'', notIn: ['string.php'] }\r\n\t\t]\r\n\t};\r\n\r\n\tpublic tokenizationSupport: Modes.ITokenizationSupport;\r\n\r\n\tprivate modeService:IModeService;\r\n\r\n\tconstructor(\r\n\t\tdescriptor:Modes.IModeDescriptor,\r\n\t\t@IModeService modeService: IModeService,\r\n\t\t@IConfigurationService configurationService: IConfigurationService,\r\n\t\t@IEditorWorkerService editorWorkerService: IEditorWorkerService\r\n\t) {\r\n\t\tsuper(descriptor.id);\r\n\t\tthis.modeService = modeService;\r\n\r\n\t\tthis.tokenizationSupport = new TokenizationSupport(this, this, true, false);\r\n\r\n\t\tLanguageConfigurationRegistry.register(this.getId(), PHPMode.LANG_CONFIG);\r\n\r\n\t\tif (editorWorkerService) {\r\n\t\t\tModes.SuggestRegistry.register(this.getId(), new TextualSuggestSupport(editorWorkerService, configurationService), true);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic asyncCtor(): WinJS.Promise {\r\n\t\treturn this.modeService.getOrCreateMode('text/html');\r\n\t}\r\n\r\n\tpublic getInitialState():Modes.IState {\r\n\t\t// Because AbstractMode doesn't allow the initial state to immediately enter a nested\r\n\t\t// mode, we will enter a nested mode ourselves\r\n\t\tvar htmlMode = this.modeService.getMode('text/html');\r\n\t\tvar htmlState:Modes.IState = htmlMode.tokenizationSupport.getInitialState();\r\n\t\thtmlState.setStateData(new PHPEnterHTMLState(this, null));\r\n\t\treturn htmlState;\r\n\t}\r\n\r\n\tpublic enterNestedMode(state:Modes.IState):boolean {\r\n\t\treturn state instanceof PHPEnterHTMLState;\r\n\t}\r\n\r\n\tpublic getNestedModeInitialState(myState:Modes.IState): { state:Modes.IState; missingModePromise:WinJS.Promise; } {\r\n\t\t// Recall previous HTML state, that was saved in .parent, and carried over by the PHP states\r\n\t\t// Also, prevent a .clone() endless loop by clearing the .parent pointer\r\n\t\t// (the result will have its stateData point to myState)\r\n\t\tvar result = (<PHPState>myState).parent;\r\n\t\t(<PHPState>myState).parent = null;\r\n\t\treturn {\r\n\t\t\tstate: result,\r\n\t\t\tmissingModePromise: null\r\n\t\t};\r\n\t}\r\n\r\n\tpublic getLeavingNestedModeData(line:string, state:Modes.IState):ILeavingNestedModeData {\r\n\t\t// Leave HTML if <? is found on a line\r\n\t\tvar match:any = /<\\?/i.exec(line);\r\n\t\tif (match !== null) {\r\n\t\t\treturn {\r\n\t\t\t\tnestedModeBuffer: line.substring(0, match.index),\r\n\t\t\t\tbufferAfterNestedMode: line.substring(match.index),\r\n\t\t\t\tstateAfterNestedMode: new PHPPlain(this, null)\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic onReturningFromNestedMode(myStateAfterNestedMode:Modes.IState, lastNestedModeState:Modes.IState): void {\r\n\t\t// Record in .parent the last HTML state before we entered into PHP\r\n\t\t// The PHP states will take care of passing .parent along\r\n\t\t// such that when we enter HTML again, we can recover the HTML state from .parent\r\n\t\t(<PHPPlain>myStateAfterNestedMode).parent = lastNestedModeState;\r\n\t}\r\n}\r\n"]}